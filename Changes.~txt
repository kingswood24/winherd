Version V6.0 R1.5

01/07/21 /MK Additional Feature - uUpdateTables - UpdateAnimals - Added PenName field to store the Feed Group name even after the animal is sold - Kepak.
                                                                - Added sub procedure that will add the Feed Group name to the PenName for animals in the herd
                                                                  after the field PenName is added to the table.
02/07/21 /MK Change - MenuUnit - Added Pen Name column to grid from animals table - Kepak.
                    - uHerdSync - CreateHerdSyncData - Use LEFT JOIN instead of INNER JOIN when calvings table wasn't updated with calf recorded - Create Calving Utility required to fix.
                    - Groups - AddToGroup/RemoveAnimalFromGrp - Update the Pen Name field in the animals table - only remove Pen Name if animal is removed from a group but not after sale.
05/07/21 /MK Change - MenuUnit - Only show the Pen Name column for beef herds.
                    - uMediPur - CalcMediPurchQtyRemaining - Show the prompt to the user to only include batches marked in use - Alec (Fletchers).


Version V6.0 R1.4

09/06/21 /MK Change - uHerdSync - ReadHerdSyncData - When bring in an animal number with a length > 10 then move on but log problem.
17/06/21 /MK Bug Fix - uSireAnalysis - ProcessCalfTable - When filtering the qWeighInfo query clear the filter after using the data.
             Change - MenuUnit - cxAnimalGridViewOverallGainPerDayGetDisplayText - If the OverAllGainPerDay is 0.00 then display text should be blank - GL request.

Version V6.0 R1.3

04/06/21 /MK Bug Fix - uDataBackup - RestoreData - Some backup files from the server can come down as 0MB, give error to choose another file.

Version V6.0 R1.2

21/05/21 /MK Bug Fix - MenuUnit - I found that moving across the grid was very slow with Simon McDermots data which has 11,000 animals and 27,000 events.
                                  I created a new private variable FPrintGrid that is set to False on FormCreate, its set to True on PrintGrid and then False after PrintGrid.
                                  This will stop the new DBTableSummaryItem.GetText from running until the user clicks print which is the only time the footer is showing.

Version V6.0 R1.1

12/05/21 /MK Change - MenuUnit - SetUpForm - Moved btnRefreshAnimals button above the grid of animals - no need to disable it as all herds will use it eventually.
14/05/21 /MK Additional Feature - MenuUnit - actRefreshAnimals - Added calculation of Gross Margin from WinData.MDGridPurchData and WinData.MDGridSaleData.
                                - DairyData - GetEventLookupData/AnimalFileByIDBeforeOpen - Added SalesGrade and GrossMargin so it will appear on the main grid.
18/05/21 /MK Change - DairyData - LoadPreferences - Gerry said to default the NatIdToAnimalNo to True.
                                - QueryBandonRegistrations - Don't include animals from Animals and AIMAnimalReg table marked as Registered or Queried as per uAimAnimalRegistration
                    - uCalfRegFlt - BuildTable - Remove animals that are in the Animals and AIMAnimalReg table as Registered or Queried as per uAimAnimalRegistration.

Version V6.0 R1.0

30/04/21 /MK Bug Fix - DairyData - GroupsBeforeDelete - Noticed with Ben Charmley that a zero GroupId was added to the DeletedGrps table.
             Additional Feature - DairyData - GetEventLookupData/AnimalFileByIDBeforeOpen - Added PricePerKg to MDGridSaleData so it will appear on main grid.
05/05/21 /MK Additional Feature - DairyData - GetEventLookupData/AnimalFileByIDBeforeOpen - Added ColdDeadWt to MDGridSaleData so it will appear on main grid.
                                - MenuUnit - Added the Sale Dead Weight column.
                                           - Added summary for new Sale Price, Sale Dead Weight, Purchase Weight, Purchase Price,
                                             Days on Farm and Price Per Kg.

Version V6.0 R0.3

29/04/21 /MK Change - uHerdLookup - CreateMDPureBredBreedData - Changed this table to include all pure bred breeds regardless if they are in use or not - GL/Alan McCormick.

Version V6.0 R0.2

21/04/21 [V6.0 R0.2] /MK Bug Fix - LoadBirthsToBeRegistered - Removed validation of tag number as we don't have a validation for UK tags only Eire and NI tags - Angela Hughes.

Version V6.0 R0.1

31/03/21 /MK Change - MenuUnit - Changed Modify Grid to Change Grid - GL request.
                               - Changed "Sire Breed Only" to "Other Sires" - GL request.
                    - uModifyGridCols - Changed Caption to "Change Grid Columns" - GL request.
01/04/21 MK Change - MenuUnit - Add Sub Menu to Stock Sires.
                              - Add menu items to new sub menu for List Stock Sires and Purchase Stock Bull.
                   - uAddSire - Added NatIDNum box for NonHerdSire SireType so tag number can be added.
                              - Added validation for new NatIDNum box.
                              - Added CheckBox to show/hide new NatIDnum box.
                              - Only show explanatory text regarding ICBF for Irish herds.
06/04/21 /MK Bug Fix - uCreateEvents - ProcessHealth - Added new bRecordEvent variable to store whether to record the event or not to fix issue where
                                                       if event already exists, the focused record was moving to the next event but it wasn't being checked.

Version V5.9 R9.7

21/04/21 /MK Bug Fix - uCTSBirthReg - LoadBirthsToBeRegistered - Removed validation of tag number as we don't have a validation for UK tags only Eire and NI tags - Angela Hughes.

Version V5.9 R9.6

25/03/21 /MK Change - uSalesReport - LoadOtherData - Aoife (Bellingham) asked if the restriction of crush weights this could be increased to 28 days as the lads in the yard are behind with tagging.

Version V5.9 R9.5

10/03/21 /MK Additional Feature - uModifyGridCols - Added a Select/DeSelect All button.
18/03/21 /MK Change - uMartImportByFile - ImportFromXML - Default the QualityAssured field to False so that if the QA field is not found at least the box is unticked.
                    - uMartImportByFileReview - Allow editing of the Quality Assured field - GL/Albert Thompson.

Version V5.9 R9.4

04/03/21 /MK Bug Fix - MenuUnit - StockBullsInUseFilter - Only show bulls that are In Use ignore the InHerd flag - GL/Cantwells Court.

Version V5.9 R9.3

04/03/21 /MK Additional Feature - uSalesReport - Cattle Costs - Change Sale Date to Date Of Birth "easy 5 minute change" - GL/C&J Meats.

Version V5.9 R9.2

03/03/21 /MK Change - ElectronicRemittanceConverter - Convert - If a null date is found as the Event Date give error and don't covert the file - Grace (C&J Meats).
             Additional Feature - uAIMAnimalMovements - RecordMovementsOn - If a bull is bought into the herd set its animal number to last 5 digits and set it as breeding.
                                - uAIMHerdRecImport - ProcessAnimals - If a bull is bought into the herd set its animal number to last 5 digits and set it as breeding. 

Version V5.9 R9.1

26/02/21 /MK Change - MenuUnit - Removed filter on the A1A2 column as it wasn't working.
02/03/21 /MK Additional Feature - uFilters - I added a filter for A1A2 results because the cxGrid filter wasn't working - Padraic Harnan.
                                - Added changes to allow filter for A1A2Result from Filter screen - Padraic Harnan.                                 

Version V5.9 R9.0

25/02/21 MK Change - uCTSBirthReg - LoadBirthsToBeRegistered - If the sire has a tag number the use that as the identifier else use Animal No./Short Name - Wendy Radley/Muldowney.
                                  - Changed caption of Sire NatId to Sire Identifier to show the user that the sire can be the tag or animal no.

Version V5.9 R8.6

25/02/21 /MK Change - uFileAttachmentImport - BuildFileList - Used a MemDataSet to allows sort by the date in descending order - Mary Brady request.
26/02/21 /MK Additional Feature - uNutrientProductionProjectionRptScr - Enabled help button with new nutprodrep.htm page.

Version V5.9 R8.5

19/02/21 /MK Change - KRoutines - GetInternetIPAddress - Added try except around this function because of "Connection Closed Gracefully" error - Kathleen Buckley.
23/02/21 /MK Change - uHerdSync - CreateExistingClientIdElement - Changed format of eventDate node to 4 digit year to match server format
                                                                - Changed format of dateofBirth node to 4 digit year to match server format
                                                                - OpenCalvingQuery - Change LEFT JOIN to INNER JOIN to make the query quicker.

Version V5.9 R8.4

11/02/21 /MK Change - ElectronicRemittanceConverter - Convert - Country code was never added to the converter.
                    - uRemittance - BuildGridFromFile - Added a check for NI country code as well for Foyle Groups file.
12/02/21 /MK Change - ElectronicRemittanceConverter - Added consts for GB file parameters.
                                                    - New type created for TBeefRemitCountry for either Ireland or GB.
                                                    - Convert - If TBeefRemitCountry is GB then set fields in field depending on GB consts.

Version V5.9 R8.3

09/02/21 /SP Change - uHerdSync - CreateHerdSyncData - Added ReportInDays to the Health events to be synced to the server.
09/02/21 /MK Change - DairyData - CheckFiles - Set all vaccination events that have a report in days of a week or more as modified so they up to the server again with the report in days - SP request.

Version V5.9 R8.2

05/02/21 /MK Bug Fix - uHerdSync - AddEventToEventsExt - Using Client instead of ClientId and not using double quotes around AClientId.

Version V5.9 R8.1

05/02/21 /MK Bug Fix - uActionWarningsReminders - TBreedingData.Create - Temp Breeding Tables were not created before report is built.

Version V5.9 R8.0

16/12/20 /MK Change - MainUnit - Show Parlour Link and Ration Calc icons but give "acquire this facility" error if the module is not installed i.e. not purchased.
                    - uDanRyanImport - FilterGridTable - Default the ActivePageIndex to Pregnant as this event should always exist.
21/12/20 /MK Change - MenuUnit - DoFilter - If the filter is Bulls In Use and some bulls don't have breeds, show information message and sort by breed code.
                               - ClearAnimalSelection - If the sort was changed by the filter of Bulls In Use then set sort back to original sorted column.
11/01/21 /MK Bug Fix - DairyData - qHerdVaccineReminders - Changed SQL to include all vaccination disease lookup codes.
19/01/21 /MK Bug Fix - uVaccineDueOn - QueryData - Zero ReminderDays is saved into the database as Null. The query needs to check for that also.
22/01/21 /MK Bug Fix - DairyData - qHerdVaccineReminders & qHerdDosageReminders - Changed SQL to exclude events that don't have a ReportInDays.

Version V5.9 R7.9

22/12/20 /MK Change - uNutrientProductionProjectionRptScr - Changed Forage Area from Spin Edit to Current Edit so as not to show the spin buttons - GL request.
                                                          - Added a label under the Forecast Purchases & Sales to explain that movements are assumed to ocurr on the first date of the month - GL request.
Version V5.9 R7.8

04/12/20 /MK Change - uHerdSync - CreateHealthEvents - If multi treatment then save first event as dryoff and any following treatments as remedy events.
                                                     - Also change the comment of following treatments of dry off events to Remedy Event similar to non Dry Off Events.
                                                     - Set new DryOffSaved variable boolean to true if event is dry off and its the first treatment.
                                - AddEventToEventsExt - No need to check for EventId as we allow events to come in here that were not saved
                                                        because the animal doesn't exist in the database so push back the event as synced.
                    - uRemittance, DaZMisc - Added Jennings to the list of factories that a file can be requested from.   
15/12/20 /MK Change - GenTypesConst - Changed cUnitedDairiesURL URL as requested by George (TGM).
                    - uCallToExternalProgram - CallTeamViewer - Changed TeamViewer URL to look at new Kingswood log version of TeamViewer as TeamViewer9 is not supported.
16/12/20 /MK Bug Fix - SaleEligibility - Fixed problem where the Days To FQAS and Date of FQAS headings were appearing report but the data wasn't - TGM reported bug.
                                       - Fixed problem where "Show animals with Days To FQAS on or before" - TGM reported bug.

Version V5.9 R7.7

02/12/20 /MK Change - uSystem - Removed Emer Howard's phone number from Evening Support but leave Evening Support - GL request.
02/12/20 /MK Bug Fix - uUpdateTables - UpdateGenLook - Changed Foot to Hoof and fixed spelling misate of Paring - GL request.

Version V5.9 R7.6

25/11/20 /MK Change - SetupAnimals - SetMilkDiskGridDisplayColumns - Default to Cummulative Yield.
26/11/20 /MK Bug Fix - DairyData - GetUserHerdId - I moved the OwnerFile.Open in OpenAllTables up to the top as it is a primary table to open.
                                                   The reason I did this was, if the OwnerFile can't be opened (because of corruption) the user
                                                   wasn't told if the table before OwnerFile was also corrupted. Shane had a look at the change
                                                   I made and found that the setting of OwnerFile.Active to AlreadyOpen was causing other forms
                                                   that locate on the OwnerFile were getting the error "OwnerFile : Cannot perform this operation on a closed database".

Version V5.9 R7.5

20/11/20 /MK Change - uHerdSync - LocateAnimal - Search for animals In Herd first, if the animal is not in herd then use a filter for the tag number and get recent instance of animal.
                    - uNutrientProductionProjectionRptScr - If there are no Waste Productions Rates give error with info on how to enter the rates.
                                                          - HasWasteProdRates - No function to check whether the user has HasWasteProdRates to view the report.
             Additional Feature - uHerdSync - CreateHerdSyncData - Added code to sync out the Mastitis and Lameness events - Geraldine Murphy
23/11/20 /MK Additional Feature - ActionReminderFilt - Added the cmboServiceType combo box.
                                                     - FormCreate - Add all service types to the new cmboServiceType combo box as well as an option to select All.
                                                     - BuildDueToCalve - Filter out animals due to calve by service type.
                                - DairyData - CheckFiles - Update all service events that have sexed semen selected to have the new Sexed Semen service type.
                                - uUpdateTables - UpdateGenLook - Add Sexed Semen service type if it can't be found already.

Version V5.9 R7.3

13/11/20 /MK Bug Fix - ActionReminderFilt - BuildDueToCalve - Use Left Join instead of Inner Join as Inner Join only brings due to calve animals in milk disk table.
16/11/20 /MK Change - MenuUnit - Calving button - If its a Suckler herd only show the help drop-down-menu.

Version V5.9 R7.2

04/11/20 /MK Change - DueForDryingOff - Changed Pregnancy to Preg Status - GL request.
                                      - If the PD is Undefined then change it to ? similar to Due to Calve - GL request.
                    - GenTypesConst - Added a const string array for KeyReports.
                    - DairyData - CheckFiles - No need to store the key reports in the Reports table as we're building these from a string array.
                    - uReportFilters - LoadGrid - Build the KeyReports from new string array const.
05/11/20 /MK Change - DairyData - CheckFiles - Delete the old Weighing Report favourite from the Reports table as we have a 3 seperate favourites.
             Bug Fix - uWeighingFilt - sbViewClick - Changed PurchWeight to BirthWeight in the Target Weighing Report.
06/11/20 /MK Change - uDrugsRegister - EditVPANo1Click, ManualEnterVPANo1Click - SP suggested that I don't set the FocusedRecordIndex but instead use a locate on the Id - John Roche.
             Additional Feature - uCallToExternalProgram - Added new CallCalvingHelp procedure that opens the new Calving help file on the Blacknight server.
                                - MenuUnit - Added menu item to mGroup menu to add Help button that links to new Calving help PDF file on the server.
                                - uCalvingEvent - Added Help button that links to new PDF file on the server.
11/11/20 /MK Change - DairyData - OpenAllTables - Removed the try, except, end around opening the tables as it was causing the FDBOpenRetryCount not to reindex.
                                - OpenAndCheckTables - Instead of ShowMessage(e.Message) add error to applog and give Error Opening Database error + e.Message.
                    - uReportOptions - I removed the Include Target Weighing Report and Target Weights option from this screen as its moved to uWeighingFilt - GL request. 
             Additional Feature - ReportDefaults - New TWeighingDefaults property for IncludeTargetWeights. 
12/11/20 /MK Bug Fix - uEventDataHelper - Any query using PreSale = False should also use PreSale IS NULL as it won't return data if the PreSale is null.      
             Change - DairyData - SetReportAsFavourite - Changed logic so that the reports could be added in the order they were added.

Version V5.9 R7.1

02/11/20 /MK Change - uWeighingFilt - If the user ticks the "Add Report as Favourite" use the new FWeighRepType object that stores the report type selected.
                    - DairyData - RemoveReportFromStore - Added a new function that deletes the Weighing Report from the Reports table because of the new Weighing Report types.
                    - uReportFilters - LoadGrid - Order favourites by the order in which it was added not the AmountUsed - GL request.
03/11/20 /MK Change - DairyData - OpenAllTables - Moved the Weighings table to the end of procedure so it doesn't upset the program opening.
                                                - Moved Ownerfile to the top of the procedure as its a required table.
                                                - If the report is a key report then delete it and add it back in again so it appears on bottom of favourite list.

Version V5.9 R7.0

30/10/20 /MK Change - ActionReminderFilt - BuildDueToCalve - Changed SQL after speaking with Shane to include Milk information and to use joins instead of From Animals A, Events E.
                                                           - Take YieldToDate from new fields in the query.
                                                           - Abreviate the Service Type as requested by GL.
                                                           - Make change to LastBirth so that we don't show 1=, 2=, 3=, 4= as request by GL.
                                                           - No need for this Locate on MilkDisk as the initial query is getting this info.
                                                           - Default Status to Milk Status - GL request.
                    - DueToCalve - Changed the report as per email from GL 16/10/20.

Version V5.9 R6.7

30/10/20 /MK Bug - uUpdateTables - Any update/create functions to tables from UpdateDrugRegisterHeader on are not required so default Result to True.

Version V5.9 R6.6

29/10/20 /MK Additional Feature - uUpdateTables - AddVaccinationDiseaseCode - Added Mastitis to list of diseases - Kevin Maguire request.

Version V5.9 R6.5

28/10/20 /MK Bug Fix - uEventsByGroup - FormCreate - Breeding Data Temp Tables were being created but not being filled. This was separated from BreedingData.Create.

Version V5.9 R6.4

27/10/20 /MK Bug Fix - uUpdateTables - Found that the change I made above didn't suit some update routines so I had to make other changes.

Version V5.9 R6.3

12/10/20 /MK Bug Fix - uUpdateTables - Found that some of the update functions didn't have a starting result which caused reindex not to return result.
22/10/20 /SP Additional Feature - uHerdSync - Added sync in and out of Condition Score events.                                      

Version V5.9 R6.2

01/10/20 /MK Additional Feature - uCrushBarcode - When saving an update of the animal store the Animal Number and AnimalId in a new DataDir\Crush\SavedAnimalNos.txt.

Version V5.9 R6.1

22/09/20 /MK Bug Fix - uHerdSync - Removed saving of difference.txt to Temp folder, Gerard O'Malley didn't have a Temp folder to save the file
                                   so the sync didn't complete properly.

Version V5.9 R6.0

26/08/20 /MK Additional Feature - EventRecording - Add procedures for ChangeCalvingDam and ChangeCalvingSire.
                                - uHerdSync - CreateCalvingEvents - Get the existing EventID from the incoming ClientId.
                                                                  - If we don't have the ClientId already then do checks for Last Calving Event.
                                                                  - If we have already imported the calving event then check to see if the sire or dam needs to be changed.
02/09/20 /MK Change - uHerdSync - Changed FAnimalQuery SQL to include animals that had left the herd.
                                - Included the InHerd flag in the FAnimalQuery.
                                - Allowed animals that had left the herd to have events recorded for them bar SaleDeath events.
                                - This would allow events that come down from the server regardless if their sold or died to be stored in the EventsExt table - SP request.
07/09/20 /MK Change - uHerdSync - When creating events, if the event date already exists for the event then add the event to EventExt table and
                                  add it to the array to FSyncedEventsArray and let it go back up the server as synced.
                                - If the event already exists in the EventExt table, edit the record and add it to the FSyncedEventsArray
                                  so that it goes back up to the server as synced.
16/09/20 /MK Change - uHerdSync - Bring down the DesktopId of the event from the server, then search for the ClientId first, if not found then search for the Event DesktopId
                                  to see if the event needs to be edited.

Version V5.9 R5.9

07/09/20 /MK Bug Fix - StockInHerdFilt - Moved the delete table of my table to after the object is created. When deleting this table on FormDestroy sometimes it would show table is busy error - Mary Garvey.
             Change - uHUKIFarmEvents - Output 5 character line number for both NMR and CIS - Jim Westaway.
                                      - Output the stripped back tag number of an animal to CIS Left Herd Block - Jim Westaway.
                                      - If the animal was sold and it has a culling reason then out reason as 03 for CIS usrs - Jim Westaway.
             Additional Feature - uHUKIFarmEvents - Added a Health Data block that holds Mastitis and Lameness event for CIS users - Jim Westaway.

Version V5.9 R5.8

26/08/20 /MK Bug Fix - uEventsByGroup - Seperate the KeyDown of Animal Number and Part NatID - George (TGM).
                                      - sbSaveClick - Set FDrugBatchQty_EmptyCheck before UpdateAnimals/CopyDetails so not to check quantity remaining for batch in MultiDrug - George (TGM).
                     - uBreedingDataHelper - GetBullingInfo - Used TempBullings.Active instead of TempBullings.Open.

Version V5.9 R5.7

25/08/20 /MK Bug Fix - uEventsByGroup - HealthEventRecCreated - Check if Multi Drug panel is not showing and rgUseWeightAsApplicRate.ItemIndex is 1 before using TotalApplicRate - James (Fletchers).

Version V5.9 R5.6

19/08/20 /MK Additional Feature - uUpdateTables - UpdateSyncDefaults - Added the herdEvaluationModifiedOn for sync of EBI records from server.
                                - uHerdSync - Sync down of EBI values from ICBF.
                                            - Sync down the herdEvaluationModifiedOn from the server and store in syncDefaults.
                                            - Sync this up again to stop the EBI's coming down a second time.
                                            - Output SyncedEvents.xml file that holds all events that came down from the server to mark them as synced before RiaServices finishes sync.

Version V5.9 R5.5

21/08/20 /MK Additional Feature - uGlobalSettings - Added new preference "Use purchase weight as live weight for Kill out".
                                - uEventDataHelper - Added new Classes to get Purchase info and PreSale info.
                                - uRemittanceRecord - When new preference "Use purchase weight as live weight for Kill out" is ticked
                                                      - take purchase weight, if any any calculated Kill Out % based on the purchase weight as live weight.
                                                      - don't calculate kill out %, if there is no purchase weight, from Kill Out calculator.
                                - uSalesReport - Added new Cattle Costings report - John McCann/GL.
                                               - Added new menu item to Format Options for the new Cattle Costings report.
                                               - When new preference "Use purchase weight as live weight for Kill out" is ticked default this new Cattle Costings report on.
                                               - The new report needs a "Total Cost per kg Live Weight"

Version V5.9 R5.4

11/08/20 /MK Bug Fix - uBreedingDataHelper - Any procedure used to gather data that uses a TempTable should be checked to see if the TempTable is created already and if the table is already active.
                                             This was making any report and screens looking at these procedures very slow e.g On Farm Events Service and Preg Diag screens.
17/08/20 /MK Bug Fix - uMedBatchNoTreatments - New form variable, FDrugUsed, used to pass into the HerdLookup.qBatchNoMedDetails and HerdLookup.qMedBatchNoTreats
                                               to get exact treatments for this purchase. David Hemmingways data was showing two different drugs for the same
                                               DrugPurchaseId so treatments were not appearing correctly.
             Change - uHerdLookup - Changed qBatchNoMedDetails to output the DrugID of this purchase record.
                                  - Changed qMedBatchNoTreats to allow DrugID to be passed in to get exact treatments of this purchase where DrugPurchId
                                    appears twice in Health table for two different drugs - David Hemminway.
                    - uMediPurch - QueryBatchTreatments - Pass in the DrugId to get the exact treatments of this purchase record.

Version V5.9 R5.3

05/08/20 /MK Change - MenuUnit - When the user clicks the down-arrow beside Review Medicines and clicks Add Prescriber/Administrator the uMedAdminSetup should appear in Add Mode,
                                 if the user clicks System/System Files/Medicine/Prescribers or Administrators the uMedAdminSetup should appear in Edit mode - GL request.
             Bug Fix - uMedAdminSetup - Moved the assiging of the data sources from FormActivate to before ShowModal so that the DataSet.Append before ShowModal would work.
10/08/20 /MK Additional Feature - uEventsByGroup - Changed Full National ID search box to Part Nat ID search - GL request.
                                                 - Added Search button beside Part Nat ID search box.
                                                 - Added functionality to auto search for part nat id when the user presses enter in the Part Nat Id. box.
                                                   If the user presses enter again this will tick/select the found record.
                                                 - Added a help/information indicator after Part Nat Id search to tell users how to use the enter key in Part Nat Id.
                                - Added the Herd Identity to the print outs of the Irish Vet Register, Irish Vet Purchase Report, Feed Purchase Report,
                                  Purchase/Sales Analysis and Treatment Summary reports.
11/08/20 /MK Change - uHerdSync - CreateLastMilkRecCumulativeRecords - When the milk recording is imported allocate the animals last cummualtive record to the last milk recording imported.
             Bug Fix - uRemittance - When checking for the .csv in the file name allow for the uppercase version of .csv also - Denis O'Brien / CJ Meats.

Version V5.9 R5.2

30/07/20 /MK Change - uElecWeigh - ReadCSVFile - The TruTest Data Link software can save the csv file as an old Link3000 format but this date line contains the word date so trim date from this.

Version V5.9 R5.1

02/07/20 /MK Additional Feature - MenuUnit - Added the Latest Solids field i.e DailyBfatWeight + DailyProtWeigh. I added this field with a CurrentEdit property
                                             with a DisplayFormat of 0.00 so that all values would appear with a 2 digit decimal point - GL/Denis English request
                                - DairyData - GetEventLookupData - Added the calculation of the LatestSolids field i.e. DailyBfatWeight + DailyProtWeight - Denis English.
             CheckFiles - DairyData - A few drugs added in the last while so I have made it available to KHerd users without the App.                   

Version V5.9 R5.0

01/07/20 /MK Bug Fix - uRemittanceRecord - GetCustomerCosts - Sometimes the AvgFactoryDeductPerAnimal and TotDeductions can be the same value, if they are use it - Una Carter.
                     - uUpdateTables - UpdateSyncDefaults - Problem checking for ClientGrpTimeStamp field which would stop other tables from updating after SyncDefaults.

Version V5.9 R4.9

30/06/20 /MK Bug Fix - ActionReminderFilt - BuildDueToDryOff - qInHerdDailyMilkDiskTransInfo - Clear the filter of the query before checking record count as if the filter is applied the record count takes the filtered record count.

Version V5.9 R4.8

19/05/20 /MK Change - uHerdSync - ResetSyncFlagsOnAllData - Added DeletedGrps and ModifiedOn to Grps reset sync.
08/06/20 /MK Change - uMediPurch - I moved CalcMediPurchQtyRemaining from OnActivate to its own button on the Toolbar - UCD.
10/06/20 /MK Change - DairyData - CheckFiles - With the new change on the server to all for sexed semen coming from PC, need to reset sync flags on all service this lactation with sexed semen.
                    - uCrushBarcode - UpdateAnimal - If the update of animal number field should fail, give error, close out and store in Application Log file.
11/06/20 /MK Additional Feature - uHerdSync - Added the sexed semen to the output of the service events.
                                            - Added the sexed semen list type to FGenLookQuery on Initialize.
                                            - Added sexed semen to CreateServiceEvents.
                                - uKImport - Added the capabilty to export and import weighing events - Alan Gilligan.
                                           - Added a new event source for sKImport to better understand where an event was saved from.
                                - uMovementsImportOptions - Added weighing events - Alan Gilligan.

Version V5.9 R4.7

18/05/20 /MK Change - uVaccineDueOn - Don't save the repeat event for animals that left the herd before the treatment date - DOM request.
                                    - Show progress bar when saving the events.
                                    - Show memo box after the events are saved shows the amount of events saved or not saved.                                    

Version V5.9 R4.6

14/05/20 /MK Change - uSQLFilters - Any sqls that are joined to the events table are changed to look at either BreedingDataHelper or MovementDataHelper tables.
                    - uMovementDataHelper - Added the HerdId field.
                    - StockInHerdFilt - LoadOtherData - Made changes to use the BreedingDataHelper & MovementDataHelper TempTables instead of the Events table to try fix issues with the Stock on Hand Report.

Version V5.9 R4.5

12/05/20 /MK Change - uHerdSync - CreateCalvingEvents - When there are no calves then treat this as an aborted calving i.e. dead not tagged.

Version V5.9 R4.0

27/04/20 /MK Additional Feature - uModifyGridCols - New unit created to all easier edit of visible columns on the grid.
                                - MenuUnit - New button added above the grid for Modify Grid that allows the user to easily modify the visible grid columns
                                             with the use of the new uModifyGridCols unit.
28/04/20 /MK Additional Feature - uHerdLookup - New queries, qMainGridMilkDiskTrans & qMainGridMilkDisk, created to allow the main grid to show the milk history
                                                for animals that were sold or have no milk history in the current lactation but have in the previous lactation.
                                - DairyData - GetEventLookupData - Added Total Bfat Weight and Total Protein Weight to MDGridCurrLactMilkData.
                                - MenuUnit - Added Total B/Fat Weight and Total Protein Weight columns to the main grid.
             Change - DairyData - GetEventLookupData - Changed the queries to the new qMainGridMilkDiskTrans & qMainGridMilkDisk so that animals that were sold
                                                       or animals that don't have milk history in the current lactation but do have in the previous lactation
                                                       will then show milk history on the main grid.
                    - MenuUnit - Changed Lact. Yield to Total Yield and Lact. Solids to Total Solids - GL request.

Version V5.9 R3.5

21/04/20 /MK Additional Feature - uUpdateTables - New table, EventsExt, created to store events that were created on the server so we can store them if deleted - SP/GL request.
                                - uHerdSync - New procedure, AddEventToEventsExt, which adds the clientID and EventId of new event to EventsExt table.
                                            - Added ClientId to Calvings, Remedy, DryOff, Service and Bulling events.
                                            - Added AddEventToEventsExt to these events also.
                                            - CreateHerdSyncData - Added ClientId and AddEventsToEventsExt to Purchase, Sale and NewID events.
             Bug Fix - uHerdSync - CreateHerdSyncData - FdstkEvents - Only sync the first 25 characters of the batch number - Noel Walsh.

Version V5.9 R3.1

07/04/20 /MK Bug Fix - uHealth - dbHealthBatchNoPropertiesEditValueChanged - When editing the event check to see if the user has changed the DrugBatchNo, then set DrugPurchID to this new value.
                               - ShowHealth - When editing the event change the qDrugBatchNo query to look at all batch numbers regardless of whether they are in use or not.
                                            - When adding the event change the qDrugBatchNo query to look at only batch numbers that are in use.
                               - FormClose - When closing the form change the query back to the default where only in use batch numbers appear.
             Change - uMediPurch - FormCreate - As there are sometimes issues with MediPurch QtyRemaining not being updated the system now recalcs this figure when the form is created - Una Carter.
08/04/20 /MK Change - uMedBatchNoTreatments - Focus on the first record.

Version V5.9 R3.0

24/03/20 /MK Additional Feature - uICBFEventExport - Show uMessageScr if the user has the App or if they don't that this will be the last time to use the ICBF email option.
                                                   - If the user has recorded BDP welfare events in the last year then don't show uMessageScr.
                                - uMessageScr - Added TMessageTypes for mtICBFAppWarning and mtICBFNoAppWarning for use with the ICBF Event Rec screen.

Version V5.9 R2.9

13/03/20 /MK Change - MenuUnit - ShowCalvingEvent - DryOff prompt - Reformatted the code so it was easier to understand, reported issue with it for Gordon McConkey.
                               - SetupForm - Only show Import Transponder Data to Cart option if Electronic Weighing module is enabled - GL request.
16/03/20 /MK Additional Feature - uAIMHeifTempTransfers - Show information box explaining choices when user clicks the information image - GL request.                                                 
19/03/20 /MK Additional Feature - FertAnalysisRpt - Added the cows current EBI value after Calv to Concep - Adrian Rothwell.
                                                  - Added sort for EBI and Calve to Concep - Adrian Rothwell.
20/03/20 /MK Bug Fix - uHerdStatistics - StepProgress - Added try, except, end around StepProgress as sometimes "Invalid Floating Point" error appears.

Version V5.9 R2.8

11/03/20 /MK Change - uHerdSync - CreateHerdSyncData - SyncMediPur - Only sync out the first 25 characters of Batch Number.
                                                     - Sync Customers - Trim the Customers name to 40 characters.
                                                     - Sync SuppliersBreeders - Trim the SuppliersBreeders name to 40 characters.
                                                     - Added ClientId and AddEventsToEventsExt to Purchase, Sale and NewID events.
                    - uMedicineSetup - MedicineGridPrintFilter - Only print the Stock Control if "Print All" is selected - GL/Ivan Allens.
                                                               - Don't print the Cost Per Unit column.
                                     - dxComponentPrinter1Link1 - Changed PrinterPage.Orientation to Landscape.
                    - uMilkRec - cbDownloadFileClick - Look at Milk Recorder field in Owners table rather than preference - TGM request.
11/03/20 /MK Bug Fix - uHerdSync - CreateHerdSyncData - Don't syc FdstkEvent records if there is no supplier selected.                    
12/03/20 /MK Additional Feature - uKImport - Added the capability to export VPANo with Health/DryOff/Vaccination events.
                                           - When importing these events search for VPANo in current medicine table or search for it in the DrugListing.xml file.
13/03/20 /MK Additional Feature - EventRecording - TSaleDeathEvent.Post - Remove the animal from the feed group - Declan O'Meara.

Version V5.9 R2.7

03/03/20 /MK Change - MenuUnit - Changed the "Clear Active Bull List" to "Reset Active Bull List" which only shows bulls that are in
                                 use from services or sires of calves or planned bulls. 
                    - uMessageScr - Added TMessageType for mtUpdateBulls for use with Update Bull List utility.
             Additional Feature - HerdPassword - Added new TPasswordAction for paResetBullsInUse which takes bulls from current services,
                                                 from sires of calves in the last year and any planned bull events.

Version V5.9 R2.6

26/02/20 /MK Bug Fix - DairyData - ClearMilkRecsFromICBFAPI - The delete was not looking at the Source in the MilkDiskTrans table, now it is.

Version V5.9 R2.5

24/02/20 /MK Bug Fix - uHerdSync - CreateMilkRecording - Protein Perc was not being downloaded - Basil Helen.
                     - DairyData - ClearMilkRecsFromICBFAPI - Delete Milk Recordings download from ICBF API so they can be downloaded again with Protein figures - Basil Helen.                                               

Version V5.9 R2.4

21/02/20 /MK Bug Fix - uHealth - dbHealthBatchNoPropertiesEditValueChanged - If the State is Insert then the DrugPurchID was not being assigned.

Version V5.9 R2.3

14/02/20 /MK Change - uBeefAISireRegister - As the ICBF website no longer can upload the file to the same file name, Gerry (Kingswood) suggested that I download the file
                                            once every 3 months (based on what ICBF said) and upload it to our website. I changed the GetAIBulls URL to look at this new URL on our website.
18/02/20 /MK Change - uBeefAISireRegister - LoadAIFile - Check new field in Defaults table to see when file was download last.
                                                         If date is more than 3 months then download a new file.
                                                       - Show indicator in Status bar if file was downloaded and what date.
                                          - DownloadAIFile - Check if internet connection, check if file exists on our server and then download it.
                                                             If file doesn't exist or no internet then if file exists in Kingswood Herd Management folder, load it.
                    - DairyData - SetBullInUse - Check if bull exits in BullSemenStk table, if not then add it - Geoffrey/Michael Cunningham.
                                               - Check if bull exits in BullExt table, if not then add it - Geoffrey/Michael Cunningham.
             Bug Fix - uEventDataHelper - GetAnimalNullLeftHerdEventID - Need to check for existance of the sale/death event in the SalesDeaths table to properly ascertain its a null event - Matt (IAD).

Version V5.9 R2.2

12/02/20 /MK Change - uCalvingEvent - dbStatusPropertiesChange - Change the aborted tag to year first as UK tags only have enough room for 2 characters after ABOR and DamTag - Mairi (Muldowneys).

Version V5.9 R2.1

29/01/20 /MK Change - uICBFPCDownloadImporter - Added sICBF_GENERATION EventSource to Planned Bull, Service and Weighing Records import.    
                    - uLivestockSum - GetAnimals - GetEligibleAnimalType - If the HerdType is beef then the cull cows should be cows not breeding
                                                                           for Dairy/Suckler herds it should be cows with a culling date - Tom O'Keeffe
                    - uNationalID - TUK9NatIDNumber.validate - Added a check for Rollover tags - Philip (TGM).
                    - DairyData - AnimalFileByIDNatIDNumSetText - Added param for Rollover herd - Philip (TGM).   
30/01/20 /MK Bug Fix - uCalvingEvent - dbBullUsedPropertiesPopup - Only pop up tvBullList if there are items regardless if Stock Bull events exist - Con Cremin.

Version V5.9 R2.0

24/01/20 /MK Change - uAIMAnimalMovements - RecordMovementsOn - If the HerdType is Beef then default the lactno to zero, else calculate lactNo - Una Carter.
                    - uAIMHerdRecImport - ProcessPurchaseEvent - If the HerdType is Beef then default the lactno to zero, else calculate lactNo - Una Carter.

Version V5.9 R1.9

20/01/20 /MK Change - uAIMHerdRecImport - GetAnimal - Exclude animals that were deleted from GetAnimal as HerdRec ignores them to begin with - Bellair Est.

Version V5.9 R1.8

17/01/20 /MK Change - uUpdateTables - UpdateGroups - When adding the ModifiedOn and CreatedOn fields default date to today regardless of IsSynchronized.
                    - DairyData - CheckFiles - Shane suggested that I set all ModifiedOn dates to todays date which will push all groups to the server regardless if they are synced.
                                               The reason for this is that the sync was crashing on machines where the ModifiedOn is null as the server requires a value.

Version V5.9 R1.7

13/01/20 /MK Additional Feature - uCTSCattleOnHolding - Add an Add All To Herd/Remove All From Herd actions to add all animals or sell all animals depending on the pcHerdReconciliation page selected.
                                                      - Added a button that on the pcHerdReconciliation page that switches between the new actions depending on the page selected.
                                                      - Added a sale date on the pcHerdReconciliation page that only shows if tsDataAnimalsOnHolding tab is selected.
                                                      - These controls are only available to Kingswood Delphi Developers.
             Bug Fix - DairyData - GetEventLookupData - I had to add the SuppliersBreeders Haulage and Commission fields to the Purchase query
                                                        where these costs have not copied into the Purchase table - Una Carter.
                                 - AnimalFileByIDBeforeOpen - CustomerName field was removed from this procedure - Una Carter.

Version V5.9 R1.6

03/01/20 /MK Change - MenuUnit - SetUpForm - Don't show A1A2 Result column if not a dairy herd.
06/01/20 /MK Additional Feature - ElectronicRemittanceConverter - Added Total Value, Total Deductions and Cheque Amount summary items before Remittance End - Una Carter request.
                                - DairyData - GetEventLookupData - Added Purchase Commission, Purchase Transport and Sale Price - Una Carter request.
                                - MenuUnit - Added Purchase Commission, Purchase Transport and Sale Price columns - Una Carter request.
07/01/20 /MK Change - uEventDataHelper - TTempMovementInfo - Only add TempMovement events for animals that are still off farm, useful for when more than one Temp Movement event exists - Bellair Est.
08/01/20 /MK Additional Feature - Create new unit, uGeneralMemo, that is used to show memo text box and a close button.
                                - uConformationGradeAnalysis - Added Columns, Fields and Consts for E+, E= and E- for James Feighery.
                                                             - Added count of blank records seperate to invalid records - Mary (Andrew Kirwan).
                                                             - Added a Invalid Grades button that shows the new uGeneralMemo screen that tells the user
                                                               the amount blank and invalid grades and what the invalid grades are.
                                - DairyData - GetEventLookupData - Added Sale Costs - Una Carter request.
                                - MenuUnit - Added Sale Costs columns - Una Carter request.
             Bug Fix - uConformationGradeAnalysis - lInfoInvalid was showing ValidCount and lInfoValid was showing InvalidCount - Mary (Andrew Kirwan).
                     - uBreedingDataHelper - CreateTempTable - Use new public boolean IncludeLeftHerdAnimals to show events of sold animals - Heulwen (Dales) Breeding Chart.
             Change - uHeatServiceFilt - BuildTable - Assign new TBreedingDataHelper.IncludeLeftHerdAnimals the cbIncludeall.Checked to show Calvings of sold animals - Heulwen (Dales).
09/01/20 /MK Change - uAddSire - Added a Bull Name (Short) where the country is not Ireland - TGM request.
                               - Had to modify the screen height, width and control positions for this change.
             Bug Fix - uEventsByGroup - CloseAndFree - Need to close the FDupGrpsPerAnimal here as its tied to the Animal Grid - only caused issue for Fergal & Sylvia Daly.
                     - DairyData - CheckFiles - If martpurchgrid.ini does not exists then update will not complete and program will not open - Paula Brennan.

Version V5.9 R1.5

06/12/19 /MK Change - DairyData - CheckFiles - Download new changes to DrugListing.xml file after Noel Keane withdrawal updates.
10/12/19 /MK Additional Feature - DairyData - GetEventLookupData - Now that HerdSync is allowing an animal to be in 2 groups we should show " In +GroupCount+ Groups" as BatchGrpDesc - GL/SP.
13/12/19 /MK Bug Fix - KRoutines - BreedDetailsByID, AnimalColourDetailsByID - If FieldByName(FieldNames).AsVariant = Null then error would appear.
             Additional Feature - uGroupUpdate - Show orange indicator box over batch group controls if an animal is in more than one batch group becuase of the App.   
             Change - uMartImportByFile - ImportFromNIMovementsIn - If the animal already exists in the herd then bypass it - John Milliken.
                                                                  - Show prompt if there are no animals to import because they have already been imported - John Milliken.
                                        - Import - Pass in Var AAnimalCount so the review screen doesn't appear if there are no animals to import.
                                        - PostFileDetails - Exit if there are no animals in FMartTable.
                                        - New procedure, AddBreedToTable, created to add breed code from Mart/APHIS File to Breeds table if it does not exist already.
                    - uMartImport - ImportFile - If there are no animals to import then don't show the Results screen - John Milliken.
16/12/19 /MK Change - uMartImportByFile - ImportFromNIMovementsIn - If a user is reimporting a file then the field count will be more than 9.
                                                                    APHIS made a change to export a 9th field called "Res" which means residency.
                                                                    This field was being imported into the price field - John Milliken.
                                        - ImportFromXML - Only copy 40 characters of the Source Name as FarmSync only allows for 40 characters - SP request.                            
17/12/19 /MK Additional Feature - uUpdateTables - New table, DNAResults, created to store the animals A1A2 dna result - Pat Ryan.
18/12/19 /MK Additional Feature - Added new screen for uPopupAnimalEdit - Pat Ryan.
                                - MenuUnit - Added popup-menu-item "Add A1A2 Result" to pmAnimalGridPopup that brings up the new uPopupAnimalEdit screen - Pat Ryan.
                                           - Added A1A2 DNAResult column - Pat Ryan.
                                - DairyData - GetEventLookupData - Added A1A2 DNAResult for the animal - Pat Ryan.
19/12/19 /MK Change - uHerdLookup - Added ImportFromParlour to TParlourDetails.Create.
                    - MenuUnit - ShowParlourLinkScreen - Added Delpro to the automatic Import Data execute - Mark Young.
                    - uUpdateTables - UpdateParlourLink - Added ImportFromParlour field to ParlourLink.db.
             Additional Feature - uAIMHerdRecImport - ProcessPurchaseEvent - Add TBTestDate and BruTest Date to the animal record - John Joe Murphy.
20/12/19 /MK Additional Feature - uKImport - Allow import/export of A1A2 result - Pat Ryan.
23/12/19 /MK Additional Feature - MenuUnit - Added Import pop-menu-item for A1/A2 Results File.
                                           - Added procedure to import the A1/A2 Results File from Pat Ryan.

Version V5.9 R1.4

29/11/19 /MK Additional Feature - uUpdateTables - UpdateAnimals - Added QANoMovements for QADays field that comes in the Mart XML file - GL/SP request.
03/12/19 /MK Additional Feature - DairyData - Added QANoMovements field to AnimalFileByID and UpdateAnimals SQL's.
                                            - CheckFiles - Delete "martpurchgrid.ini" from the database if version is less than 5914 so NoMovements field is added after QA in ReviewMartFiles screen.
                                - MenuUnit - Added "No. Movements" column which takes it data from Mart XML file QADays field.
                                           - SetupForm - Only show this column if Irish Beef Herd with Beef Management module, like QA column.
                                - EventRecording - TAnimalRecord - Added QANoMovements property.
                                - uMartImportByFile - Added QADays field to FMartTable.
                                                    - Added import of QADays node to new QADays field.
                                                    - AddAnimalRecord - Assign TAnimalRecord.QANoMovements file value from new QADays field.
                                - uMartImportByFileReview - Added QualityAssured and QADays fields to tMart table.
                                                          - Added "Q.A" and "No. Movements" columns to grid.
                                                          - Only show these columns if Country is Ireland.
                                                          - Added "Print Animal Grid" button which prints the grid of purchased animals - TOK request.
                                - ActionReminderFilt - Added "Days Calved" to DueToPD report - Mark Allen request.
                                                     - Added DaysCalved field to DueToPD table.
                                                     - Had to move some columns to get the new field to appear.
                                                     - When printing "PD" field, if "Undefined" then show blank like DueToDry report.

Version V5.9 R1.3

19/11/19 /MK Additional Feature - DairyData - qCountries - List all countries except Britain - GL request
             Change - DairyData - GetHerdCountry, DefCountry, SystemRegisteredCountry - If Owners.Country is Scotland, England, Wales then treat as England i.e. Britain.
                                - CheckFiles - UpdateDefaultMilkLayout - Default MilkLayout in the Defaults table to DSMember format.
                    - CowRepFilt - Hide cbGuidanceNotes if the country is not Northern Ireland.
                    - uHerdSetup - GetIsEnglishHerd - If Owners.Country is Scotland, England, Wales then treat as England i.e. Britain.
                                 - ShowTheForm - SetHightLightField - Allow highlight of TRxDBLookupCombo components like UKMilkRecorder.
                    - uHerdSync - SystemRegisteredCountry - If Owners.Country is Scotland, England, Wales then treat as England i.e. Britain.
                    - MenuUnit - ShowMilkRecording - If the Country is not Ireland then get user to specify milk recorder as all GB countries should be either NMR or CIS - GL request.
                    - uMilkRec - SetPositions - Set the CountryCode variable to first character of selected country in Herd Settings.
                                              - Don't set country code based on MilkDiskLayout anymore as DSMember should be for all GB countries.
                                              - Added Wales caption change.
                               - bRecordClick - Added Wales country code to DSMEMBER.DAT check and CallNMRStream.
                               - DoMilkRecording - No Scotland rules anymore, all GB countries have the same format.
                                                 - Added Scotland and Wales to this check as NMR is now specified by Herd Settings screen.
                                                 - Added Scotland and Wales to this check for CumYield conversion.
                                                 - Added check for not England, Scotland or Wales for set of NoOfRecordings value.
                               - bExecRecordClick - Added Wales to processing of change of 305 yield data.
                               - Update305FromNMRFile - Added Wales to Update305FromNMRFile.
20/11/19 /MK Change - uHerdSetup - DBNavigatorBeforeAction - Change warning from "Country must be entered" to "Registered In must be entered".
21/11/19 /MK Change - uMilkRec - Change Caption of screen to Milk Recording from Herd Settings - GL request.
                               - Removed Milk Disk Parameters from this screen as its no long required with NMR/CIS having the same format.
                               - Removed requirement of CountryCode variable as new NMR/CIS changes don't require this anymore.
27/11/19 /MK Change - uFilters - Only show breeds that are in use - TOK/GL request.
                               - Clear the filter on the WinData.Breeds table when the Filter screen closes.
                    - uAIMAnimalMovements - RecordMovementsOn - Defaulting the Breeding status of the animal depending on HerdType, False if Beef else True.
                    - uAIMHerdRecImport - ProcessAnimals, ProcessPurchaseEvent - Default the Breeding status of the animal depending on HerdType, False if Beef else True - GL/TOK request.
28/11/19 /MK Bug Fix - MenuUnit - FormCreate - Richard Claxton was getting an "Unspecified Error" when trying to put an icon in the SysTray.
             Change - MenuUnit - Changed the "PD'd Not Pregnant" category for Cows and Replacements to "Not Pregnant" which includes "PD'd Not Pregnant", "Not Served" & "Served Not PD'd" - GL/DOM.
                    - SQLFilters - Added changes for new "Not Pregnant" category.

Version V5.9 R1.2

08/11/19 /MK Additional Feature - ActionReminderFilt - Added High SCC and ICBF Mastitis Incidents to the Due To Dry Report.
                                - DueForDryingOff - Added High SCC and ICBF Mastitis Incidents.
                                - uHerdSync - Receive Milk Production, Milk Recording and ICBFHerdHealth tables online.
                                            - Send/Receive Milk and ICBF Herd Health Sync TimeStamps.
             Change - DueForDryingOff - Modified the layout of the report to fit these new columns.
                    - uAIMAnimalMovements/uAIMHerdRecImport - Renumber the animal after the sale.
12/11/19 /MK Additional Feature - DueForDryingOff - Instead of showing the word "Undefined" under Pregnant show it as blank as it is on the HerdApp.
15/11/19 /MK Bug Fix - uRemittanceRecord - UpdateSaleInfo - Not allowing for the scenario where the EventID does not exist in the SaleDeaths table - John Sinnott.

Version V5.9 R1.1

05/11/19 /MK Bug Fix - Groups - AddToGroup - Even if not(AllowDeletion), if the new group is Feed then Remove Animal from CurrentGroupID.
                     - uCalvingEvent - CreateCalving - WinData.GroupManager.AddToGroup - AllowDeletion should be false as it was deleting calving cow from existing group
                                                                                         if the group wasn't changed - Milo Murphy.

Version V5.9 R1.0

17/10/19 /MK Change - MenuUnit - Changed cxAnimalGridViewLactSCC caption to Average SCC as that is what the ICBF are passing down not the total - GL/SP request.
                    - uFilters - Changed gbSCCFilter caption to Average SCC as that is what the ICBF are passing down not the total - GL/SP request.
18/10/19 /MK Bug Fix - uHUKIFarmEvents - CheckMilkState - Using record count check on SQL when Count(ID) was used, changed Count(ID) to * then RecordCount will work - Jim Westaway.
23/10/19 /MK Change - uElecWeigh - ReadCSVFile - I had to change the XR5000 import file to allow for different heads on the file - Jeanette Whitty.                                  
30/10/19 /MK Change - uRemittanceLoad - Execute - Moyvalley are sending on a file with an uppercase file extension, we should allow for this.
04/11/19 /MK Additional Feature - uHerdSync - Removed sending and receiving of milk data until new FarmSync changes are ready - server database update - SP.

Version V5.9 R0.9

14/10/19 /MK Additional Feature - uGlobalSettings - Created a new preference under Events/Sales/Deaths for Remove Transponder Number After Sale only for Parlour users - John Wynne.
                                - DairyData - LoadPreferences - Enable RemoveTransponderAfterSale if not found and Parlour user.
                                            - EventsAfterPost - Sale/Death - With Sale/Death check RemoveTransponderAfterSale and remove TransponderNo.
                                - uKImport - WriteEvents - When an animal is sold and Parlour user with RemoveTransponderAfterSale preference tick, remove TransponderNo from animal.
                                - uMartImportByFile - PostSales - Remove Transponder No if Parlour and RemoveTransponderAfterSale preference.
                                - uRemittanceRecord - CreateSaleWithTEventClass - Remove Transponder No if Parlour and RemoveTransponderAfterSale preference.
                                - EventRecording - Added RemoveTransponderNo property to TSaleDeathEvent.
                                                 - Added RemoveTransponderNoAfterSale prcedure to TSaleDeathEvent.
                                                 - If RemoveTransponderNo then run RemoveTransponderNoAfterSale procedure.
16/10/19 /MK Bug Fix - DairyData - Removed TDeleteEventRec from EventsAfterDelete as the event had already been deleted at this stage so no need to delete again.
                                 - This caused the next event in the animals EventTable to be deleted - Roger Barclay.
                                 - Added UpdateInvalidPregDiagEventType to EventsBeforeDelete after the event is deleted.
             Change - ActionReminderFilt - BuildDueToDryOff - DaysInMilk should not be Date - LastCalvDate+1 - SP/GL - same as main grid.

Version V5.9 R0.8

09/10/19 /MK Change - uMartImportByFile - When importing the price from the mart file change the price then to exclusive of VAT if VatRegistered and VatRate exists.
                                        - Removed further changing of price to Vat Exclusive.
                                        - Added back in change of price to Vat Exclusive for Crush users.
                    - uGlobalSettings - cbUpdateMartWeightWithCrushWeight - Changed caption to Update Mart Weight And Price With Crush Weight as the procedure that takes the
                                                                            Crush Weight then calculates a new price based on the TotalMartPrice, Individual Crush Weight and TotalCrushWeight.

Version V5.9 R0.7

01/10/19 /MK Additional Feature - uHerdSync - Added new procedure, CreateMilkProduction, to bring ICBF lact records down from server - SP request.
03/10/19 /MK Bug Fix - uHUKIFarmEvents - AddCalvingData - clf1VID and clf2VID were incorrectly padded to 5 for non NMR customers.

Version V5.9 R0.6

23/09/19 /MK Change - DairyData - EventsAfterPost - Add ToBeCulled to this array of events that need to update the IsSynchronized boolean for animal syncing - SP request.
                    - uEventsByGroup - WriteEventsAfterPost - Add ToBeCulled to this array of events that need to update the IsSynchronized boolean for animal syncing - SP request.
                    - Changed all Animal Code captions on the Due To Reports to Animal Number - GL request. 
27/09/19 /MK Change - uAccsReps - Added Application.ProcessMessages after Updates when running UpdateFigures - Donal O'Brien.

Version V5.9 R0.5

18/09/19 /MK Change - uFertIndicesRpt - Added Cows Served and Breeding Cows Not Served counts beside Breeding Started - GL request.
                                      - Add legend at the bottom of the report to explain Breeding Cows Not Served and Pregnancy Rate star indicators - GL request.
                    - DairyData - CheckFiles - Need to update the Report Filter captions for "Herd Fertility Indices" and "Spread Calving Herds" to new captions.
19/09/19 /MK Change - uBreedingDataHelper - SP removed the seperate indexces for AnimalID and EventDate as there was already an index that include AnimalID, LactNo and EventDate.
                                          - The EventDate index is required because customers may not record events in date order, this can cause a slow down when getting data.
             Bug Fix - uCustomers/uSuppliers - ComponentPrinterLink had lost its Component so I have hard coded it, Print Customers/Suppliers not showing data - Adrian Walsh.
                     - uFertIndicesRpt - AnimalsPregnant - Was not checking to see if the cows PregDiag date was after its last service date - Milo Murphy.                                    

Version V5.9 R0.4

17/09/19 /MK Change - uIndexes - ReIndexAll - Issue with UCD data where the position of the Owners and BatchRegistrations reindex caused program to crash.
                                              Shane (Kingswood) suggested that we move these to the top to see if this helps and it did.

Version V5.9 R0.3

04/09/19 /MK Additional Feature - MenuUnit - Added the Purchase Costs column to main grid - Una Carter request.
09/09/19 /MK Bug Fix - MenuUnit - ShowAIMOrStandardIrishRecScr - Need to change the caption of actMovementPermits to "APHIS Movements" or "CTS Move" depending on country - TGM reported.
                                - Lifetime Gain/Day column kept appearing even if you removed it from view.
             Additional Feature - uFertIndicesRpt - Added herd fertility performance to the end of the report similar to ICBF - Captal/GL request.
             Change - uFertIndicesRpt - Changed the ShowTheForm form procedure to a Class Procedure so that it could be free'd when the form closes.
11/09/19 /MK Change - uIndexes - ReIndex - Added try except around the creating of the index which adds error the
                                           applog.txt with TableName that can't index - this was added in cases where
                                           the new BDE version is causing Access Violation on reindex - UCD / Richard Bourns.
12/09/19 /MK Change - uFertIndicesRpt - GL asked that TotalCows = AllServedCows. If the user records To Be Culled events then add (Cows Not Served & Not To Be Culled)) to TotalCows.
                                      - MoveCalculations - GL asked that we use new TotalCows replaces NoCowsServed, NoCowsPregAll and Eligibility so that there would
                                                           be no questions when comparing TotalCows with Overall Served on new Herd Fertility Performance By Lactation.
13/09/19 /MK Change - uReports - Remove Browse Sire Register from Breeding Fertility section.
                               - Change order of Breeding Fertility section so that Herd Fertility reports are first - GL request.
                               - Seperate Herd Fertility reports from drop-down-list, show them individually - GL request.
                    - uICBFEventExport - MarkAsRegistered - If Incomplete ICBF Calf Survey events found then show message after file has been sent - Michael Cawe's.
                    - uAHDBImport - Alec (Fletchers) asked that we allow in minus figures but ignore -999 figures.

Version V5.9 R0.2

02/09/19 /MK Bug Fix - DairyData - GetEventLookupData - Previous SQL was showing DryOff events for cows previous lactation not just their current - Milo Murphy.

Version V5.9 R0.1

23/08/19 /MK Change - uReports - Hide Milk Quota Planner, not relevant anymore - GL request.
                               - Change Caption of Dairy Benchmarks Report to "Milk / Feed Performance" - GL request.
                    - uRationPerformMonitor - Default From Date to 01/01/ of the current year - GL request.
                                            - Change Form Caption and Report Title to "Milk / Feed Performance" - GL request.
                                            - Hide Filter button as its not relevant to this report - GL request.
                    - uFilters - Tighten up the Filter By Group/Breed area so that it doesn't go across whole bottom of the screen - GL request.
                    - uHerdStatistics - Changed top of Total Calves section to seperate it visually from Total Calvings - GL request.
                                      - Hide "By Inseminator" label if no inseminators found - GL request.
                    - uICBFPCDownloadImporter - btnMilkRecordsClick - Give back result if Milk Recording file is saved.
                    - uMilkRec - CreateAndShow - Pass in a variable AFileSaved that allows the system to know whether the file saved.
                    - uAnimalCartView - Made the Go To menu here the same as the Animal Cart Go To menu in MenuUnit.
                    - uCalvingEvent - ValidateCalving - Format message and make it more descriptive of what the issue with the bull is i.e no breed selected - GL/Ellen Daly.
             Additional Feature - DairyData - GetEventLookupData - Create a MemDataSet of each animals current lactation MilkData.
                                            - AnimalFileByIDBeforeOpen - Add SCC, LactYield, Solids and DailyYield CalculatedFields to AnimalFileByID to allow for same columns on main grid.
                                - MenuUnit - Add Total SCC, Lact. Yield, Lact. Solids and Latest Yield columns to main grid.
                                - uFilters - Added filter by Total SCC.
                                - uHerdLookup - Added qInHerdCurrLactMilkDiskInfo query.
                                              - Added GetAnimalsWithSCCBetween function to return filter data.
                                - uUpdateTables - UpdateFilterdb - Add fields for filtering by Total SCC - GL request.
             Bug Fix - uFilters - Tab Order was all over the place.
                     - uHerdStastics - DoBreedingSQLs - Replaced single NoLiveCalves query with four seperate queries that count calvings where all calves are dead.
                                                        Bug was calvings that had one live and one dead calf were being taken as dead calving but GL agreed that
                                                        count is for "No Live Calves" in any of the calves of the calving event.
                     - MenuForm - actQueryAimAnimalDetailByBatch.Visible := WinData.CanMakeAIMRequests.
                     - ActionReminderFilt - Headings and dbText boxes were not hidden correctly when printing DuePD recording sheet - Ivan Whiteside.

Version V5.9 R0.0

16/08/19 /MK Change - uUpdateTables - UpdateSires - As the sires table can be deleted by the backup, don't update it if it doesn't exist.
                    - uEventDataHelper - GetSaleDeathRecord - Allowed a SaleDate to be passed in to get an exact sale record.
                    - uRemittanceRecord - CreateSaleWithTEventClass - ExportToXML - If Crush user then sometimes a presale record will appear before the actual sale.
                                                                                    Pass in the actual sale date to get the sale info rather than the presale info.
                    - StockinHerdFilt - LoadPurchSaleDeathData - As we already have the sale date locate TempSaleEvents by sale date to remove pre-sale events also.

Version V5.8 R9.9

15/08/19 /MK Change - uHUKIFarmEvents - GetData - NMR no longer require the Milk Date - Helen Whitaker (NMR)/Yvonne Fleetham (NMR).

Version V5.8 R9.8

14/08/19 /MK Bug Fix - uICBFEventExport - sbStartClick - Only do this check if the user hasn't ticked "Include Events Already Marked As Registered" - Captal Farms.
06/08/19 /MK Additional Feature - uAIMAnimalMovements/uAIMHerdRecImport - For Contract Herds if the user selects the heifer as a contract herd and not store on farm then add the animal to
                                                                          an XML file in Kingswood Movements, similar to the user creating a movements out file manually - Captal Farms.
                                - uAIMHeifTempTransfers - Added new GridView which groups heifers into their herds instead of user selecting individual animals - Donal Kiely.
                                                        - New GridView now allows user to select whether the herd is Contract Herd or not and whether the heifer
                                                          is to be retained in Kingswood, if the heifer is retained then create Temp Movement event, otherwise
                                                          sell the heifer off. If the herd is not selected as Contract Herd then sell the animal off.

Version V5.8 R9.7

27/06/19 /MK Bug Fix - uHealth - dbHealthBatchNoPropertiesEditValueChanged - No need to assign FDrugPurchID to object if HealthDrugPurchID.AsInteger > 0.
                                                                             This would cause the wrong purchase id to be allocated to an edited drug.

Version V5.8 R9.5

24/06/19 /MK Change - uAIMHeifTempTransfers - New look to the screen as suggested by SP/GL for better understanding of result of screen.
                    - uAIMHerdRecImport, uAIMAnimalMovements - Changes to allow for new look of uAIMHeifTempTransfers.
21/06/19 /MK Change - uAIMHerdRecImport - ProcessHeiferCalves - Changed the classification of a heifer to date of birth within 30 months - Donal Kiely/GL.
                    - uAIMAnimalMovements - IsHeifer - Changed the classification of a heifer to date of birth within 30 months - Donal Kiely/GL.
19/06/19 /MK Additional Feature - HealthFilterU - Show new mastitis and lameness events in the treatment report.
                                                - Changed Treatment Type radio group to drop-down-list to select between the 5 different types.
14/06/19 /MK Change - uHerdStatistics - Removed Calving Intervals button as Breeding Statistics now includes Calving Intervals since the new
                                        TProjectedCalvingData class generates this data quicker.
11/06/19 /MK Change - EventRecording - TSaleDeathEvent.Append - Default CanCheckWeaning to False.
                                     - TSaleDeathEvent.Post - Removed code that prompts with Weaning message if CanCheckWeaning.
                    - Groups - AddToGroup - Removed Weaning messages if Sale Group and Sale Date provided - Ivan Tanner.
                    - DairyData - EventsBeforePost - TSaleDeathEvent - Removed code that prompts with Weaning message - Ivan Tanner.
             Bug Fix - MenuUnit - EventGridAnimalEventsViewDblClick - Locate Calf after clicking into calf into on calving event
                                                                      - Check for WinData.CalvingSaved not required here as customer could be going into calving to find calf
                                                                        without having made changes to the calf i.e. dam, sire, date of birth.
Version V5.8 R9.4

24/06/19 /MK Additional Feature - uHerdSync - Added MediPur and FdStkEvent to SyncOut file.
                                - uUpdateTables - Add IsSynchronized fields to MediPur and FdStkEvents tables.
25/06/19 /MK Change - uFeedPurch - Removed CellSelect from Grid properties to stop grid moving to the side when selecting a record on the grid.
                    - uHerdSync - Added EventSource to MediPur and FdStkEvent syncing.
                    - DairyData - Set IsSynchronized to False when adding new or editing MediPur and FdStkEvents tables.
                                - Added IsSynchronized to MediPur and FdStkEvents field defs.
                    - uMedicinePurchaseRepository - CreateMedicinePurchase - Added EventSource as a variable to be passed in.
                                                                           - Default IsSychronized to False.
                    - uFeedPurchaseRepository - CreatePurchase - Added EventSource as a variable to be passed in.
                                                               - Default IsSychronized to False.
                    - uDrugsRegisterImport - actRunExcecute - Use global GetNewDrugCode that is used by WinData.MedicineNewRecord.
             Additional Feature - uUpdateTables - Add EventSource field to MediPur table.

Version V5.8 R9.3

23/05/19 /MK Bug Fix - uPurchases - Got errors in "Stop On Delphi Exception" for qSuppliers not being active.
             Additional Feature - DairyData - Added CustomerName to MDGridSaleData to show the Customer Name on the main grid - Una Carter.
                                - MenuUnit - Added CustomerName to the main grid as a column - Una Carter.
30/05/19 /MK Additional Feature - New unit uMediDisposal.
                                - uUpdateTables - Added new MedicineDisposal table and new DisposalID field to MediPur table.
                                                - Added new ListTypes to GenLook for LMediDiposalReasons.
                                - uHerdLookup - New queries added for qDrugBatchNos, qBatchNosWithQtyRem and qMediDisposalReason.
                                              - New datasources added for dsBatchNosWithQtyRem, dsDrugBatchNos and dsMediDiposalReason.
                                - uMedicineSetup - Added new button for Disposal that brings up the new uMediDisposal screen for drugs that have a batch that has a quantity remaining.
                                - uMedicinePurchaseRepository - Added new procedure UpdateMedPurchQtyRemaining which updates the quantity remaining of a purchase.
                                - uMedicineDisposalRepository - New repository which creates records in the new MedicineDisposal table.
                                - uTestGridWithDataSet - New unit created to allow for a tester to view data in a table within the database without DBD32.
                                - MenuUnit - New WindowsMsg added to take instruction from FarmSync to open the Max Bull Count increase screen.
             Change - uMedicineRespository - New function and record created to GetMedicineInfo.
31/05/19 /MK Change - uMedicineRespository - UpdateMedicineStock - New parameter added for AAllowMinus which is defaulted to True.
                                                                 - If this parameter is false then set Medicine StockLevel to zero if StockLevel +- AQuantity = Zero.
06/06/19 /MK Change - uAIMAnimalMovements - RecordMovementsOff - IsHeifer - Changed this classification to date of birth within two years of movement date,
                                                                            lactation number is zero and the AIM Movement Type is "Farm to Farm" - GL/Danny O'Connell request.
                    - uAIMHerdRecImport - ProcessHeiferCalves - Changed the classification of a heifer to date of birth within two years of movement date,
                                                                lactation number is zero and the AIM Movement Type is "Farm to Farm" - GL/Danny O'Connell request.
             Bug Fix - uCowsServedAfterPD - Grid never had datasource assigned to it so it was blank.
07/06/19 /MK Change - DairyData - GoToHerdProfile - If animals currently in the herd have active temp movement then don't include them on the
                                                    herdprofile.xml file that is then check against AIM Herd Profile - SP/GL request.
                    - uICBFPCDownloadImporter - ActivateDeactiveBulls - Made this procedure quicker - Pauline Ryan took over 2 minutes to run now takes a second.
             Additional Feature - uHerdLookup - New query, qAnimalsInHerdTempOff, that list all animals that have a active temp movement and are in the herd.
10/06/19 /MK Bug Fix - DairyData - EventsAfterPost - Only update medicine stock/purch stock if new treatment or any of the values that will cause a stock update have changed.
             Change - DairyData - qDrugBatchNo - Included QtyRemaining in this query so that we can check what batch numbers have a quantity remaining.
                    - uEventsByGroup - LookupBatchNo - Filter out those drugs that have Quantity Remaining - this also helps where two batchs of same number, one has quantity and the other doesn't - Una Carter.
                    - uHealth - LookupBatchNo - If adding a health or dry off then only show batch's with quantity remaining - this helps where two batchs of same number, one has quantity and the other doesn't - Una Carter.
                    - MenuUnit - Created a new form variable AIMMovementsActivated which is called when AIMMovements message is processed.
                               - Once the AIM has closed this variable is then checked and then ProcessAimMovements is called.
                               - With this new approach the new Temp Movement for Heifer window appears before the Movement Summary appears.
                               - Moved the DisplayAimMovementSummary into ProcessAimMovements as there is no need to call both procedures after each other.

Version V5.8 R9.2

03/05/19 /MK Bug Fix - F5 was being used instead of V5 for validating the Calf Survey codes - Michael Denning.
07/05/19 /MK Change - MenuUnit - ShowParlourLinkScreen - If MooMonitor then wait for ParlourLink to close and then call actImportParlourData.
                                                       - Set FParlourInfo after Parlour Link program is called - NOTE: Only MooMonitor link waits for ParlourLink to close.
                    - uUpdateTables - UpdateParlourLink - Added MooMonitor field to ParlourLink.db.
                    - uHerdLookup - Added MooMonitorLink to TParlourDetails.
             Additional Feature - uCreateEvents - SaveEvents - Added a ProgressBar here to show activity to the user.
                                - uCallToExternalProgram - Added new ParlourLinkAndWait which calls ParlourLink and waits for it to close.
09/05/19 /MK Change - uGridColourSelection - Changed the word "Atrributes" to "Ages (In Months)" - GL/Una Carter suggestion.
13/05/19 /MK Change - uDuplicatAnimals - Added HerdBookNo and Name fields to the grid that are not visible currently.
                                         I used this to see if the user had added any extra detail to one version of the AI - Fletchers.
17/05/19 /MK Additional Feature - uEventDataHelper - Created a TTempMovementInfo class that creates a temp table of all temp movement events with the detail of each event.
                                - uAIMAnimalMovements - ProcessMovements - Create class that contains all temp movement info.
                                                                         - Create class to all heifers brought back from another herd.
                                                                         - After sales/deaths are recorded check if there are any heifers that may be recorded as TempMovements.
                                                      - RecordMovementsOff - Check if the animal already has an active temp movement event i.e. animal is classed as still off farm.
                                                                           - If MovedTo is a valid Irish herd number, the moveType is not death and the animal
                                                                             is a heifer calve i.e. female calve born in the last year, then add animal to
                                                                             to new screen that allows the farmer to record temp movement event for the animal.
                                                      - RecordMovementsOn - If the animal is in the herd and has an active temp movement then set moved back date to MovedOn date.
                                - uAIMHerdRecImport - ProcessHeiferCalves - New procedure used to process temp movements or sales for heifer calves.
                                                    - StartTimerTimer - Process heifer calves before other animals.
                                                    - ProcessPurchaseEvent - If the animal is in the herd and has an active temp movement then set moved back date to MovedOn date.
                                                    - ProcessSaleEvent - Check if the animal already has an active temp movement event i.e. animal is classed as still off farm.
                                                    - ProcessAnimals - Create class that contains all temp movement info.
23/05/19 /MK Change - uKImport - Included the Vaccination events in the export and import of health and dry off events.
23/05/19 /MK Change - MenuUnit - Made the Export button available to non-NI users for AHDB SCI export.
             Additional Feature - MenuUnit - Added link to new AHDBImport screen.
                                - uAHDBImport - Added new screen to import SCI files from AHDB.

Version V5.8 R9.1

03/05/19 /MK Change - uCallToExternalProgram - Changed URL of TeamViewer.exe download to look at www.kingswood.ie/download/tv9.exe.

Version V5.8 R9.0

18/04/19 /MK Change - StockInHerdFilt - ViewBtnClick - Save stock on hand report to txt file for debugging differences between animal counts - Michael Callan.
23/04/19 /MK Change - uCalvingEvent - Added (F.B./Jumbo) to "Calf Number already exists in Herd" error - GL request.
29/04/19 /MK Additional Feature - MenuUnit - Added new Windows Message, WM_KINGSWOOD_AIMCLIENT_PROCESS_PROCESSNEWCUSTOMER, that is called by AIMService
                                             which calls the new procedure ProcessAIMCompCertNewCustomer that adds a new customer - SP request.
             Change - uAIMAnimalMovements - Added Class Procedure, ProcessAIMCompCertNewCustXML, to TAimAnimalMovement to allow import of newly created customer
                                            from the AIM Compliance Cert screen - SP request.
                    - uDrugFinder - GetSelectedItem - Use variables to store value as invisible exceptions were appearing if Null Meat or Milk Days.
                    - uMedicineSetup - DBNavigatorBeforeAction - No need to validate on VPA as field is read only so user has to find drug in DrugFinder.
30/04/19 /MK Change - uDataBackup - Enabled the ExcludeFollowingFlag and added Sires.db, Sires.px, UKSires.db, *.xml and *.txt files to an ExcludeFollowing list.                                   
                    - DairyData - CheckAISireRegister - If the Sires table doesn't exists i.e. a backup was restored, then don't check for update of sire register.

Version V5.8 R8.9

18/04/19 /MK Additional Feature - Added new screen, uAddSire, to allow easy setting up of AI or Non-Herd stock bulls.
                                - uHerdLookup - New MemDataSet and DataSource for PureBredBreeds i.e. not cross breeds.
                                              - Added new procedure, CreateMDPureBredBreedData, that creates the data in the new MemDataSet.
                                              - Added new function, IsValidAICode, that checks for valid Irish AI codes.
                                - GenTypesConst - Added new type, atNonHerdDam, to easy set up NonHerd Dam from MenuUnit.
                                - MenuUnit - Added new pop-up-menu for Add Sire.
                                           - New pop-up-menu has links to the new uAddSire screen.
             Change - SetupAnimals - FormActivate - Added check for atNonHerdDam to then default sex to Female.

Version V5.8 R8.8

12/04/19 /MK Bug Fix - Services - FormDestroy - Need to free the WinData.FBreedingDataHelper if I'm using it - Brian Kerr.
                                - ShowService - If there is no default bull then the EventDesc never mentioned the service count.

Version V5.8 R8.7

08/04/19 /MK Bug Fix - uRemittanceRecord - UpdateSaleInfo - When Re-Saving the Factory File the LiveWeight was not being added from either the ColdDead and Kill Out
                                                            or from a previous weighing weight and date.

Version V5.8 R8.6

08/04/19 /MK Change - uHerdSync/CreateSaleDeathEvents, uAIMHerdRecImport/ProcessSaleEvent,
                      uAIMAnimalMovements/RecordMovementsOff - PreSale needs to be set here for GetSaleEventInfo to pick up animal.
                    - DairyData - AIM Movements were not setting the PreSale field in the SalesDeaths table to false. This field is used in the
                                  uEventDatAHelper.GetAnimalSaleEventID to get the SaleEventID. New function used to set the PreSale to False
                                  where the PreSale field is null.
             Bug Fix - uCTSCattleOnHolding - Change Status label depending on whether user is in "Not Found on Kingswood" or "Not Found on BCMS" list - GL.
09/04/19 /MK Additional Feature - MenuUnit - Added new utility to call new AutoArchive program that clears all sales in the
                                             the database. This was intended to be used by Martin Hallissey after his Animals table
                                             had reached 14000 records within 3 months. New Const aAutoArchiveSerialNos created
                                             with Martin's Serial Number but this can be extended to an array if any else needs it.
                                             The AutoArchive program needs to be installed manually by TeamViewer.

Version V5.8 R8.5

05/04/19 /MK Additional Feature - DairyData -  GetEventLookupData - Added the JohnesResult to the main grid.
                                                                    JohnesResult field is an integer field 1 = Low, 2 = Medium, 3 = High - to allow for sort on main grid.
                                                                  - Added the Milking Status to the main grid.
                                - MenuUnit - Added the JohnesResult and MilkingStatus columns to the main grid.
                                           - Highlight those animals with High JohnesResult in Red, Medium in Amber and Low in Green as outlined by Alec (Fletchers).
             Changes - DairyData - AnimalFileByIDCalcFields - Days In Milk should be based on whether an animal is In Milk now i.e. has a calving date in this lact.
                     - MenuUnit - Calving Date and Service Date are not available for Beef herd type.
                                - Added drop-down-list to Group Setup screen with an item Edit Group that allows the user, Hallissey's, to change the name or group
                                  type without having any delay because of the amount of animals.
                     - uElecWeigh - ReadCSVFile - Changed POS from F11EID to EID as newer and older files both contain char "EID" - Martin Donovan.
                                  - LocateAnimal - Strip leading zeros from tag/transponder field to search for animal - Martin Donovan.
                     - uHerdSync - CreateHerdSyncData - If the herd is not in Ireland then out put the Herd Identity as the Herd Identifier.

Version V5.8 R8.4

28/03/19 /MK Additional Feature - MenuUnit - Added Average footer to the Main Grid for Days In Milk.
             Change - HealthFilterU - SetupForm - Change the "Farm Code" item to "Reason" for non-irish herds.
01/04/19 /MK Change - uMedicinePurchaseRepository - CreateMedicinePurchase - Some changes here to logic as requested by SP because Una Carter had some purchases from VetLink that didn't save.
                    - uDrugsRegisterImport - ExistsInDetailTable - Added check for HeaderID as well if customer reads in a file, and for whatever reason, it fails on purchases.
                                                                   Allow the rename of the file to bring in a second instance of the file but only those purchase
                                                                   that were not saved should then appear - Una Carter.
                                           - ImportFile - Don't set HeaderDetailRecorded here as this will not allow for file to be read in again, with new name, if purchases fail - Una Carter.

Version V5.8 R8.3

21/03/19 /MK Change - uCalvingEvent - AddDetailRecord/ChangeCalfBreed - Default the bCalfIsPedigree to false if sire doesn't have a breed - MO.
                    - uGlobalSettings - NatIDEntryStyleGridDBTableViewEditValueChanged - Only change to Edit mode if not in edit mode, don't stop the clear of the NextNatID field.
                                                                                       - If country is Ireland then autoset NextNatID to the NextNatID without user having to think of it.
                                                                                         For NI users do as we have always done because NextNatID for NI check is more intricate.
             Bug Fix - uEventsByGroup - When moving between any of the health event screens i.e. vet/dosing, dry off etc, to another event a "field is missing error appeared".
                                        As I had added new containers to the health event screen for DaysToRemind and ApplicRate I had to add these containers to SetDataSource - SE reported.
25/03/19 /MK Additional Feature - uAIMAnimalMovements - RecordMovementsOn - Add the SupplierCosts, Commission and Haulage from SupplierBreeders table - Una Carter.
                                - uSalesCatalogueFlt - Added the Apply Animal Grid Filter button to this report which filters adds the animals
                                                       from the filter on the main grid to the grid. Don't allow the user to switch to Select By Cow No
                                                       off if the filter is on - Johnny O'Hanlon.
             Bug Fix - uAnimalSearch - When FSearchAnimalType = satCalvingCows then filter out cows that have calved in the last 3 months - Dick O'Neill.
26/03/19 /MK Additional Feature - DairyData - Added dsQueryAllCustomers and QueryAllCustomers to show customers regardless if they are ticked out of use - Una Carter.
                                - uSalesDeaths - If editing a sale/death event then open then change Customers.LookupSource to new WinData.dsQueryAllCustomers and
                                                 also close/open new WinData.QueryAllCustomers when user clicks the Add button in the Customers drop-down-list - Una Carter.
27/03/19 /MK Change - uHerdLookup - BreedDetailsByID - Use Locate instead of Lookup.
                    - uCalvingEvent - GetCalfBreedID - Exit out of here if no SireBreedCode.
                                    - AddDetailRecord/ChangeCalfBreed - Only check for cross breed if there is a CalfBreedID.
                    - MeunUnit - pmAnimalCartPopupPopup - Added this procedure which seperates the popup procedure from pmAnimalGridPopupPopup procedure.
                                                        - Don't hide any items in the Cart drop-down-list, instead disable them so we can see whats available - GL request.
                               - pmAnimalGridPopupPopup - Query AIM should only exist if AIMClient exists and the animal is not in the NoneHerd.
                                                        - actQueryAimAnimalDetails should be visible if AIMQueryAnimalHistory1.Visible.
                               - Added menu item to pmAnimalCartPopup for Query AIM Animal Details By Cart.
                               - Changed order of System Files and System Parameters to alphabetical order.
                    - uMediPurch - Added the Quantity Remaining column as the last column on the grid - Una Carter.
                                 ** Discussed with GL that a customer can print this grid off for Bord Bia for Veterinary Purchases if the customer
                                    avoids the Veterinary Purchase Report in the Reports and Bord Bia area's of the program **
                                 - Made Column Header height bigger so that the grid is more presentable and doesn't spam over two pages when printed.
             Bug Fix - uSuppliers/uCustomers - Tab Order was wrong.

Version V5.8 R8.2

20/03/19 /MK Bug Fix - uIndexes - No need for ShowMessage in ReIndexAll.

Version V5.8 R8.1

20/03/19 /MK Change - uTBTestDtRep - The checkbox shape is not appearing on the PDF printouts. For Grace Dobson the document didn't even print.
                                     I changed the single qrshape for the checkbox to 4 seperate lines to make up a box.
                                     The box is now appearing on the PDF.

Version V5.8 R8.0

19/02/19 /MK Change - uMedAdminSetup - Allow edit of InUse, Position and Vet controls - SP request.
                                     - Removed Position as it was only used in HerdSync to determine whether its a vet or not.
21/02/19 /MK Bug Fix - uMilkRec - ProcessMMRFile - If difference found in lactations, report lact was being assigned as MyTable.LactNo - Willie O'Brien.
25/02/19 /MK Change - uHUKIFarmEvents - NMR asked that we allow for a 5 digit line number/cow number - changes made to all events to all for this.
                                      - Checked with Jim Westaway (CIS) who said that they allow for the 5 digit line number/cow number but for cows
                                        with a letter in their animal number the letter must always appear first. For this reason I have had to apply
                                        the 5 digit line number/cow number only to NMR customers.
                                      - Jim Westaway (CIS) asked that we supply just the 12 digit tag number i.e. leave out the country code.
26/02/19 /MK Bug Fix - uFilters - FormActivate - Default Bull and Steer enabled to whether a breeding event filter is on - GL/Charles Crosse.
             Change - uDrugFinder - Search - Need to check for length of withdrawal ChildNode text because it was causing a hidden delphi exception.
06/03/19 /MK Change - KRoutines - NextIrishNatIDNumber - Made function quicker by using an SQL to filter out animals by herd identifier and then
                                                         sorting by the SortNatID field - this will not work if the sort is messed up but this is likely.
                    - uGlobalSettings - CheckValidNationalIDPart - Changed message text to indicate to the user that the number they are entering is less
                                                                   then the expected NextNatID number - Hugh Collender.
07/03/19 /MK Change - CreateEvents - uCreateEvents - Removed this code as SQL for ElectronicID was not executing - no longer supporting PDA's anyway - SP.
                    - uIndexes - ReindexAll - Looping through DairyData TempTable objects - Code refactored with SP.
                    - DairyData - IsCalvingEventIDRegistered - Use IsCalfRegistered_BySQL to see if Event is registered.
                                - CalfRegistered_BySQL - If Irish herd then check AIM registration result in Status field of Calvings.db - Tom O'Keeffe.
08/03/19 /MK Change - Services - For new services for cows with planned bull events, previous versions would only default Service Bull to top Planned Bull.
                                 Added new table, FBullList, that has all planned bulls at the top of the list and other bulls below it - GL request.
13/03/19 /MK Change - uCTSBirthReg - New private variable FNullRecordsFound used when loading animals and registering calves to show error if null NatID, Sex or Breed.
                                   - New procedure, SortByNullRecordsFound, uused when loading animals and registering calves to sort grid by NullRecords.
              Bug Fix - uCTSBirthReg - NullRecords check when registering calves should only apply to selected records - Joey (Muldowney's Garrel herd).
15/03/19 /MK Additional Feature - uEventsByGroup - Created a new approach for Health events to allow the user to switch between application rate for animal or animals weight.
                         Bug Fix - uEventsByGroup - When treating multiple animals, the SQL to produce warning for the purchase quantity was wrong so the warning would not appear
                                                    if the sum of the application rate for all animals was more than the purchase quantity.
                                                  - When switching Multiple Treatments On and moving to another event the Multiple Treatments button was still bold.
                                                  - Tabbing sequence for the variants of the Health event page were all wrong.
                         Change - uEventsByGroup - Remove the Add/Edit button beside the Drug Used and make sure that the Medicine Setup button always moves to the selected drug - GL request.
                                                 - After a drug used is selected, if the user clicks Medicine Setup and changes the drugs dose unit, then update the application rate label - GL request.
                                                 - Only highlight those boxes in the Health event page depending on WinData.EventType i.e. drug used not required for Mastitis or Lameness - Pat McLoughlin.
                                - uSalesReport - Aoife (Bellingham) asked if this restriction of crush weights within 5 days could be changed to 14
                                                 to allow for a situation where if a supplier tells the buyer that the animal is purchased on a date
                                                 but the animal is not tranported to Bellingham for more than a week because the supplier is waiting
                                                 until they have a truck load of animals to move to Bellingham, Aoife said 14 days would cover this.

Version V5.8 R7.2

19/03/19 /MK Change - uCalvingEvent - Added try, except, end around ChangeCalfBreed and GetCalfBreedID as in some sets of data these utilites were crashing - Charles Crosse.

Version V5.8 R7.1

25/02/19 /MK Bug Fix - uDrugsRegisterImport - EditVPANo1Click - If Unit selected before clicking button in VPA field then assign selected unit to rest of records for this drug.
                                                              - Disable controls of grid while closing and opening to stop "List index out of bounds" error - Noel Keane.

Version V5.8 R7.0

25/02/19 /MK Bug Fix - uEventsByGroup - SetApplicRateByLastWeight - Only change ApplicRate by LastWeight if FApplicRateByWeightAllowed.

Version V5.8 R6.9

12/02/19 /MK Change - MenuUnit - Always show btnBordBiaRedTrac regardless of country - James (Poplars in Fletchers).
                    - uCalvingEvent - GetCanShowtvBullList - Don't show TVBullList if editing a calving - James (Poplars).
                                                           - Don't show TVBullList if there are no StockBullEvents for the current herd and current lactations.
             Bug Fix - uCalvingEvent - SetProjectedDateText - Default FProjectedCalvingDate to zero before checking if AServiceDate = 0, this will stop message for
                                                              difference between calving date and projected for appearing for non service bulls.
13/02/19 /MK Bug Fix - uEventsByGroup - Only show prompt to update application rate by last weight once per session - Nicole - Richard Bourns.
19/02/19 /MK Change - uCalvingEvent - Various changes in this form to tackle the Access Violation errors reported by customers, main changes include
                                      . checking for MemDataSet Integer field is greater than zero first check if field is null.
                                      . sepearated out the validate calf tag, check for duplicate tag/animal no in MemDataSet, check other calf details.
                    - MenuUnit - ShowCalvingEvent - If WinData.CalvingSaved don't run SetupQuery, just close and open WinData.AnimalFileByID and locate calved animal.
                    - KDBRoutines - CreateBreedFromBreedCode - SP had a look at the code and changed it so that it would not return zero and if it did then
                                                               EventRecording.SetPrimaryBreedCode would not assign the animals primary breed to zero.

Version V5.8 R6.8

09/02/19 /MK Change - DairyData - WinDataDestroy - Use a batch file to clear off all the excess/old index files in the ApplicDir.
10/02/19 /MK Change - MenuUnit - Added TeamViewer to Help menu as lower screen res monitors don't show the button on bottom bar.
                    - uSystem - Changed TeamViewer to call program, same as MenuUnit TeamViewer objects.
11/02/19 /MK Change - uCalvingEvent - Removed ApplicationLog.LogDebugMessage from SaveCalving, CreateCalving and FormDestroy to assess Access Violation location.
                                    - Added ApplicationLog.LogDebugMessage to ValidateCalving, ValidateCalf and ValidateAnimalDetails as previous version found Access Violation errors here.

Version V5.8 R6.7

09/02/19 /MK Change - DairyData - Removed all ApplicationLog.LogDebugMessage from Create and Destroy.
                    - MenuUnit - Removed all ApplicationLog.LogDebugMessage from Create, Destroy, Show and Active.
                               - CheckFiles - In this version the debuglog is for used for Calving Access Violation checks, remove old MenuUnit debuglog.
                    - uCalvingEvent - Added ApplicationLog.LogDebugMessage to SaveCalving, CreateCalving and FormDestroy to assess Access Violation location.

Version V5.8 R6.6

04/02/19 /MK Change - uCalfRegFlt - RegisterCalf - Change warning to be more up-to-date with AIM registrations - GL request.
                    - uMartImportByFile - PostFileDetails - As in Purchase file, always MartTableSourceID field, not just if reviewing mart file.
             Additional Feature - uMartImportByFile - UpdateFMartTableSourceID - Store the Commission/Deductions and Transport from Customer/Supplier in relevant fields of FMartTable.
                                                    - PostPurchaseAndHealth - Take the buyers costs from the buyers table and store in relevant Purchase table field.
                                                                            - When adding a missing detail purchase record, add the buyer costs.
                                                                            - When updating a purchase record add buyercosts.
                                                    - PostSales - Add CustomerCosts from Deductions(Commission) and Transport(Haulage) from Customer table.
                                                                - When adding a missing detail sale record, add the customer costs.
                                                                - When updating a sale record add customer costs.
07/02/19 /MK Change - uCalvingEvent - Removed AddToXMLFile code for now to see if this stops the Access Violation messages - need to look at XML code - SP.
                    - uHerdLookup - ErrorInTagStore - Show error if there are less than 10 records in TagStore.
                                  - RemoveFromTagStore - If error found in TagStore then attempt 10 times to generate tag and exit out giving error.

Version V5.8 R6.5

31/01/19 /MK Additional Feature - uEventsByGroup - Added the Lameness event to allow user to record a treatment of Foot Pairing - Pat McLoughin (S/N 5296).
                                - uUpdateTables - UpdateHealth - Added new field TreatmentUsed for the Lameness event to record hoof pairing.
                                                - UpdateGenLook - Added in new genlook items for the Treatment Used.
                                - GenTypesConst - New ListType added for Treatment Used for Lamness event.
                                                - New EventType for Lameness.
                                - EventRecording - Added new TreatmentUsed integer field to the THealthEvent.                
                                - uHerdLookup - Added new Lameness event to mdEventTypes to allow for deletion of the event in Diary Events
                                                as well as showing the Event Type description in the event grid of the main screen.
                                              - Added a repository item for LookupComboBox for the Treatment Used in Lameness event.
                                              - Added Data Source and Query to get the Treatment Used list type combobox items in GenLook.
                                - uHealth - Added AmendLameness to TAddOrAmendHealth.
                                          - If AmendLameness then change the caption of the screen to Lameness.
                                          - Added the Area Treated check boxes for editing of the Mastitis and Lameness events.
                                          - Added the Treatment Used drop-down-list for editing of Lameness events.
                                          - Added code to only show these controls if editing Mastitis or Lameness events.
                                          - Moved the ICBF/Reason drop-down-list if editing Mastitis or Lameness events.
                                          - On change of the new checkboxes for Mastitis or Lameness, change the event comment accordingly.
             Change - EventGridAnimalEventsViewDblClick - Allow edit/view of new Lameness event.
                    - DairyData - DeleteEvent - Added new Lameness event here to allow delete of the event through Event Diary.
01/02/19 /MK Change - MenuUnit - ShowDraftGroupsMenu - Allow the Drafting menu to appear if the parlour type is Nedap.
                    - uGroupSetup - FormCreate - If ParlourType Is Nedap Then Allow Drafting Group Type.
             Bug Fix - MedicalPurchases - If the drug is N/A then display N/A not 9999 - Sean (Kingswood).

Version V5.8 R6.4

25/01/19 /MK Bug Fix - uEventsByGroup - If user said no to create application rate from weight, the application rate was still set to the last weight x application rate.
                                      - RateOfApplicPropertiesChange - Only create comment based on Application Rate if Application Rate.Text has a value - backspace caused "invalid variant type conversion error".

Version V5.8 R6.3
                        
21/01/19 /MK Additional Feature - uUpdateTables - UpdateHealth - Added AreaTreated boolean fields 1 to 4 for Mastitis and Lameness block events - GL/SP.
             Bug Fix - SetupAnimals -  FormActivate - If BullSemenStk in Insert mode then default BullSemenStk.InUse to True.
                                                      InUse is set to false sometimes when you open the SetupAnimals, close and re-open it - SP.
24/01/19 /MK Additional Feature - uEventsByGroup - Added the Mastitis event - Scot (Martonhall Fletchers).
                                - GenTypesConst - New Event Type to show the Mastitis event created by Block Events.
                                - uHerdLookup - Added new Mastitis event to mdEventTypes to allow for deletion of the event in Diary Events
                                                as well as showing the Event Type description in the event grid of the main screen.
                                - EventRecording - Added new AreaTreated 1 to 4 fields to the THealthEvent.
                         Change - uEventsByGroup - Added AnimalGridCellClick and AnimalGridDrawColumnCell which allow for a single tick of a check box that links to boolean field.
                                - uHealth - Added AmendMastitis to TAddOrAmendHealth.
                                          - If AmendMastitis then change the caption of the screen to Mastitis.
                                - MenuUnit - EventGridAnimalEventsViewDblClick - Allow edit/view of new Mastitis event.
                                - DairyData - DeleteEvent - Added new Mastitis event here to allow delete of the event through Event Diary.

Version V5.8 R6.2

16/01/19 /MK Bug Fix - DairyData - OpenAndCheckTables - Reindex of files was after NISystem check and Blank Technician check.
                                                        If there was an index issue with Owners (NISystem) or GenLook (Blank Technicians) then the usual
                                                        index error would appear but the program would not reindex - Kieran Savage/Kathleen O'Connor.

Version V5.8 R6.1

08/01/19 /MK Change - BeefRemitLine - Load - Dawn meats are now producing a file with an extra space before the tag number. This is
                                             off setting the grade so that a character before the grade i.e. the sex, is being included in the grade
                                             as well as a space and then the grade. We need to only take the grade - Aubrey Pearson/GL.
                    - DairyData - LoadPreferences - Ignore the registry value, DownloadMailAttachments should only be based on existence of the mailbox file.
                                - CheckFiles - Because of Dawn Meats mess up with the grades i.e. there is a letter from the previous column being added along with a space
                                               to the grade because an extra space was added after the tag number, we need to fix the sales that were affected
                                               to only show the grade - Aubrey Pearson/GL.

Version V5.8 R6.0

04/01/19 /MK Bug Fix - uEventsByGroup - CreateTempTable - TempAnimals NoCalves value should be defaulting to 1.
             Change - uEventsByGroup - Order of Preg Diag header matches grid so Default Days in Calf is after Calf Type - GL.
                                     - Moved yellow message higher under No of Calves so that it appears in smaller monitors.

Version V5.8 R5.9

03/01/19 /MK Change - uDrugsRegisterImport - StoreAnimalsInAnimalDetailTable - Added progress bar to indicate animals being matched - Kieran Savage/GL request.
                                                                             - Added BeginFullUpdate/EndFullUpdate so grid isn't scrolling when looping through records - SP request.
                    - MenuUnit - SetUpForm - Links menu should be visibe if Mailbox file exists, removed "Auto download mail attachments preference" - GL/SP request.
                    - uGlobalSettings - Removed the "Auto download mail attachments" preference - Links menu now based on existence of mailbox.config file - GL/SP request.
                    - uEventsByGroup - Made Health, Vaccination, DryOff and Weighing loading of animals quicker by adding temp tables and queries for weighing and purchase event info.
                                     - Health, Vaccination, DryOff - removed tick box to show last weight column, always show column if info is available - SP/GL.
                                     - PD - Bring back days in calf into the header section - GL/DOM/Michael Cavanagh.
                                          - Change label from "Days In Calf" to "Default Days In Calf".
                                          - Move yellow message below the Days In Calf box so that the new days in calf info box can appear to the right of days in calf - GL.
                                          - If Days in Calf in header is less than 20 then give error and set focus to Days in Calf again.
Version V5.8 R5.8

02/01/19 /MK Change - uElecWeigh - LocateAnimal - When searching for Transponder number allow for leading zeros in TruTest transponder - Mary & Derek Dean/SP/GL.

Version V5.8 R5.7

04/12/18 /MK Addiontal Feature - uUpdateTables - UpdateGenLookup - Added Pneumonia and Johnes to list of diseases - James Lowe/Rob Uglow request.
             Change - BrowseRegisterU - AddSire - When adding an animal bring down the Herd Book Number.
                                                - When updating an existing animal bring down the name and herd book number - Hugh Dwyer reported.
                    - uGlobalSettings - Changed cbDisplayMovementFeedColsinGridView from "Display Movement/Feed Group columns in grid view" to
                                        "Display Movement columns in grid view" as Feed and Batch groups are always showing now - Shane Maxwell request for filtering.
                    - MenuUnit - Always show Feed and Batch group columns so that they can be used in conjunction with filter - Shane Maxwell (filter for in milk and in group).
                               - Added filter option to Feed and Batch group columns - Shane Maxwell.
                    - DairyData - MenuUnit - GetEventLookupData - Moved the Batch and Feed Group outside of the GlobalSettings.DisplayMovementFeedColsInGridView check - Shane Maxwell.
                                           - AnimalFileByIDBeforeOpen - Moved the Batch and Feed Group outside of the GlobalSettings.DisplayMovementFeedColsInGridView check - Shane Maxwell.
05/12/18 /MK Change - uReports - ReportsCheckMods - Only show Herd Report Generator once.
                    - DiaryData - CheckFiles - Update the ordering of the report generators to match the order in the reports screen - GL request.
07/12/18 /MK Additional Feature - MenuUnit - Added Culled as a menu item to Animal Category/Animals Left Herd menu.
             Change - MenuUnit - Added AShowCulled as parameter for SoldAnimalFilter procedure so the SQL can look at cows sold that have been culled or not - Martin Heaney.

Version V5.8 R5.6

29/11/18 /MK Bug Fix - uHerdSync - CreateHerdSyncData - The Health and Weighing Events were outside of the FHerdQuery while not eof loop - Eddie Jordan UCD.
03/12/18 /MK Change - uFarmSyncSettings - New class function for Verbose which allows the sync to only sync animals that are not synchronized - SP/R.Bourns.
                    - uHerdSync - CreateHerdSyncData - Use FarmSyncSetting verbose parameter to see whether to sync sold animals - SP/R.Bourns.

Version V5.8 R5.5

26/11/18 /MK Bug Fix - uUpdateTable - UpdateReportsTable - During the while not eof loop OldCalfPerformanceID was being assigned to zero so
                                                           OldCalfPerformanceID would never be greater than zero, therefore the Calf Performance report
                                                           was always showing when it should been removed.
27/11/18 /MK Additional Feature - uConditionScoreReport - Added Associated Event fields to temp table.
                                                        - Added first letter of associated event to DateScore string on report.
                                                        - Had to make DateScore report labels bigger to accommodate new associate event single character.
                                                        - Added Export To CSV button to Toolbar - Eddie Jordan.
                                - MenuUnit - Added an popup menu item to pmImportOptions that allows an import of a transponder file to the cart - Eddie Jordan UCD request.
                                - New form created, uImportFileMemo, that allows a Memo result to appear after a file is imported if there are any errors in the import.
            Change - uElecWeigh - CreateExportFile - EZI weigh export file can only contain the animal number and transponder number - John Wynne.
                   - uEventsByGroup - CreateTempTable - Only default to default herd if WinData.UserDefaultHerdID > 0 or not MultiHerd in same database system.
                   - uBreedingDataHelper - GetPregDiagInfo - Added var for ReCheck.
28/11/18 /MK Change - uEventsByGroup - Fertility Check - Finished work on allowing the program to be selected in header section and applied to grid - Eddie Jordan UCD.
             Bug Fix - uEventsByGroup - HealthEventRecCreated - Regardless of event type, if the user enters a manual comment then save event description as this comment.
                     - uGroupSetup - SelectAll - Passing in AllowDeletion as whatever length existing group array is as AllowDeletion will
                                                 delete animal from previous group selected group are being removed from that group - Michael Callan reported.
29/11/18 /MK Change - uEventsByGroup - CopyDetails - Fertility Check - If action is not start program then clear the TempAnimals.FertProgram if it was previously set.
                    - uAllocateFeedToAnimal - GetStart_EndAllocationDate - If IsStartDate and EndDate is greater than the Earliest Regime Start Date then start date should be end date.

Version V5.8 R4.7

21/11/18 /MK Bug Fix - uSalesReport - ViewBtnClick - Since new quickreports were added for Show Crush weigh and Hide Feed Costs, the supplier/buyer switch hasn't worked - Richard Bourns.
             Change - uEventsByGroup - PD Events - Hide the Days In Calf in the header section as some farmers were recording this with weird figures like 1 or 7 - Eddie O'Flynn.
22/11/18 /MK Additional Feature - uHerdLookup - New public function, MultiHerdHasSameHerdNo, created to check to see if MultiHerd system has
                                                the same herd identity in each record of the Owners table - Eddie Jordan (UCD).
             Change - DairyData - OnCreate - Check new HerdLookup.MultiHerdHasSameHerdNo function.
                    - MenuUnit - actSyncSettingsExecute - Check new HerdLookup.MultiHerdHasSameHerdNo function.

Version V5.8 R4.6

05/11/18 /MK Additional Feature - uUpdateTables - UpdateDeletedGrps - Added AutoInc ID, DateDeleted and IsSynchronized fields to DeletedGrps table.
             Change - DairyData - GroupsBeforeDeleted - Insert date deleted and IsSynchronized values to newly added fields in DeletedGrps table.
07/11/18 /MK Additional Feature - New unit, uGroupsNotUsed, that allows the user to delete groups that are not in use i.e. no animals, in block. 
                                - MenuUnit - Added new utility, Delete Groups Not Used, to the utility menu if there are groups with no animals.
08/11/18 /MK Additional Feature - uDrugsRegisterImport - In the treatment part of VetLink allow the user the deselect/select all - Dan Norton.                                               
09/11/18 /MK Additional Feature - uHerdSync - CreateHerdSyncData - Added code to sync the DeletedGrps table.

Version V5.8 R4.5

05/11/18 /MK Incorporated Source From Release - uSalesDeaths - SaleDeathNavBeforeAction - Only remove animal from group if its in a feed group.

Version V5.8 R4.4

05/11/18 /MK Bug Fix - uFilters - bApplyFilterClick - Use StockDate.Date instead Date for Age and Days on Farm filters - Kepak.

Version V5.8 R4.3

05/11/18 /MK Incorporated Source From Release - MenuUnit - ShowBordBiaEventAreaButton - Red Tractor button should be available if NIreland.

Version V5.8 R4.2

01/11/18 /MK Incorporated Source From Release - EventRecording - SetPrimaryBreedCode - If breed code doesn't exist then create it.
                                              - uBeefAISireRegister - LoadSettings - If BeefAISireSettings table does not exist and it is created then assign variables after creating the table.
                                                                    - AddSire - ExistingBull can be nil.
                                                                              - When adding new bull or updating an existing bull, if the MaternalIndex is blank then only add the BullID to the BullExt table.
                                              - uHerdSync - ReadHerdSyncData - Bring in the medicine purchases before the animal remedies.
                                              - KDBRoutines - CreateBreedFromBreedCode - New function that creates a breed code if it doesn't exist.

Version V5.8 R4.1

24/10/18 /MK Change - uCalvingEvent - Took out all on E : Exception ShowMessage(e.Message) from try except.
                                    - FillBullList - Included PlannedBull EventType in Bullings SQL.
                                    - SetupBullTreeListView - If FSelectedBullID is assigned from StockBull events then set dbBullUsed to FSelectedBullID.
                                    - dbBullUsedPropertiesPopup - Default tvBullList (StockBull Events) to default dbBullUsed.DropDownWidth.
                                                                - If any of the items in the tvBullList have children i.e. have StockBullEvent dates, then set width to 500 to show dates.
                                    - Moved the SetupBullTreeListView to dbCalvingDatePropertiesChange so that bull list is derived from calving date change.

Version V5.8 R4.0

17/10/18 /MK Additional Feature - BeefRemitLine - Added new consts for line carcase line lenghts as An ABP file has a different carcase line length to the default line length.
                                                  Therefore some fields on the ABP file are in different positions to the default line length.
                                                - Added new consts for the ABP fields that are at different positions to the standard line length.
                                                - Load - Check for length of the carcase line to see if file is an ABP or default line length.
                                - DaZMisc - CarcaseExists - Added const boolean for ReImportSale to allow the sale to be saved to again.
                                - uRemittance - New form private variable, FReImportFile, that is defaulted off and is only set to true if importing a file again
                                                where that file has animals that have been sold.
                                              - BuildGridFromFile/StringGrid1DblClick - Pass in form variable, FReImportFile, to CarcaseExists to allow the file to be read in again.
                                              - Allow the file to be read in again and update SalesDeaths record fields.
                                - uRemittanceRecord - CreateSaleWithTEventClass - Update an existing sale record if an existing sale (not presale) record is found.
             Change - uRemittance - Changed Crush Data button to Re-Save file as Crush Data has not been used since we made new Crush changes for ABP i.e uCrushBarcode.
                                  - Removed property and subsequent procedures/functions for MatchAnimalsToCrushFile.
                                  - ToolBarButtonClick - Set the Save button as not enabled after reading in the file.
                    - uRemittanceRecord - Changed CreateSaleWithTEventClass UpdatePreSaleEvent to UpdateSaleInfo with variable for AIsPreSale to be passed in if a presale event is found.
             Bug Fix - EventRecording - TSaleDeathEvent - SetCondemnedWt - CondemnedWt was set to FColdDeadWt, looks like Copy/Paste problem.
                     - uSalesDeaths - CustomersChange - Only set the comment to the customer name if (adding or (editing and customer name has changed)).
22/10/18 /MK Change - uCalvingEvent - AddDetailRecord - Now that English are also generating ABORT tags, apply same rule to English herd as Ireland and Northern Ireland
                                                        i.e. only if the calf is dead and it has an aborted tag, on opening of a calving event, then set the
                                                        Status to Dead (Not Tagged).
                                    - FillBullList - Changed SQL of bulls to include Left Join.
                                    - Removed mdCalvingHeaderBullUsedOnChange as it was never used.
             Bug Fix - uCalvingEvent - OnBullUsedChange_CloseUp - When editing a calving and changing the bull an Access Violation error appeared.
                                                                  I added try accept here as Access Violation was caused by mdCalvingHeader not being in dsEditModes.
                                     - dbBullUsed - Changed OnCloseUp event to OnChange as if user was manually entering bull code with the keyboard the bull change
                                                    was not updating the Bull Name or the Calf Breed - John Wynne.
                     - uCTSBirthReg - actRegisterCTSExecute - When looping for bNullRecordsFound only do check if check is False.
                                                            - Instead of GoToError change to raise Exception.Create as GoToError was appearing even if there were no animals in results page.
23/10/18 /MK Bug Fix - DairyData - CheckDrugBatchQtyRemaining - If the multiplier in the units table is zero then leave the Dose and Purchase Multiplier as default of 1.
             Change - uCalvingEvent - dbCalvingDatePropertiesChange - Give a warning message if adding an animal in an Irish herd and the date is less then 28 days from today - Peter Twoomey.

Version V5.8 R3.2

17/10/18 /MK Change - BeefRemitLine - CSV converted to RMT puts the grade at position 33 where standard RMT files are at position 32.
                                      Changed length of grade to 6 to allow for this difference.

Version V5.8 R3.1

15/10/18 /MK Additional Feature - New unit, uHerdNewFeatures, created to show new features (AIM Sync, VetLink) to users.
                                - GenTypesConst - New GlobalSetting and RegistryEntry for new uHerdNewFeatures screen.
                                - MenuUnit - FormActivate - Show uHerdNewFeatures depending on whether user has turned off these preferences.
                                           - Added new Utility for Clear Disease Test Dates.
                                - DairyData - LoadPreferences - Load new preferences for uHerdNewFeatures screen.
                                - New unit, uClearDiseaseTestDate, to allow users to clear of the test dates for Bruce, BVD and TB.
                                - HerdPassword - Added new TPasswordAction for paClearDiseaseTestDates.
                                - uEventsByGroup - pgEventsChange - Show new Clear Disease Test Dates button if Herd Test tab is active.
                                                 - On Click of Clear Disease Test Dates button prompt for password and then show new uClearDiseaseTestDate screen.
             Change - MenuUnit - Removed Herd/New Features submenu as it was no longer relevant as new New Features screen is being created.
                               - Removed Help/Kingswood Herd Developments menu item as the web page is not available.
16/10/18 /MK Change - DairyData - EventsAfterDelete - TPregDiag - Once the event is deleted check if there is a null PD event and reactivate it.
             Additional Feature - uUpdateTables - UpdateOwners - Added the field HerdRecLastSyncDate to the Owners table to store last sync date with AIM for startup prompt.
                                - uStartupReminders - A new reminder created to sync with AIM after 30 days based on HerdRecLastSyncDate field in Owners table
                                - DairyData - HerdRecLastSyncDate - Added this field to the owners table to store last date Herd Rec was clicked in either
                                                                    the startup reminders screen or the main screen - currently only AIM Herd Rec.

Version V5.8 R3.0

25/09/18 /MK Bug Fix - uCTSBirthReg - actRegisterCTSExecute - Only show errors about blank tags, sex or breed if in the registering tab not results tab - Heulwen (Dales).
27/09/18 /MK Additional Feature - Def - New module to allow new look main grid for dealer users only.
                                - DairyData - LoadPreferences/SavePerferences - Changes implemented for Show Dealer Main Screen preference/module.
                                - GenTypesConst - DisplayDealerMainScr - New GlobalSetting variable defaulted from Def.Defintion.dUseDealer.
                                - uPreferences - New DisplayDealerMainScr registry entry for preferences.
                                - uGlobalSettings - New CheckBox in General Preferences/System screen for Dealer.
                                                  - This is based on the registry entry cGSDisplayDealerMainScr which is defaulted from Def.Definition.dUseDealer.
                                - MenuUnit - CheckMods - Hide Block Events buttons if Preference for Dealer is turned on.
                                - uSalesDeaths - Added new TAddOrAmendSaleDeath type for AddDeath.
             Bug Fix - uRemittanceRecord - PostFactoryDockets - Moved CreateSaleWithTEventClass into RemittanceCount loop.
                                         - CreateSaleWithTEventClass - Need to pass in the ASectionIndex for multiple dockets on one file.
             Change - uEventsByGroup - CreateTempTable - If there are no animals in the TempAnimals table then give an error and exit this try/finally sequence.
                    - MenuUnit - CheckMods - Change single purchase, sale, vet treatment and weighing to go into the block event screens.
                               - ShowSingleAnimalEventMenu - Change around buttons in Movement Events Panel depending on Dealer user.
                    - uSalesDeaths - Changed TAddOrAmendSaleDeath AddSaleDeath to AddSale.
                                   - Changed all if FAddOrAmend checks to look at both AddSale and AddDeath.
                                   - If FAddOrAmend is AddDeath then default AnimalStatus to Died.
28/09/18 /MK Change - uBeefAISireRegister - AnimalInUse - Changed this function to return a TAnimal object to check if breed exists for animal.
                                          - AddSire - If there is no breed for the bull then give error and exit, don't try save the bull.
                                                    - If no breed saved in animals table and breed is on file, then update animals table with breed.
                    - uHerdLookup - Added a check for a null/zero primarybreed in PlannedBull, ServiceBull and StockBull queries.
                    - MenuUnit - BullsInUseFilter - Changed query to be like the Service, Planned Bull and Stock Bull queries in HerdLookup i.e. check for null breed.
                    - Services - qBullUsed/qHistBullsUsed queries changed to be like the Service, Planned Bull and Stock Bull queries in HerdLookup i.e. check for null breed.
                               - Removed the qBullUsed and qHistBullUsed components and replaced them with HerdLookup.qServiceBullUsed and HerdLookup.qServiceHistBullUsed.
                    - Bullings - Removed the qPlanned component as it was replaced in the past by HerdLookup.qPlannedBull.
01/10/18 /MK Change - uCallToExternalProgram - CallHerdUtilsReIndex - SP suggested that I change the call to HerdUtils from the conventional ExternalProgramCall to ShellExecute so there is no wait.
                    - BeefRemitLine - Need to allow for some factories on the old 32 start so increase length to 5 - Barbara (Kepak).
02/10/18 /MK Additional Feature - uEventDataHelper - Create TSaleEventInfo which hold all info for a sale/death event.
                                                   - TEventDataHelper.GetSaleDeathRecord - New function that returns the new TSaleEventInfo class.
03/10/18 /MK Change - uRemittanceRecord - CreateSaleWithTEventClass - Moved update of presale event into a seperate sub function of CreateSaleWithTEventClass for readability.
                                                                    - Seperate CrushXMLExport from TSaleDeathEvent class routine.
08/10/18 /MK Change - HealthFilterU - If Dealer user then don't show feed purchase report option and change caption of report accordingly.
                    - uReports - If Dealer user then change vet/feed purchase report to vet purchase report.
                    - MenuUnit - Change height of lEventsSection depending on whether the Dealer module/preference is turned on.
                               - Change AIM/ICBF to AIM if ICBF options are not available - Herd Admin only users.
                               - Change Veterinary/Feeds to Veterinary - Dealer users.
                               - Change panel description text in Veterinary/Feed and Group panels depending on modules and preferences.
                               - Hide Bord Bia buttons if Dealer module.
             Bug Fix - uGlobalSettings - Only show cbEnableBeefGroupPurchases if user has Crush module.
09/10/18 /MK Additional Feature - GenTypesConst - UpdateMartWeightWithCrushWeight - New GlobalSetting variable defaulted from Def.Defintion.dUseCrush.
                                - DairyData - LoadPreferences/SavePerferences - Changes implemented for Update Mart Weight With Crush Weight preference.
                                - uPreferences - New UpdateMartWeightWithCrushWeight registry entry for preferences.
                                - uGlobalSettings - New CheckBox in Events/Mart Files for Update Mart Weight With Crush Weight.
                                                  - This is based on the registry entry cGSUpdateMartWeightWithCrushWeight which is defaulted from Def.Defintion.dUseCrush.
                                - uMartImportByFile - Import - Check for new preference, Update Mart Weight With Crush Weight, overwrite weight from
                                                               mart file with crush weight i.e. animals recent weighing event weight, if this preference is on - Bellingham.
             Change - uSalesReport - Default Include Crush Weight ON if new preference, Update Mart Weight With Crush Weight, is OFF - Bellingham.
             
Version V5.8 R2.9

18/09/18 /MK Bug Fix - uGroupSetup - FormActivate - GenerateGroupCode_DescByDate - Include FormType zero (Sales Groups) in this array.
19/09/18 /MK Change - uMediAdminSetup - Don't allow an edit or delete of MedAdmin records - SP request for App users but apply to everyone.
                    - uSalePurchDelete - ShowSalePurchaseDeleteScreen - If the country is Northern Ireland then show prompt for Remark, else just delete the event - GL/SP.
21/09/18 /MK Change - uKillOutCalculator - Calculate - Pass in the AnimalID here instead of Breed and Sex for so that the error of no breed or sex can show TAnimal.NatIDNo.
24/09/18 /MK Additional Feature - uNutrientProductionProjectionRptScr - Added the filter button to the report - Paul Sandall.
                                                                      - GetAnimals - If filter is on then only take animals that are in the filter into the report.
                                - uNutrientProductionProjectionRpt - Added new label to the report title band to show that the filter is on.

Version V5.8 R2.8

13/09/18 /MK Change - EventRecording - PostCalving - In some cases a calf ID of 1 is added to the calving table but the actual id is saved to the animals table.
                    - MenuUnit - Added try, except around opening/closing uCalvingEvent to trap Access Violation errors.
                    - uCalvingEvent - Removed TCalfXMLInfo, TCalfDetails & TCalvingXMLInfo classes and their uses as they weren't being used properly and
                                      seem to be superceeded by the standalone unit uCalvingXML but were never removed.
             Bug Fix - MenuUnit - FormActivate - Added try, except around Repaint as only one client is still getting a "Unspecified Error" opening the program - Scott (Fletchers).
14/09/18 /MK Bug Fix - uCTSBirthReg - LoadBirthsToBeRegistered - Delete animals were being included.
             Change - uCTSBirthReg - actRegisterCTSExecute - If any of the 3 fields (NatID, Sex, Breed) are Null then sort by the field, give error and exit out of procedure.
                    - uCTSBirthReg/uCTSMovementReg - When the user clicks bbRemoveNatIdFormatting then apply the change without exiting from the screen.
                    - DairyData - DairyData - WinDataDestroy - Check the user is downloading a new version and don't auto reindex.
                                - MenuUnit - CloseAndOpenKInstaller - If user is downloading a new version then don't allow autoreindex.

Version V5.8 R2.7

07/09/18 /MK Change - KDBRoutines - GetHerdsFromDatabases - Pass in holding number so that if CTS system then we can find what herds belong to that holding number.
                    - uCTSHerdReconcileOptions - FormCreate - Pass in holding number to get databases of this herds holding number only.
10/09/18 /MK Change - uCTSHerdReconcileOptions - pcHerdReconciliationPageChanging - If there are animals not found on CTS data then show count in Status Bar
                    - uCalvingEvent - dbStatusPropertiesChange - Use the ABOR system with English herds.
             Additional Feature - New unit, uEditAnimalDBByGrid, allows the user to edit animal numbers or transponder numbers in a grid format - Arwel Davies.
                                - MenuUnit - Added utility item for Change Animal Details.
                                           - Two menu items create, only one shows depending on whether the user is using Parlour Link or not.
                                - uHerdLookup - Two public functions created, AnimalNoAlreadyExists & TransponderNoAlreadyExists.

Version V5.8 R2.6

03/09/18 /MK Change - uElecWeigh - BlankHeaderWeighDate - Check to see if the passed in string has one or less characters.
                                 - CreateWeighingEvent - Made change for new TruTest 3000 file where the date is preceded by "Date: ".
             Additional Feature - New date function, StripDateFromString, to strip date from a string.

Version V5.8 R2.5

21/08/18 /MK Additional Feature - uSireAnalysis - Added Live Weight and Kill Out % columns and fields to the Calf Grid - GL/Derek Deane.
                                                - Added averages to the footer for these new columns/fields.
                         Change - uSireAnalysis - Changed the Sale/Death Date to Sales Date as only sold animals are included.
                                                - ProcessCalfTable - Exclude calves that have died - GL.
22/08/18 /MK Change - uSireAnalysis - ProcessCalfTable - Added query to get calves in FCalfTable's birth weight.
                                                       - Added query to get weighing events of calves in FCalfTable after birth weight.
                                                       - If no records in either of these queries then there is no data for the report, give a message
                                                         stating that there are no records and close the report.
                                                       - Removed WinData.FEventDataHelper.GetAnimal_First_Last_WeighingRecord from this report as it was
                                                         taking too long. Instead find this information from birth and recent weighing queries. Animals final
                                                         weight can be found in the recent weighings if the animals is still alive or in the qMovementsInfo query.
                                    - In the average footers for the live weight, dead weight and kill out, only add get average based on animals
                                      that have a values in the fields that the footer is based on.
27/08/18 /MK Change - uWeighingFilt/StockInHerdFilt - Changed order of title bar so that Options is before Help.
                    - uReports - SetupForm - Made changes to the visble = False where Visible is set by the Country.
                                           - Check to see if AIM exists and change actCMMSReconciliation to AIM Reconciliation.
                    - MenuUnit - FormClose - Don't give reminder to backup if IP is blacklisted - SP.
             Additional Feature - uHelp - New unit that allows just text help to be added to a screen, similar to App help.
28/08/18 /MK Bug Fix - uRemittance - SendEmail - Body of the email should contain the Mailbox username if Default Mail Client is Gmail.
             Additional Feature - DairyData - MailboxConfigAccountName - New property that gives the Mailbox email address.

Version V5.8 R2.4

15/08/18 /MK Additional Feature - uUpdateTables - UpdateMedicines - Added a boolean field, DrugFindWithdAccepted, to the Medicine table that store whether the user
                                                                    has accepted the message that appears after a drug has been imported from uDrugFinder with its withdrawal.
                                                                  - Added a timestamp/date field, DrugFindWithdAcceptDate, to the Medince table that stores what date and time
                                                                    a user has accepted the message that appears after a drug has been imported from uDrugFinder with its withdrawal.
                                - DairyData - Added the fields DrugFindWithdAccepted & DrugFindWithdAcceptDate to medicine table.
                                            - Defaults these values to false and Null respectively on Medicine.NewRecord.
16/08/18 /MK Additional Feature - uDrugFinder - Added the milk and meat columns to the grid.
                                              - When reading the XML file bring in the withdrawal details as well.
                                              - When returning the selected item, return the withdrawal details also.
                                - uDrugRegisterImport - When the user brings down a drug from DrugFinder then bring down withdrawal details also.
                                                      - Added withdrawal fields, withdrawal confirmation and date to the FDetailTable.
                                                      - If the drug is found by the user then the withdrawal will be added to the medicine table and boolean/date&time are set for this drug.
                                - uMedicineSetup - actSearchForVPA - When user selects a drug from DrugFinder then bring down the withdrawal details.
                                                                   - If withdrawal details are brought down then set the new boolean/date&time in the Medicine table.
                                                                   - If updating existing drug then post if DuplicateVPAUpdated.
                                - uMedicinesNullGroup - When bringing in drug from DrugFinder then bring down the withdrawal information as well.
                                                      - Added new fields, boolean and date&time, to TempTable that store whether the withdrawal information was brought down from DrugFinder.
                                                      - If the withdrawal information is brought down from DrugFinder then set the boolean/date&time fields.
                                                      - actSaveExecute - Update the medicine table with these new boolean/date&time fields.
             Change - uMedicineClearUp - FixDuplicateDrugs - Changed this procedure to a function so we know whether the SQL's excecuted without any errors.
                    - uMedicineSetup - CheckForDuplicateVPANumber - Changed this procedure to a function called DuplicateVPAUpdated so we know whether the duplicates were fixed.
                                                                  - Always prompt the user to update existing drug if duplicates are found regardless of Medicine table db state.
20/08/18 /MK Additional Feature - New unit, uDrugFinderWithdMsg, will appear when user selects a drug from uDrugFinder to confirm withdrawal periods.
                                - If user clicks Cancel or closes this screen then withdrawal details are not brought down from uDrugFinder.
                                - Added this unit to all units that use uDrugFinder - uDrugRegisterImport, uMedicineSetup, uMedicinesNullGroup.
                                - uUpdateTables - UpdateMedicines - Added four new integer fields to Medicines table MeatWithdBroughtDown, MilkWithdBroughtDown, OldMeatWithdrawal
                                                                    and OldMeatWithdrawal - the brought down fields store what is brought down from DrugFinder, the Old fields
                                                                    store the withdrawal values before they were brought down from DrugFinder.
                                - DairyData - Added the same four fields to the Medicine table as in UpdateMedicines in uUpdateTables.

Version V5.8 R2.3

13/08/18 /MK Change - GenTypesConst - Moved Report Options record type to GenTypesConst for public use.
                    - uStockValuations - Changed all price per kg columns from Avg Per Kg. to Sale Price/KG - GL.
                                       - Changed around headings on grid and report so that it reads DLWG | Kill Out % | Sale Price/Kg.
                                       - CalcParams - If AvgSalesPricePerKg <= 0 then default to 4. This value should never be zero or blank - GL.
             Additional Feature - uWeighingFilt - Added new QuickReport for minified version of >2 weighings report - Richard Charmley/GL.
                                                - Show this new QuickReport for Dairy herds only.
                                                - Replaced Weighing Target button with Options button that has different types for the 3 different weighing reports.
                                - uReportOptions - Added new Options Type for differnt weighing report types.
             Bug Fix - uStockValuations - GetAnimals - Don't use animals current gain per day, instead use its lifetime gain per day - GL.
14/08/18 /MK Bug Fix - uHealth - HealthNavBeforeAction - If treatment is being entered after the animal is sold, the withdrawal prompt was always appearing if the
                                                         withdrawal date was greater then treatment date but should only appear if the withdrawal date is greater than
                                                         the animals actual sale date - John Merrick.
             Change - uHealth - HealthNavBeforeAction - Before checking withdrawal date check if event date is after sale date instead of waiting for the
                                                        event to post to DairyData and then do the check.

Version V5.8 R2.2

01/08/18 /MK Additional Feature - uDeptMarts - New unit created to stores arrays of mart numbers and names from the Dept. of Ag.
                                             - There is a public function that takes a mart number and returns the name of the mart.
                                - uAIMAnimalMovements - RecordMovementsOn/RecordMovementsOff - Use new uDeptMarts function to get mart name from Dept. mart number.
                                - uAIMHerdRecImport - ProcessPurchaseEvent/ProcessSaleEvent - Use new uDeptMarts function to get mart name from Dept. mart number.
02/08/18 /MK Additional Feature - uDeptFactories - New unit created to stores arrays of factory numbers and names from the Dept. of Ag.
                                                 - There is a public function that takes a factory number and returns the name of the factory.
                                - uAIMAnimalMovements - RecordMovementsOff - Use new uDeptFactories function to get factory name from Dept. factory number.
                                - uAIMHerdRecImport - ProcessSaleEvent - Use new uDeptFactories function to get factory name from Dept. factory number.
03/08/18 /MK Change - uMartEmailRequest - As the WinData.mdMarts table was cleared in this version, add the names and codes from the uDeptMarts.
                                        - If has existing marts with email addresses in the MartEmailSuppliers table then add the saved email address from this table.
                                        - If the user adds an email address for a mart then add this record to the MartEmailSuppliers table if it doesn't exist already
                                          or update the email address of the mart with the new email address.
                    - DairyData - Deleted the contents of the mdMarts table as these will be create from the Dept. Mary array in uDeptMarts.
                                - Added the MartNo field to the mdMarts table.
                    - uCustomers/uSuppliers - Added panel around search/edit area to seperate it from the add area so user doesn't get confused.
                                            - Added bevel around add area to seperate it from the new search/edit panel.
                                            - Changed DBMemo to panel and cxDBLabel as it wasn't centered properly.
             Additional Feature - DairyData - DeleteUnusedMartEmailSuppliers - New function that deletes all marts from the MartEmailSuppliers table.
07/08/18 /MK Change - uMartEmailRequest - Added ActionList with items for Close, Send Email and Select Mart.
                                        - Pass AShowEmail into Execute form procedure to allow either email of mart or select mart.
                                        - If Select Mart then add name and number to new HerdLookup.SelectedDeptMartInfo record.
                    - uCustomers/uSuppliers - OnFormCloseQuery - CanClose checks if WinData.Suppliers is in Add/Edit mode, then checks to see if the name field has data in it.
                                                                 If this criteria is met then the user is prompted with an "Unsaved changes, exit anyway?" prompt.
                    - uReports - Changed caption of actLivestockInventory from Annual Livestock Valuation to Annual Livestock Inventory - GL.
                    - uStockValuations - Moved cbFilter to the top of the form like other forms.
                                       - Don't exclude animals that were not purchased, instead show them in red on the report.
             Additional Feature - GenTypesConst - TSelectedDeptMartInfo - New record type to store the selected Dept. mart to add as a Customer/Supplier.
                                - uHerdLookup - New public variable, SelectedDeptMartInfo, to store selected mart for creating new customer/supplier.
                                - uCustomers/uSuppliers - Added Options button and a drop-down-menu from the Options button to allow user to Lookup Mart from uMartEmailRequest screen.
                                                        - If user has selected a mart from uMartEmailRequest then add the name and number for this mart as a new mart.
                                                        - Options button is only available for Irish herds as its a listing of Dept. Of Ag marts.
                                - uMartEmailRequest - Added search box to the form to allow the user to quickly search for a mart. This will filter the grid by the text
                                                      entered in the box so that only marts of the text entered appear.
08/08/18 /MK Change - uStockValuations - GetAnimals - If cbFilter.Visible and Checked then only show report based on animals in the filter.
                                       - If cbFilter.Visble and Checked then grey out lPurchDateFilter and ToDate.
                                       - Changed lPurchDateFilter.Caption/qrlValueStockOnDate.Caption from "Include Animals Purchased on or before" to
                                         "Value stock as on date:".
                                       - If animals on the report do not have purchase details then, on view/print of the report,
                                         change sort to Purchase Date in Ascending order so that these animals appear first on the report.
                    uLivestockInvent - Changed title from Annual Livestock Valuation to Annual Livestock Inventory - GL request.
                    uLivestockSum - If ReportType is rtLSInventory and not from BordBia menu then change Caption to Annual Livestock Inventory - GL request.
                    MenuUnit - SetUpForm - Show Transponder Column if Dairy herd and Parlour or Ration calc modules are using transponder numbers - UCD.
                    uCustomers/uSuppliers - DBNavigatorBeforeAction - Check to make sure that an address is entered.

Version V5.8 R2.1

30/07/18 /MK Additional Feature - DairyData - MartFileHasBlankBreeds - New public function that checks for blank breeds in the mart file.
31/07/18 /MK Change - uMartImportByFile - Review screen will appear if (preference is ticked) or (there are blank breeds and its a purchase file).
                                        - If (purchase file) and (there are blank breeds) then don't prompt to review the file, just review the file.
                    - uMartImportByFileReview - FormActivate - Sort grid by BreedCode if (its a purchase file) and (there are blank breeds) so blank breeds show first.
                                                             - Allow the BreedCode field to be edited if (its a purchase file) and (there are blank breeds).
                                              - FormCloseQuery - Don't allow the form to close if (its a purchase file) and (there are blank breeds).
                                              - FormCreate - Added new query and datasource for in use breeds for BreedColumn LookupCombobox property.

Version V5.8 R2.0

30/07/18 /MK Change - uReportOptions - Replaced single tick box for Temp Movements/B&B with radio group which defaults to first item.
             Additional Feature - ReportDefaults - New TPurchaseSalesDefaults properties for IncludeAllPurchaseDetails and IncludeLastPurchaseDetails.
                                - StockInHerdFilt - LoadScreenDefaults/SaveScreenDefaults - Added code to store selection from new uReportOptions RadioGroup Include Purchase Details.

Version V5.8 R1.4

26/07/18 /MK Bug Fix - uCrushXML - ProcessPurchaseEvent - This bit of code was only checked if AnimalID was not found and NatID was used to search for animal.
                                                          This would in-turn create a duplicate purchase record for the animal.
27/07/18 /MK Change - uDrugsRegisterImport - Changed all instances of While Not EOF after FDetailTable.Filter is set to While Step (based on FindFirst and FindNext).
                                             as this is the more appropriate approach to looping through a table after the table is filtered.
                                           - Changed some of the on e : Exception/ShowMessage to storing the error in the log file.
                                           - If the drug is not valid then new procedure, MarkDetailRecordAsNotImported, sets it as imported/ignored via SQL.
                                           - Changed all instances of FDetailTable.RecordCount to FDetailTable.IsEmpty.
                                           - Created new form private procedure GetRecordCountByFilterString that gets the count of animals in a filtered table from SQL based on filter.
                                           - If the drug is not valid then new procedure, MarkDetailRecordAsNotImported, sets it as imported/ignored via SQL.
                                           - OnFormDestory add checks for Out of Memory and Out of Resource errors as there is sometimes an Access Violation error closing VetLink.
                    - uEventFilter - FormCreate - Grey out HerdCombo if Multi herd like main grid.
             Bug Fix - uCrushXML - ProcessPurchaseEvent - This bit of code was only checked if AnimalID was not found and NatID was used to search for animal.
                                                          This would in-turn create a duplicate purchase record for the animal.
                     - uDrugsRegisterImport - actRunExecute - Looping through found drugs - If the drug exists in the FDetailTable then use it don't go searching again for the VPA number.

Version V5.8 R1.3

19/07/18 /MK Bug Fix - uMartImportByFileReview - If user pressed the x button to close the Review screen the import should be cancelled - GL request.
23/07/18 /MK Additional Feature - uEventsByGroup - Added ToBeCulledEvent - John Wynne/Hilton Dagge.
                                                 - Only allow cows that don't have a ToBeCulled event in the current lactation should appear on animal grid.
                                - MenuUnit - Added sub items to Animals Left Herd for Sold and Died - these are visible to all herd types.
             Change - MenuUnit - cxAnimalGridViewFocusedRecordChanged - Changed lRecNo from "'RecNo' of 'RecordCount'" to "'RecordCount' animals ('RecNo')" - GL.
                               - Don't hide animal select if Herd Type is Beef.
                               - ShowHideAnimalCategoryItems - Only show some of the Animal Category drop-down-list items if HerdType is NOT Beef.
24/07/18 /MK Change - MenuUnit - SetupForm - Don't show Moorepark drop-down-list from Calving if Suckler herd.
                               - ShowHideAnimalCategoryItems - Don't show Beef Cattle, Replacements, In Milk or Dry categories if herd type is Suckler - GL.
             Additional Feature - uEventFilter - Replaced CXLookupCombo with RXDBLookupCombo for HerdCombo to allow for a DisplayEmpty value of AllHerds.
25/07/18 /MK Change - uEventFilter - EventsQueryBeforeOpen - If MultiHerd (more than 1 herd in same database) then don't apply animals from AFilters.db
                                                             Instead if no filter applied or ShowAllAnimals is unticked then only show animals in herd for all herds except None herd.
                                                             If filter or ShowAllAnimals is applied then only show events for animals that are not in None Herd and are not deleted.
             Bug Fix - HealthFilterU - ViewBtnClick - Vet Purchases - Removed Distinct from SQL as it was causing identitical batch numbers bought
                                                                      on the same day with identical cost and quantity to appear once on the report - TOK/GL.

Version V5.8 R1.2

23/07/18 /MK Bug Fix - uGroupSetup - SetupScanTable - Code to fix scanning of 372 tags was in release version but not test.

Version V5.8 R1.1

18/07/18 /MK Change - uAnimalBrowser - Added in a var for the Herd Type so that if the Herd Type is Beef then only show Health tab.
                                     - Added in the Search By drop-down-list to allow the user to change between AnimalNo and PartNatID.
                                       The Search By used to depend on the search type selection on the main grid.
                                       Search By drop-down-list will default to main grid search type.
                                     - Always show animal grid.
                                     - Only show LactNo if HerdType is NOT beef.
                                     - All changes done on request of Bellingham Farms.
                    - uNewUIHealthEvent - Replaced Health Code with Admin By as this is a required field - Bellingham Farms.
                    - uMartImportByFile - PostPurchaseAndHealth - If Crush user and the animal is sold but does not have a purchase event then create purchase event - Bellingham.
             Additional Feature - uCrushBarCode - Added the Pen number as a drop down list - Bellingham.

Version V5.8 R1.0

16/07/18 /MK Additional Feature - uSireAnalysis - Added Cold Dead Weight and Grade to calf grid - Derek Deane.
                                                - Seperate General Animal Info and Sales/Death details with seperator columns coloured by a new style.
                                - uHeatServiceFilt - Added Last Service Days to the report - Declan O'Meara.
                                                   - Could not fit Days Since Last Service in rgIncludeInSumColumn so GL suggested Days Served.

Version V5.8 R0.9

11/07/18 /MK Bug Fix - MenuUnit - SetUpCartQuery - If AnimalCartDataAsWideString is empty then show error of no animals in the cart - Gilligan Meats - Cart From App.
                     - uHerdSync - CreateWeighingEvents - If Comment entered on App then update EventComment with comment from App.
12/07/18 /MK Additional Feature - uRestrictAnimals - Change 1 year to SpinEdit defaulting to 365 days for both TB and Brucellosis.
                                                   - Change default description of Health to "(DrugName) - (Meat/Milk) w/drawal (withdrawal days) days.
                                                                                   TB to "Last TB Test Date more than (SpinEdit) days".
                                                                                   Brucellosis to "Last Bruc more than (SpinEdit) days".
                                                   - Added additional columns for Last TB and Last Brucellosis date.
                                                   - Made sure that the filters, columns and descriptions are in the same order, TB, Brucellosis and Withdrawal.
                                                   - All changes instegated by Jackie in Quinn International's conversation with Declan O'Meara.
13/07/18 /MK Bug Fix - KRoutines - IsIETag/Is372Tag - Added try except around StrToInt for foreign tags that are 12 characters that contain letters.    
             Additional Feature - New Unit, uReportOptions, currently for Purchase Sales Analysis. 
                                - StockInHerdFilt - Added a new Options button on the ToolBar.
                                                  - Options button links to new TfmReportOptions form.
                                                  - Removed include options from Purchase Sales Analysis report as they were added to the TfmReportOptions form.
                                - uPurchSalesReport - Added sub title to Report Title from Custom Title in uReportOptions - Jackie (Quinn's).
16/07/18 /MK Additional Feature - StockInHerdFilt - Added sort by Check Digit, Last 4 digits to sort by list for PurchSalesAnal report - Jackie (Quinn's).

Version V5.8 R0.8

06/07/18 /MK Change - uSalesReport - Fixed Tab Order.
             Additional Feature - uSalesReport - Added button to the menu bar for Include Options.
                                               - Include options pops up a PopupMenu for Farm Costs, Dead Animals and Crush Weight.
                                               - Crush Weight item only appears if user has the Crush Module.
                                               - If Crush Weight is ticked then remove Feed Costs column and add the Crush Weight column to the Purchase Detail section.
                                               - Crush Weight is the first weighing event on or after the purchase date.
                                               - Use Crush Weight to calculate the Avg Gain Per Day.
09/07/18 /MK Change - uReports - FormCreate - If Herd Type is Beef then don't show "with Sires" after Weight Gain Analysis.
                    - uWeighingFilt - BuildWeighing - Include PreSale Weighing events as a weighing event in tWeighingRecords - ABP.
             Additional Feature - uWeighingFilt - Added breed filter.
                                                - Only show breeds that that are currently in use i.e. WinData.UserDefaultHerdID.
10/07/18 /MK Change - uWeighingFilt - BuildWeighing - If there is no LastWeighingDate and there is either a purchase or birth weight
                                                  and date of purchase or birth is less than then LastWeighingDate then
                                                  set the LastWeight to either purchase or birth depending.
                                    - WeightGainRep - Change caption of header label and date field of sire to breed code if herd type is beef.
                                                    - Change caption of header of Weight Gain Per Day - Recent to Farm Wt and Lifetime to Mart Wt - if herd type is beef.

Version V5.8 R0.7

09/07/18 /MK Bug Fix - uTempMovementsIn - LoadMovements - Set FMovedOutDate to date selected as check on date is based on FMovedOutDate.

Version V5.8 R0.6

01/06/18 /MK Change - uSireAnalysis - Changed width columns on Sire Grid to allow neat printing.
                                    - Removed filter bar from report and added it to header of report.
                    - uReports - Created an TActionList dynamically that contans the actions of the CowRecording section to allow ordering of
                                 the CowRecording menu based on whether the herd type is Suckler or not - GL request.
                    - uFilters - Changed name of Overall Gain Per Day group box to Lifetime Gain/Day to match
             Bug Fix - uSireAnalysis - Footer was not on Calf Grid printout.
05/06/18 /MK Change - uCalvingEvent - ChangeCalfBreed/AddDetailRecord - Set CalfIsPedigree boolean to false if calf breed is a cross breed - Cheryl Poole.
                                    - actAddCalfExecute - Added ValidateCalf to check if calf added is valid before creating a new mdCalvingDetail record.
                                    - mdCalvingHeaderBullUsedOnChange - Removed source code from this procedure and added it to the end of OnBullUsedChange_CloseUp
                                                                        as it was causing ChangeCalfBreed procedure to run twice.
                                    - SaveCalving - Moved ValidateCalving before ShowBullList_AfterActDate_ProjDateMsg and CheckDamDrugWithdrawalPeriod as it was pointless
                                                    that check for invalid tag or sex of calf appearing after ShowBullList_AfterActDate_ProjDateMsg and CheckDamDrugWithdrawalPeriod.
                                    - ValidateCalving - Added more validation for calving date versus date of birth of dam.
06/06/18 /MK Change - uCalvingEvent - dbCalfSexPropertiesChange - Check for cross breed here also to set CalfIsPedigree boolean in mdCalvingDetail.
07/06/18 /MK Change - uCrushXML - Incorporated the animals NatIDNum into the Import and Export file.
                                - ProcessSaleEvent, ProcessPurchaseEvent - If AnimalID does not exist then use NationalID number to locate animal.
                                                                         - If AnimalID does not exist and NationalID does exist then add to log file and process event.
                    - KRoutines - GetAnimal - If RecordCount of query for AnimalID or NatID then exit, don't process TAnimal.
                    - uKImport, uSalesDeaths, uPurchases, uBBPPurchScr, uRemittanceRecord, uMartImportByFile - AddAnimalToXMLFile - Add NationalID number to CrushXML file.
27/06/18 /MK Change - uCalvingEvent - Removed OnChange property for dbBullUsed - instead calling OnBullUsedChange_CloseUp when mdCalvingHeaderBullUsed is assigned/changed.
                    - Moved GetPreSaleStatusInfo from KDBRoutines to uEventDataHelper as it makes more sense to be there.
                    - Changed all instances using GetPreSaleStatusInfo to TEventDataHelper.GetPreSaleStatusInfo.
                    - uEventDataHelper - GetAnimalOverallGainPerDay - Used new GetAnimal_First_Last_WeighingRecord to get first and last weighing info instead of mutiple SQL's.
                                                                    - Removed the updating of the animals table from this function.
             Bug Fix - uCalvingEvent - dbStatusPropertiesChange - Don't clear CalfSex when dbStatus is changed.
             Additional Feature - uEventDataHelper - GetAnimal_First_Last_WeighingRecord - Created a new function that returns a TWeighingRecord for first or last weighing of animal.
28/06/18 /MK Additional Feature - uHerdLookup - AddAnimalsToTempTableOnStockDate - New public procedure that adds animal on a stock date to a temp table.
             Change - uDrugsRegisterImport - CreateTempAnimalSelectTableData - Replaced SQL's to add animals on treatment date to temp table with new Public HerdLookup.AddAnimalsToTempTableOnStockDate procedure.
                    - uCalvingEvent - GetCalfBreedID - If dam is HO and sire is FR then calf is FR OR if dam is FR and sire is HO then calf is FR - GL/SP request.
                                    - ChangeCalfBreed - Some refactoring code changes here.
03/07/18 /MK Bug Fix - uSireAnalysis - Initial query to find calves that have a weighing record was only
                                       reporting on calves that had 2 weighing events or more. This would not bring in
                                       calves that were only weighed once after their intial birth or purchase weight.
                                       Replaced initial query with general query for calves that have a sire.
                                       ProcessCalfTable then gets first and last weighing information.
                                       If there is no weight gain then delete the calf from the temp calf table.
                     - BrowseRegisterU - When searching only by the Name the wrong bull was being picked up.
                                       - ResetSireQuery - New procedure added to change the Sires.SQL back to default text and clear the filter on Sires.
             Change - HealthFilterU - Only Load/StoreScreenDefaults if country is not Ireland - GL/SP/Jim Tobin
                                    - If Ireland then default From Date of 1 year ago, set Report On to both and set filter to No Filter - GL/SP/Jim Tobin
             Additional Feature - BrowseRegisterU - If the user presses the enter key in the Code or Name box then search for the bull - John (Kingswood).
04/07/18 /MK Bug Fix - BrowseRegisterU - AddSire - Update the AnimalDeleted field to False if the SireID exists.
             Change - MenuUnit - BullsInUseFilter - Only show bulls that have an Animal Number.

Version V5.8 R0.5

13/06/18 /SP Bug Fix - uWeighingFlt.pas, dfm - Revamp to speed it up. It was crashing for ABP, and extremely slow for others.
Version V5.8 R0.4

05/06/18 /MK Incorporated Source From Release - uDrugsRegisterImport - Treatments were saved against different drugs - Noel Keane.
                                                                     - If user deselects all treatments bar one and saves the treatment, all treatments that were unticked were still saved.
                                                                     - If user deselects all treatments bar one, saves the treatment, reopens the vetlink file after treatments are saved,
                                                                       all treatments that were not saved are still unticked.

Version V5.8 R0.3

26/04/18 /MK Additional Feature - New unit, uAnimalSelectByDate, to allow user to select animals in herd on a certain stock date.
27/04/18 /MK Additional Feature - uDrugsRegisterImport - Used new unit, uAnimalSelectByDate, to allow user to select animals in the herd on a certain treatment date.
                                                       - If VetLink file has been read and the treatments were only half finished then don't mark the file as read but allow the user
                                                         to read the file in again to record the rest of the treatments.
                                                       - Create a table of all animals selected in uAnimalSelectByDate and their treatment records in a seperate table in the database.
14/05/18 /MK Additional Feature - uAnimalSelectByDate - Pass in Category Type and delete animals from stock on date that are not in the category selected.
             Change - uAnimalSelectByDate - Pass in array of animals based on tag numbers entered by the vet on prescription.
23/05/18 /MK Change - uDrugsRegisterImport - If user selects a group then pop up uAnimalSelectByDate for the user to confirm the animals in the group selected.
                    - uAnimalSelectByDate - Allow for animal's in group category.
31/05/18 /MK Incorporated Source From Release - MenuUnit - Removed 31B option from pmAIMMovements, pmFilterMenu & pmAnimalCartPopup as per Ian Byryne (Dept.) email - GL request.

Version V5.8 R0.2

25/05/18 /MK Bug Fix - uEventDataHelper - GetAnimalPreSaleEventID - Changed query as result was showing animals that were sold not presale.
25/05/18 /MK Bug Fix - uCrushXML - TCrushXMLImport - Moved ProcessXMLFiles into a public procedure.
                                                   - Destroy added override to declaration as Destory was not being called.
                                                   - When updating the sale event, only the sale details were updated not the event date of the sale
                                                     so if the date on the Crush database was a pre-sale event and there was a factory file read into
                                                     the office and added to the XML file, the date of the sale event after the XML import stayed as
                                                     the pre sale event date.
             Change - uCrushXML - TCrushXMLImport - Created a TempTable, FXMLSalesTable, that has the results of the sale events from the XML file.
                                                  - Loop through new table and process Sale Event.
                                                  - Create one instance of TSaleEvent and use Database.StartTransaction and Database.Commit.
                    - MenuUnit - miCrushXMLImportClick - Moved the creation of the TCrushXMLImport here as its the standard approach.
28/05/18 /MK Change - uCrushXML - TCrushXMLImport - Created a TempTable, FXMLPurchTable, that has the results of the purchase events on the XML file.
                                                  - Loop through new table and process Purchase Event.
                                                  - Create one instance of TSaleEvent and use Database.StartTransaction and Database.Commit.

Version V5.8 R0.1

04/05/18 /MK Bug Fix - uCreateEvents - When saving the event check to see if the event exists already, this helps if event comes in twice from the parlour - Nick Kearney.
08/05/18 /MK Change - uGroupSetup - FormActivate - If FormType = 1 then this was not assigned prior to today to any group type nor was it used in any other unit prior to today
                                                 - Using FormType 1 to allow the user to set up a Batch Group with just a code and description that the user can type i.e. not generated by the system.
             Bug Fix - uGroupSetup - FormActivate - Check whether to show the lActiveFeedGroup label when the form opens.
14/05/18 /MK Change - uKImport - Added the Batch Group combobox.
                               - Added the Purchase Group and Batch Group combobox columns to the Animal grid.
                               - Added the capability, on Update Herd Register, to add the animals to the group selected from the grid not the header.
             Additional Feature - uKImport - WriteEvents - If animal is saved and there are default treatments then saved the default treatments also.
18/05/18 /MK Change - uMartImportByFileReview - Added combobox and label to allow the user to change the supplier for the whole file.
                    - uMartImportByFile - PostPurchaseAndHealth - Changed FSourceID to FMartTable.FieldByName('CustomerSupplier').AsInteger as user is allowed to change
                                                                  the supplier from the top combo box at the top of the Mart Review screen (for Purchases only).

Version V5.7 R9.3

25/05/17 /MK Bug Fix - DairyData - CheckFiles - If user is on an old version then delete the druglisting.xml file just in case an old file exists without DrugGroup.

Version V5.7 R9.2

11/05/18 /MK Change - DairyData - FixDataProblems was taking to long on Bellingham farms data who don't have the App so I put FixDupAITechnicianCodes into check for App.

Version V5.7 R9.0

25/04/18 /MK Bug Fix - uRemittanceRecord - CreateSaleWithTEventClass - sPreSale Event was not update with new sale figures after move to TEvent class.
                     - DairyData - TempCalvingBeforePost - Old CalvingScr for ParlourLink - Just check for CheckNatID no need for other check of length of string.
             Change - uEventDataHelper - Added functions to get PreSaleEventID and PreSaleWeight.
26/04/18 /MK Bug Fix - DairyData - CheckFiles - Run a utility to check to see if there are drugs with a withdrawal (meat or milk) of 9999 that are not set a N/A. 

Version V5.7 R8.9

19/04/18 /MK Change - DairyData - WinDataDestroy - Run the auto reindex feature within HerdUtils if DataDir\autoreindex file exists.
             Additional Feature - uCallToExternalProgram - Added call to HerdUtils with params for running reindex if autoreindex file exists in DataDir.

Version V5.7 R8.8

11/04/18 /MK Bug Fix - uRemittance - ExecuteFile - Moved ClearStringGrid & BuildGridFromFile from here to a new FileTimer.OnTimer event as the canvas
                                                   of the grid had not been intitalized in time for the full width of the grid to show the content of the file - DOM.
17/04/18 /MK Bug Fix - uEventsByGroup - sbSaveClick - WriteTheOtherEvent was removed when new TPregDiagEvent class was added.
                     - BeefRemitLine - Changed length of idNational to 15 to allow for 372 tags.
             Change - GenTypesConst - Created new event source for TEvent Factory Sales changes.
                    - BeefRemitLine - Changed the start of idSex and idGrade as all data was not been taken.
                    - uCrushXML - Added CondemenedWeight variable to TSaleAnimal.
                    - uRemittanceRecord - Replaced the PostEventData function from PostFactoryDockets with new CreateSaleWithTEventClass procedure that uses TSaleDeathEvent TEvent class.
                                        - New procedure also has a progress bar to indicate the import of the records - this was required for large files.

Version V5.7 R8.7

09/04/18 /MK Additional Feature - DairyData - WinDataCreate - Check and delete blank Technicians that may have been created by the App.
                                - HerdPassword - New utility added to allow the comments of service events to be updated
                                                 by the count of services in the current lactation and the event date.
                                - MenuUnit - Added new utility for Update Service Comments.
10/04/18 /MK Change - DairyData - LoadPreferences - Stop loading from settings.def, just create the registry key entries with default values if registry key does not exist - SP.
11/04/18 /MK Change - uGroupSetup - Changed order of FormActivate so that if coming in from the Beef Purchase screen, the group is created.
                                  - If ShowTheFormID then only show minimal screen height.
                                  - FormActivate - If FormType is minimal screen height then no need to run query for AnimalsNotInGroup as grid is not shown.

Version V5.7 R8.6

03/04/18 /MK Additional Feature - New unit, uSireAnalysis, that show all bulls have had calves who have been weighed twice or more - GL/Mary Deane/Robin Talbot.
                                - uReports - Added the Sire Analysis report to the Cow Recording section before the Bull Report - GL request.
                                - uReportFilters - Added uSireAnalysis to this unit.
04/04/18 /MK Bug Fix - uReportFilters - LoadGrid - Most Used list should be ordered by AmountUsed in desceding order - most used report first.
                     - uCalvingEvent - dbStatusPropertiesCloseUp - If user clicks into status and clicks out of it, the program crashed because it was try to clear the items
                                                                   of the status list but the item was already in use. This check only needs to be done for new calvings.
                                     - AddDetailRecord - If Country is Ireland or Nothern Ireland then check for Aborted Tag.
                                                         If Country is England then animals that are marked as aborted (Dead Not Tagged) have a blank tag number.
                                     - dbStatusPropertiesInitPopup - If editing a calving event don't allow status to be changed to Dead (Not Tagged)
                                                                     If adding a new calving then show Dead (Not Tagged) if entering first calf.
             Change - uMartImportByFile - ImportFromXML - NewLine made a change in 2017 that is only affecting files exporting from the mart recently.
                                                          Gerry (Kingswood) agreed with Simon Jones (NewLine) that would check for node name Tag if the node name TagNo does not exist.

Version V5.7 R8.5

27/03/18 /MK Change - uProgressIndicator - Added const to ShowProgressIndicator for AUpdateAndProcessMessages that allows ProgressIndicator to use
                                           Update and ProcessMessages in ShowProgressIndicator and StepIt when ProgressIndicator is used in a unit
                                           that does not have a form.
                    - uCrushXML - ProcessSaleXMLFile/ProcessPurchaseXMLFile - Show ProgressIndicator when importing the XML files.

Version V5.7 R8.4

16/03/18 /MK Additional Feature - EventRecording - New class for TDeleteEventRec to allow delete of events - PregDiag only for now.
                                                   PregDiag delete will delete PregDiag event and NullPregDiag event (eventtype 103).
                                - DairyData - DeleteEvent/EventsAfterDelete - Used new TDeleteEventRec class from EventRecording.
                                - uBreedingDataHelper - GetPregDiagInfoBySQL - New procedure to get preg diag info by SQL instead of using TTables.
                                - uEventsByGroup - For PregDiag event use EventRecording to save the events.
                                                 - After events are saved call LoadBreedingData for TempAnimals to load PregDiag event info.
20/03/18 /MK Additional Feature - uBreedingDataHelper - GetServiceInfoBySQL - New procedure to get the service infor by SQL instead of using TTables.
                                - uEventsByGroup - CreateTempTable - Before LoadBreedingData - Added progress bar to show user what the program is doing instead of just egg timer.
             Change - uEventsByGroup - LoadBreedingData - Use new BreedingDataHelper procedure's to get preg diag and service info by SQL for speed purposes.
21/03/18 /MK Additional Feature - uBreedingDataHelper - GetPregDiagInfoBySQL - Added IsRecheck variable to get Recheck value from PregDiag table.
                                - uEventsByGroup - Added Recheck field to PregDiag event.
                                - ReportDefaults - New TDuePregDiagDefaults property NotServedDaysToCalving which is defaulted to 50.    
             Change - uEventsByGroup - Seperated the service and preg diag data of LoadBreedingData into seperate procedures so that they can be used when
                                       changing the EventDate on the AnimalGrid.
                                     - When loading in previous PregDiag results also check for the Recheck boolean in the PregDiag table.
                                     - sbSaveClick - Don't allow PregDiag event to be saved if PregStatus is True and there is no DaysInCalf or DaysSinceLastService.
                    - ActionReminderFilt - DuePD - LoadScreenDefaults/SaveScreenDefaults - DuePregDiagDefaults - Load/Store Not Served.
                                                                                                               - Load/Store more than days calved value.
23/03/18 /MK Bug Fix - uCalvingEvent - Don't allow cmboCalfNatID to appear if InputNatIDStyle is FromList but there is no records in the TagStore.
             Change - uEventsByGroup - CreateTempTable - Remove from TempAnimals the animals that have calved less than the default no days since calving from DuePDDefaults.

Version V5.7 R8.3

12/03/18 /MK Additional Feature - uWeighingFilt - Added Type for TWeighReportType which allows the rgReporType.ItemIndex to be changed on ShowTheForm - GL/SP/Mary Deane.
                                - uReports - Added BarPopMenu for Weighing Report that allows the user to pass in the report type of the weighing report - GL/SP/Mary Deane.
             Change - uWeighingFilt - LoadScreenDefaults/SaveScreenDefaults - Removed storing and loading of date filters - GL/SP request.
13/03/18 /MK Change - uWeighingFilt - Weight Gain Report - Changed mask on dates to show a two digit year.
                                                         - Changed mask on for previous and last weights to not show decimal values.
                                                         - Right align the weights so that two digit weights and three digit weights appear correctly.
                                                         - Changed the header on the reports to a two line header.
                                                         - Added two new fields for Sire Code and Lifetime Weight Gain.
                                                         - All requests by GL based on SP call with Derek Deane.
15/03/18 [V5.7 R8.3] /MK Change - uWeighingFilt - Exclude crazy figures, weights more than ten thousand - Mary Deane scanned 372 tags into the weight field on the app - GL/SP request.

Version V5.7 R8.2

15/02/18 /MK Bug Fix - MenuUnit - actExportGridToCSVExecute - If AValue was False then CSV file showed True - Eddie Jordan UCD.
21/02/18 /MK Change - uBeefAISireRegister - Removed egg timer from DownloadAIFile and added it to GetAllBullsProcessed as its here that the main work is done.
                                          - GetAllBullsProcessed - Added complete message after LoadAIFile so message doesn't appear before egg timer.
                                          - LoadSettings - If settings table does not exist then create it.
                                                         - If settings table exists but doesn't open i.e. corrupt, the delete it and create it again.
01/03/18 /MK Bug Fix - uHerdLookup - RemoveFromTagStore - GetNextNatID - Need to pass in the rollover herd boolean for further checking of tag.
                     - RestorePoint - Removed this unit as I could not debug it to find why the name of the restore points was not the database name.
                                      Removing this unit seems to have fixed this problem. This unit is in the uses list of DairyData so its not
                                      required as part of the Project unit list.     
             Change - uHerdOwner - New property for Rolloverherd for NI users.
                    - uEventsByGroup - Moved the creation of Health, DryOff and Herd Vaccination to use new EventRecording class.
                                     - FarmCodeCloseUp - If user has enabled preference to default health comment to farm code and farm code has value then use farm code as EventDesc - Brendan Meade.
07/03/18 /MK Change - uAIMAnimalMovements - RecordMovementsOn - The original status of a male animal is a bull so we should newly purchase male animals to bulls - GL request.
                    - uEventsByGroup - Add warning for drug selected and no reason and vice versa for Northern Ireland herds for Health event only.
             Bug Fix - EventRecording - UpdateMedicinePurchQuantity - Should not use FloatToStr to post new QtyRemaining back to the MediPur table instead user Params in Query - SP.
09/03/18 /MK Change - MenuUnit - btnRefreshAnimals - Coloured button and made it flat so its more visible, like Bord Bia and Report toolbar buttons - GL request.
                                                   - Renamed button and action to Calc Gain/Day - GL request.
                                                   - If not HerdLookup.CanCalcOverallGainPerDay then show information message - GL request.
                               - Rename Column name of Weight Gain/Day to Lifetime Gain/Day - GL request.
                               - CheckAttachments - Don't allow attachments to be downloaded if all All Herds is selected as All Herds folder in Mail Attachments is created - Geraldine Carroll.
             Additional Feature - uEventDataHelper - CanCalcOverallGainPerDay - New function to check if there are 2 sets of weighings for overall gain per day calc.
12/03/18 /MK Change - MenUnit - SetupForm - Show the Calc Gain/Day button greyed out where type is not Suckler - GL request.

Version V5.7 R8.1

12/02/18 /MK Bug Fix - BrowseRegisterU - Changed the way the bull is added to the database, now using EventRecording unit and SQL instead of AnimalFileByID - SP/GL request.
13/02/18 /MK Change - DairyData - OpenAndCheckTables - If calvings table does not exist then give data warning to contact us, store in log file and exit the program - SP.
14/02/18 /MK Change - MenuUnit - actImportParlourDataExecute - Allow Nedap parlour link.

Version V5.7 R8.0

06/02/18 /MK Bug Fix - uCalvingEvent - ShowBullList_AfterActDate_ProjDateMsg - Changed from CalvingHeader.CalvingDate value to dbCalvingDate.Date as
                                                                               date wasn't table value wasn't changed at this point - Ellen Daly.
                                     - Added events for dbCalvingDate.Properties OnInitPopup and OnCloseUp which sets the component font to white and then back to teal
                                       for better visibility of the dates in the calendar - Ellen Daly/SP.
                     - uICBFEventExport - CheckHerdNumber - Need to pass in Herd Number because if user enters an animal into None Herd then None Herd is set as HerdOwnerData.HerdID - Enda Ryan.
                                        - OpenSetupHerd - Removed if AStartClick then sbStart.Click as causing loop - SP request.

Version V5.7 R7.9

06/02/18 /MK Change - uMartImportByFile - AddAnimalRecord - Only validate colour if the colour exists - colour is not on Mart File but is on APHIS file - John Milliken.

Version V5.7 R7.8

02/02/18 /MK Additional Feature - uCreateEvents - ProcessHealth - CowManager parlour link can pass in the health level of the cow as a comment.
                                - GenTypesConst - CowManager parlour link requires a comment field for health alert.
             Change - MenuUnit - actImportParlourDataExecute - Allow CowManager parlour link.
05/02/18 /MK Bug Fix - uHerdSync - CreateHerdSyncData - Bug introduced when I started to code the export of tranponders for SP. I then
                                                        took out the changes but forgot to enter in a comma on first line of FSyncDataQuery.

Version V5.7 R7.7

30/01/18 /MK Bug Fix - uDairyHerdHealthCert - If Apply Animal Grid Filter is ticked then don't apply a filter for InHerd animals only - GL/John Merrick.
             Change - uDairyHerdHealthCert - If the user has applied the StockInHerd filter then change the date on the report to the StockInHerd date selected - GL/John Merrick.

Version V5.7 R7.6

30/01/18 /MK Change - uMartImportByFile - PostPurchases - If an animal is in the herd already but doesn't have a colour then update the colour from APHIS file - John Milliken.
             Bug Fix - uMartImportByFile - PostPurchases/AddAnimalRecord - Only create a colour if the ColourCode is on the file, don't create blank colours - John Milliken.
                                         - PostPurchase/PostPurchaseAndHealth - Only update purchase details where price and weight is on the mart file or entered by the user (APHIS).

Version V5.7 R7.5

24/01/18 /MK Incorporated Source From Release - uRemittanceRecord - PostSalesDeath - Should be less or equal to today - Matt Ward.
             Bug Fix - uSalesDeaths - PricePerKgExit - If user has price per kg and dead weight then change price to calculated value.
25/01/18 /MK Change - MenuUnit - actRefreshAnimalsExecute - Bring up prompt to run the check for all animals both in herd or after the selected year.
                               - Changed Import and Export buttons to cxButtons.
                               - Instead of Sync and Feed Event Diary being not visible, set them to Disabled/Greyed Out to show the user that the options are available - GL request.
29/01/18 /MK Incorporated Source From Release - uGroupSetup - Passing in wrong group id when deselecting an animal that is in a feed group but not an active feed group - TGM.

Version V5.7 R7.4

08/01/18 /MK Change - DairyData - CheckFiles - Remove old BeefAISireSettings table as it was created by a MemData set which TableRepair could never fix as its size was 1MB versus 4MB basic file size.
                    - uBeefAISireRegisterSettings - When MemData was saving DB file, SaveToBinaryFile, this DB kept appearing in Table Repair as corrupted.
                                                    The reason for this, I assume, was that the file size was 1MB version a 4MB standard file size.
                    - uBeefAISireRegister - Open BeefAISireSettings paradox table to find field positions instead of creating uBeefAISireRegisterSettings form
                                            to just open a MemDataSet which never created a valid paradox table.
11/01/18 /MK Additional Feature - uVetLinkDrugSelect - Added a print button on the screen to reprint drugs not treated in VetLink - Pat Fitzgerald.
12/01/18 /MK Bug Fix - uWeighingFilt - GetFirstIntervalWeighingRecord - Add total weight from first weight regardless whether first weigh date < dFirstWeighDate.
                                                                      - Only show weigh records if weighing event is after the first weigh date.
             Additional Feature - uWeighingFilt - OverallGainPerDayPrint - Add overall weight to new field in animals table.
                                - MenuUnit - bReportsClick - Refresh Animal Grid if >2 Weighings Report was ran to show OverAllGainPerDay value.
                                           - Added average Over All Gain Per Day column.
                                           - Added footer for AvgOverallGainPerDay - GL.
                                           - AvgOverallGainPerDay footer should be based on animals with a gain NOT animals with zero gain per day - GL.
                                - uHerdLookup - GetAnimalsWithOverallGainPerDayBetween - New function to get animals with an overal weight gain filter.
15/01/18 /MK Change - uFilters - FormActivate - Only show radio buttons if both radio buttons are visible - GL/SP.
                                              - If neither radio button is showing then change gbMilk Yield caption to Last Milk Yield - GL/SP.
16/01/18 /MK Change - uWeighingFilt - BuildWeighing - Moved calculation of Overall Gain Per Day to before query for report is ran because
                                                      with on print of quick report label, if the user closes the report before it views
                                                      not all data will appear on the report on the value won't save to the animals table.
                    - MenuUnit - cxAnimalGridViewOverallGainPerDay - Changed Overall Gain Per Day to Live Weight Gain/Day - GL request.                                  
             Additional Feature - uUpdateTables - UpdateFilterDB - New float and boolean fields add for OverallGainPerDay filter.
                                - uFilters - Created new radio group for Overall Gain Per Day filter.
                                           - Only show for Suckler herds for now - GL request.
                                - MenuUnit - Added filter for Overall Gain Per Day.
17/01/18 /MK Change - MenuUnit - cxAnimalGridViewOverallGainPerDay - Changed Live Weight Gain/Day to Weight Gain/Day - GL request.
                               - Changed order of buttons under the grid so they are grouped together into categories.
             Additional Feature - MenuUnit - Add count to the bottom of the AnimalNo field for the amount of animals - GL request.

Version V5.7 R6.5

11/01/18 /MK Change - MenuUnit - ContainerCheckDefFile - Factory Sale should be visible in the North as Dunbia does it - Grace Dobson.

Version V5.7 R6.4

22/12/17 /MK Change - uRemittanceRecord - PostSalesDeath - Only use last weight if preference is ticked and last weight is within 3 days of sale date - Matt Ward/GL request.
04/01/18 /MK Change - DairyData - Weaning Scores - Changed the description of codes to match the ICBF website (poor, good, very good) - Noel Keane/K.Downing/GL.

Version V5.7 R6.3

12/12/17 /MK Bug Fix - uRemittanceRecord - PostSalesDeath - Transport costs of the customer were not being added to the deductions from the remittance file.
13/12/17 /MK Bug Fix - uRemittanceRecord - PostSalesDeath - TotalDeductions from the individual line on a CSV formatted file were being added to the TotalDeductions field
                                                            on the SalesRecord. TotalDeductions on an RMT file footer were added to the CustomerCosts field.
                                                            Change so that the TotalDeductions on the CSV file to go to the CustomerCosts field along with Transport.
             Change - uSalesDeath - lCosts - Changed label caption to Deduct./Transp. from Other Costs.
                                  - lDeductions - Changed label caption to Other Costs from Deductions
14/12/17 /MK Bug Fix - uDrugsRegisterImport - actRunExecute - If a drug is in the VetLink file more than once and it wasn't in the database prior to VetLink import,
                                                              it then gets added by the DrugFinder code below so when we loop through to the next purchase of the medicine
                                                              we need to search for the DrugID in the Medicine table. Bug was that the drug was being added for every purchase - Tom Crosse.
15/12/17 /MK Additional Feature - uPreferences - Added new reg key for cGSUseLastRecordWeightAsLiveWeightForKillOut.  
                                - DairyData - Added changes to load and save new cGSUseLastRecordWeightAsLiveWeightForKillOut preference.
                                - uGlobalSettings - Added changes for cGSUseLastRecordWeightAsLiveWeightForKillOut preference.
18/12/17 /MK Bug Fix - uCalingEvent - When screen opens set dbBullUsedPropertiesChange to use same code as dbBullUsedPropertiesCloseUp.
                                    - If a stock bull event is found then set dbBullUsedPropertiesChange to nil and dbBullUsedPropertiesCloseUp to use dbBullUsedPropertiesChange.
                                      tvBullList needs dbBullUsedPropertiesChange where the standard combobox drop-down-list can use dbBullUsedPropertiesCloseUp - Milo Murphy.
19/12/17 /MK Change - uElecWeigh - ReadCSVFile - EZI Weigh files can contain either EID or VID or both - Raymond Carter.
             Additional Feature - uRemittanceRecord - PostSaleDeath - If new preference is enabled then bring in the live weight and date from last weighing - Tim Meagher.
20/12/17 /MK Additional Feature - uEventsByGroup - Thought it best to add the last weight, last weigh date, weight gain and gain per day columns to weighing event.
             Bug Fix - uElecWeigh - BeginImport - Added new form variable for FPromptForCart so prompt to add animals to cart doesn't appear
                                                  in a loop if more than one file has been read in.

Version V5.7 R6.2

11/12/17 /MK Incorporated Source From Release - KRoutines - CheckNINatID - Add const param to be passed into the function for CheckRolloverTag which is defaulted to true.
                                                                           This should be set to false when generating the tag store as the tag store cannot be used in Rollover herds.
                                                                           This was causing two tags to appear with the same check digt in the tag store - TGM request.

Version V5.7 R6.1

07/12/17 /MK Bug Fix - DairyData - CalcCostAndQtyUsed - Using Value instead of AsInteger. Value can be Null or 0, previously only checking for Null.
                                                        AsInteger should convert a null value to 0. Causing Invalid Floating Point error in uHealth - Noel Keane.
08/12/17 /MK Bug Fix - MenuUnit - SetupForm - Dam AnimalNo, Dam NatID and Sire No were hidden if herd was Suckler or Beef. Changed to hide of Beef herd only - Heinz Eggert.
                     - uGroupSetup - If FSelectionType = stNoSelection then set FSelectionType depending on whether AnimalCart.IsEmpty or WinData.FilteredAnimals.RecordCount.
                                   - Changes to use of HerdLookup.GetAnimalSelectionToArrayWideString.
                     - uEventsByGroup - CreateTempTable - No need for HerdLookup.GetAnimalSelectionToArrayWideString when animals in filter are in AFilters table.
             Incorporated Source From Release - uICBFPCDownloadImporter - btnServiceDataClick - Blank technician was being created if no technican name was in ICBF.
11/12/17 /MK Change - uMartImportByFile - ImportFromNIMovementsIn, ImportFromNIMovementsOut -
                                          - Had to make a change to the import of APHIS files because new website changes on APHIS have reversed the breed and sex fields.
                                            I also had to remove the quotation marks in front of the fields on the file as well.
             Bug Fix - MenuUnit - pmAnimalGridPopupPopup - Query AIM was showing only if AIMClient exists but should also check for Country.
                                                         - Tag Replacement Form was alwas showing but should only show for Irish herds.

Version V5.7 R6.0

06/12/17 /MK Bug Fix - uHealth - HealthNavBeforeAction - If Meat or Milk were empty, invalid date message would appear here.
07/12/17 /MK Bug Fix - uHerdLookup - Old function SaleDateWithinWithdrawalPeriod changed to ThisTreatmentWithdrawalAfterSaleDate which checks to see
                                     if this treatments withdrawal date is after sale date. Old function was checking the withdrawal dates of the animals
                                     existing treatments not this current treatment.
                     - uEventsByGroup/uDrugsRegisterImport - Changed function SaleDateWithinWithdrawalPeriod to ThisTreatmentWithdrawalAfterSaleDate.
             Change - uDrugsRegisterImport - actSaveHealthsManuallyExecute - Added extra reasons for not saving events if animal treated after sale date
                                                                             and animal treatment withdrawal date is after sale date.

Version V5.7 R5.9

01/12/17 /MK Additional Feature - uUpdateTables - UpdateDefaults - New field, AppSyncTagCountryCheck, added to the defaults table.
05/12/17 /MK Additional Feature - MenuUnit - actSyncSettingsExecute - Added check for Irish tags with no country code, multiple herds in a single database
                                                                      and null breeds if the sync is not configured.
                                - DairyData - WinDataCreate - If HerdSync exists but no SyncSetings file exists then this would indicate
                                                              that the user has just received the App. Check for Irish tags without country codes,
                                                              multiple herds in a single database and null breeds in current herd.
             Change - uVetLinkFileImport - ImportCsvFile - Co-Op files don't supply animal number or dose rate. If either of these fields has a value then check for double-quotes.
                    - uDrugsRegisterImport - ImportFile - Co-Op files with drugs are being sent to farmers now. Allow for DDMMMYYYY date format in Purchase & Expiry Date. 
                    - uCalvingEvent - CreateCalving - Add progress string of what sub event was created last. Added this progress string to exception error.
                                                    - Moved creation of XML data for new calvings out of sub event block.
06/12/17 /MK Bug Fix - uMedicinesNullGroup - Moved code from Milk and Meat Days from OnChange to OnEditValueChanged so user can type more than a single digit - Eoin Godwin.
             Additional Feature - uDrugsRegisterImport - New column added to display the unit of the drug. If drug is in PC database already then bring in the purch unit
                                                         from the medicine table. If the drug is on the online database then default unit depending on drug type on the server.
                                                       - Allow the user to edit the quantity purchased before the drug purchase is saved.

Version V5.7 R5.8

30/11/17 /MK Change - MenuUnit - Added more actions for actGoToCC31ACart, actGoToCC31BCart, actGoToCC31AFilter & actGoToCC31BFilter.
                                 These new actions will allow use the to do Compliance Certs for the filter on its own or the cart on its own.
                                 If user has a filter applied and then adds animals to the cart, depending on the action selected the program will
                                 know which selection (cart or filter) to show in the compliance cert screen.

Version V5.7 R5.7

23/11/17 /MK Additional Feature - SetupAnimals - Changed Health grid to cxGrid to allow a footer to be added below the cost column - Laurence Clerkin.
                                - uFeedAlloc - Added ActionList and actions for Allocate and Remove feeds so that both buttons can be disabled if no feeds for group.
             Change - uGroupSetup - When clicking Select All, if the animals are already in different feed groups then a prompt for the end date should pertain to that feed group.
24/11/17 /MK Change - uWeighingFilt - Default "Summary Report Only" unticked - GL request.
                                    - Only insist on "Block Weighing Start Date" if "Summary Report Only" is ticked - GL request.
                                    - Show heading at the top of Summary Report to show "Block Weighing Start Date".
             Additional Feature - uGroupSetup - Created a label to indicate to the user to know whether the group has an active feed regime or not.
27/11/17 /MK Bug Fix - uCalvingEvent - ChangeCalfBreed - mdCalvingHeader.CalfBreedID changed when it should be mdCalvingDetail.CalfBreedID.
             Additional Feature - uCalvingEvent - When a DonorDam is used calf breed should be assinged from Donors breed not Recipients breed - Colclough Byrne.
28/11/17 /MK Bug Fix - uCalvingEvent - Coded out dbBullUsedPropertiesChange and moved the code to dbBullUsedPropertiesCloseUp because, when editing a calving,
                                       if the use types in the bull code and clicks it, the OnChange event was not triggered - GL/Sally Anne Frawley reported.
             Change - uDataBackup - CanBackupAccounts - Use WinData.IsBlacklistedIP function here.
29/11/17 /MK Change - uMartImportByFile - ImportFromXML - SearchTagNo was not being assigned for UK9 tags.
                                        - ImportFromXML - Format tag number for UK (non UK9) tags.
                    - uNationalID - NatIDKind - Allow this function return whether that tag is UK (non UK9) tag.

Version V5.7 R4.7

24/11/17 /MK Change - MenuUnit - CMMSFileImport1 - Remove this options as system generation CMMS Import has this option built in - GL request.

Version V5.7 R4.6

15/11/17 /MK Additional Feature - SetupAnimals - Added calculated field and column for individual cost of treatment - Laurence Clerkin * No need for print out yet - GL *
17/11/17 /MK Additional Feature - MenuUnit - Created a create group option for batch or feed from both cart and filter drop-down menu.
                                           - Created a seperate PopupMenu for pmAnimalCartPopup.
                         Change - MenuUnit - Set the PopupMenu for btnTopCart to pmAnimalCartPopup.
                                           - Changed order and lookup of pmFilterMenu and pmAnimalGridPopup - GL request.
21/11/17 /MK Change - uElecWeigh - ReadCSVFile - TruTest5000 - Used VID field as Animal Number - Noel Keane.
                                 - If Length of AnimalNo from new VID field is blank then use TagNo value.
                                 - Created new function, BlankHeaderWeighDate, to check to see if the eWeighDate value is empty.
                                 - CreateWeighingEvent - Check to see if the eWeighDate is empty and use MyTable.FieldByName('WeighDate').AsDateTime if it is.
                                 - LocateAnimal - If no tag number but there is an animal number then use AnimalNo as tag number.
                    - uKImport - btnCreateSalesClick - Use UpdateGridData for SaleDate just in case the SaleDate was never passed into grid after group was loaded - Michael Callan.
                    - uGroupSetup - Allow user to specify a feed end date when removing animals from active feed group, or moving animals from one
                                    active feed group into another active feed group or clearing a group - Laurence Clerkin.
                    - uAllocateFeedToAnimal - Made changes to allow this screen to be used to specify and end date for the feed.
22/11/17 /MK Bug Fix - uHealth - ShowHideHealthControls - The below component's had lost their lookup source, list source or repository after Delphi crash - Huelwen (Ed Dale's).
                     - uGroupSetup - eSelect.Text was not showing the right amount of animals if both a filter and cart were used.
             Change - uGroupSetup - If cart the grid of animals only shows the cart animals not the animals that are on the MAIN grid.
                                  - New function, GetAnimalsOnGridInCurrentGroupCount, created to check for filter or cart or both.
                                  - New function, GetAnimalSelectionToArrayWideString, created to return the animal ids of the animal selection (cart or filter or no selection).
                                  - Modified the qAnimalsNotInGroup SQL to look at the AnimalIDs in GetAnimalSelectionToArrayWideString (cart or filter or no selection).
                    - MenuUnit - Removed the OnClick events from GroupSetup1 (Filter) & pmiGroupSetup (Cart) and set the actions of these depending.
             Additional Feature - Created two new actions, actGroupSetupFromFilter & actGroupSetupFromCart, to allow user to show either selection not just cart.

Version V5.7 R4.5

14/11/17 /MK Incorporated Source From Release - uAWEventsByGroup Bug Fix - Michael Cawe's.

Version V5.7 R4.4

08/11/17 /MK Bug Fix - uWeighingFlt - CreateWeighingRecords - Locate on qReport was not on qAnimals.
                     - AnimalPrint - Made some bug fixes to stop sections of the reports showing where the tick check box wasn't ticked.
             Additional Feature - SetupAnimals - Added Meat and Milk Withdrawal dates to the health tab - TGM/Red Tractor.
                                - AnimalPrint - Added Milk and Meat Withdrawal to the health section in all reports - TGM/Red Tractor.
                                - uRedTractorDrugCollation - New report for the Red Tractor that shows drugs and their quantity used within a date - TGM/Red Tractor.
             Change - uRedTractr - Added new button for new Red Tractor Drug Collation report.
                                 - Added new Drug Collation to print all.

Version V5.7 R4.3

25/10/17 /MK Change - DairyData - UpdateInvalidPregDiagEventType - New procedure create to find invalid preg diag event type of an animal and update it to a valid preg diag event types.
                                - EventsBeforeDelete - PregDiag - Check if an animal has an invalid preg diag event type and set it to a valid preg diag event type.
03/11/17 /MK Change - uDrugsRegisterImport - actRunExecute - Get total number of records that have a VPA Number that exists in the Medicine table currently.
                                                             Now create a progress bar based on this total number of records.
             Additional Feature - uDrugsRegisterImport - Added new field, VPAIndicator, to be used to sort the grid by the No/Invalid VPA's, then VPA Not In Kingswood and last
                                                         the VPA Numbers that are in Kingswood.
06/11/17 /MK Change - uMediPurch - Excute - Close and ReOpen WinData.Suppliers just in case new suppliers were added.
                    - uDrugsRegisterImport - ImportFile - If drug is in online database then its found else its not found.
                                           - actRunExecute - Filter out detail table for purchases of this HeaderId that weren't imported.
                                                           - Just add the medicine, don't prompt for matching against users medicine table.
                                           - CreateLegendLabels - Changed SQL's to count records based on VPAIndicator field.
                    - uDrugFinder - Added second class function for FindDrugItemByVPA that allows VetLink to find the VPANumber provided by
                                    the vet to see if this VPANumber is on our list of medicines.
                    - DrugQuantityLessMinus - Format float to 2 decimal places.
                    - uMartImportByFileReview - Added Header panel to the top of the grid to allow the user to fill in the grid with buyer, feed group, batch group and purchase group.
             Bug Fix - uDrugsRegisterImport - GetSupplierID - Set supplier to be in use.
07/11/17 /MK Bug Fix - uCalvingEvent - DeleteCalving - Removed check for NewIDAllocation Date on date of calving as NewIDAllocation event is always created
                                                       on the date that the event is entered.
             Change - uCalvingEvent - CreateCalving/UpdateCalving - If tag is a 372 tag then set TransponderNo/ElectronicID to tag without spaces.

Version V5.7 R4.2

02/11/17 /MK Bug Fix - uSalesReport - ViewBtnClick - If Sold Animals is not ticked AND Dead Animals is ticked only then include Dead Animals.
                                                   - If Sold Animals is ticked AND then only incldue animals that are sold.

Version V5.7 R4.1

25/10/17 /MK Change - uReports - FormCreate - Moved weighing report above Bull Report so users can see it without scrolling - TOK/GL request.
                                            - Hide Weighings Report in Cattle Margins if both Cow Recording and Cattle Margins are showing/not showing.
                                            - Hide Weighings Report in Cow Recording if Cow Recording is not showing.
                                            - Hide Weighings Report in Cattle Margins if Cattle Margins is not showing.
                    - uCreateEvents - ProcessHealth - Allocate the drying off event to the right lactation number.
                    - DairyData - AnimalFileByIDNatIDNumSetText - If tag entered is without IE or 372 then add the IE/372 and validate it.
                    - uCrushBarcode - ProcessBarcodeScan - Check to see if barcode entered is IE or 372 and add IE or 372 depending.
                    - uBBPPurchScr - tPurchGrpDataNatIDNumSetText - If tag entered is without IE or 372 then add the IE/372 and validate it.
27/10/17 /MK Additional Feature - GenTypesConst - New QuickFilter's for Pregnant and Not Pregnant Cows and Replacements.
                                - qSQLFilters - Added new consts and procedures for Pregnant and Not Pregnant Cows and Replacements.
                                - MenuUnit - Added menu items to pmShowAnimalOptions for Cows and Replacements for PD'd pregnant and PD'd Not Pregnant.
                                           - teSearchTextKeyDown - If user presses enter key in search other than Animal No then just search.
                                                                   But if search is on animal no then add the animal to the cart - Shane Maxwell.
             Change - MenuUnit - Changed Pregnant column heading to PD'd Pregnant to be more descriptive of data.

Version V5.7 R4.0

19/10/17 /MK Additional Feature - uCreateEvents - ProcessPDs - Allowed PD events to be imported from Parlour Link file - Richard Starrett.
         /SP Change - DairyData - GoToAimMovementNotification - Made changes to allow for new passing of compliance cert number without animals - Kepak.
                    - MenuUnit - Changed prcoedures that use WinData.GoToAimMovementNotification to allow for new change - Kepak.
         /MK Change - uWeighingFilt - More changes in the reports to allow for 372 tag number i.e. Target Weight Report - Mary Deane (3967).
23/10/17 /MK Additional Feature - uMedBatchNoTreatments - Added status bar text to show the total amount used and the amount of treatments - Noel Keane.
             Change - uHerdLookup - Changed LookupDrugDoseUnit to LookupDrugDosePurchUnitCode so both Dose and Purchase Unit Codes can be retrieved.
24/10/17 /MK Change - uHerdSyncDataSettings - Changed max value of seNoBulls to 100 - GL / Martina Neville request.
                    - MenuUnit - Anywhere procedure that uses WinData.GoToAimMovementNotification check to see if the current version, 1029, of AIMClient is installed.

Version V5.7 R3.9

12/10/17 /MK Change - uElectronicWeighingSettings - ShowSettings - Removed var for FirstExport from TfmElectronicWeighingSettings as its not required any more.
                    - uElecWeigh - Removed var for FirstExport from TfmElectronicWeighingSettings so removed it from the call to this unit.
13/10/17 /MK Incorporated Source From Release - uHerdSetup - Give users that don't have the pedigree module the ability to enter in the Pedigree Name - GL/SP request.
17/10/17 /MK Additional Feature - uWeighingFlt - Added Overall Weight Gain Per Day to animal band on >2 Weighings report - requested by Kepak.
                                - uHerdLookup - Added a EditRepository for AnimalColourCode for use within uMartImportByFileReview.
                                              - Added query and datasource for AnimalColours.
                                - uMartImportByFileReview - Made the colour field editable in NorthernIreland systems - John Milliken.
                                - uMartImportByFile - ImportFromXML - Added check for new IE Quality Assurance field from NewLine.
                                                                    - Set animal QA to true if this QA value coming from file is Y.
             Change - uMartImportByFileReview - Changed QADate to FQASDate.
                    - uMartImportByFile - ImportFromXML - Some issues found with introduction of NatIDKind, no need for else if ThisNatIDKind <> nkUnknown.
             Bug Fix - uGroupSetup - SelectAll - If animals were in a previous feed group the animals feed was not ending on moved to new group date - Laurence Clerkin.

Version V5.7 R3.8

10/10/17 /MK Bug Fix - uFeedAlloc - AllocateFeed - Extra check for existing feeds in a regime that are not already allocated but there is no need for this extra check.
             Additional Feature - uUpdateTables - CreateDeletedGrps - New table to store the groups that are deleted for use with HerdSync.
                                - DairyData - Created a new table for DeletedGrps.
             Change - DairyData - GroupsBeforeDelete - If a group is deleted we need to store it so that it can be deleted from the server.
                    - uWeighingFilt - Weight Gain Report - Moved the Date of Birth column over more so it wasn't as close to the 372 tag number - Mary Deane (3967).
                    - uPreferences - Added new preferences to store whether the user wants to export date of birth and last weight - Darragh Carroll (4799).
                    - uElectronicWeighingSettings - Added check boxes for storing preferences to export date of birth and last weight - Darragh Carroll (4799).
                    - uElecWeigh - CreateExportFile - Added a progress bar to let the user know whats going on.
                                                    - Changed header line depending on preference selected i.e. date of birth, last weight.
                                                    - Changed detail line depending on preference selected i.e. date of birth, last weight.

Version V5.7 R3.7

06/10/17 /MK Additional Feature - uUpdateTables - UpdateOwners - Added new field, NIRolloverHerd, for the new NI Rollover Tag requirement.
                                - DairyData - Added new field, NIRolloverHerd, for the new NI Rollover Tag requirement.
                                - uHerdSetup - Added new checkbox for Rollover Herd that looks at new NIRolloverHerd field in the Owners table.
                                - KRoutines - Added function CheckNIRolloverNatID that validates at tag from a rollover herd.
             Bug Fix - uAIMAnimalPurchaseEdit - UpdateAnimals - Changed price and weight to variables.
                                                              - If both price and weight are null then don't do anything.
             Change - KRoutines - CheckNINatID - If tag is not valid then pass tag through CheckNIRolloverNatID for further validation just
                                                 in case the tag entered is from a rollover herd.

Version V5.7 R3.6

06/10/17 /MK Bug Fix - DairyData - FeedEventsCalcFields - No Days should also be calculated todays date if there is no end date.
             Additional Feature - DairyData - FeedEventsCalcFields - Added new calculated field for the total cost of the feed.
                                - MenuUnit - Added column to Feed Events for Total Cost and added a footer to the grid to sum Total Cost.
                                - SetupAnimals - Added column to Feed Events for Total Cost and added a footer to the grid to sum Total Cost.
             Change - MenuUnit - Added more debug messages to MenuUnit.FormActivate because of unspecified error - James O'Connor.
                               - cbFeedEventsClick- Don't show All Events if Feed Events is ticked to stop confusion of un-ticking Feed Events to go back to normal events - GL request.

Version V5.7 R3.5

03/10/17 /MK Change - HerdPassword - Increase RelinkCalvesToDams to 12 months - GL request.
                    - HealthFilterU - ShowTheForm - Disable change to Group Treatments from Individual Treatments if Filter is applied - SP request.
                    - All reports with a favourite button -
                      Don't change caption of favourites button just tick it and change the colour to blue like Apply Filter check box - SP request.
                    - StockInHerdFilt - Added progress bar and egg timer to the Purchase Sales Analysis Report.
                    - uSalesReport - If Sold Animals Only is ticked or new Include Dead Animals is not ticked then only show animals that are sold.
             Additional Feature - uSalesReport - Added new check box for Include Dead Animals that shows when Sold Animals Only is unticked - Sean Tynan/GL request.
             Bug Fix - uSalesReport - lGrades and lWeights were showing on qrCattleMargins.
                                    - lGrades were not showing if Show Farm Costs was not ticked.
                                    - Changed alignment and position of NatID column on qrCattleMargins and qrNoFarmCost to suit 372 tags.
                                    - ViewBtnClick - Removed TempTables for Purchase and Sales because if user runs Purchase/Sales Analysis report first these tables
                                                     are already created by TMovementDataHelper. Using TMovementDataHelper instead of these TempTables.
04/10/17 /MK Incorporated Source From Release - uKImport - Program was trying to format an English tag to show an IE - Ed Dale's reported.
05/10/17 /MK Change - uFileAttachmentImport - MarkAttachmentAsRead - If read file already exists with AttachmentName then add # and a number to AttachmentName.
             Bug Fix - uMartImportByFileReview - MartDataGridDBTableViewKeyDown - FocusedRecordIndex+1 didn't do the job. Changed to FocusedRow.IsLast boolean to check if on last record - John Milliken.
             Additional Feature - New screen, uMedBatchNoTreatments, created to allow a user to view the treatments of a batch number.
                                - uMediPurch - Added links to new uMedBatchNoTreatments screen i.e. button beside batch no at the top of the screen
                                               or double-click on on the batch number on the grid.
                                             - If user moves the mouse near the button beside the batch number at the top of the screen then show a hint explaining
                                               what the button actually does.

Version V5.7 R3.4

29/09/17 /MK Bug Fix - HealthFilterU - LoadScreenDefaults - If, after hFromDate.Date is assigned from default, the date is less than zero then set hFromDate to blank.
             Additional Feature - HealthFilterU - Added progress bar to veterinary register report.
                                                - Set cursor to crHourGlass at start and crDefault before preview/print of report.
03/10/17 /MK Change - uMedicineSetup - Make search of VPA number available to all countries - GL request.
                                     - Only stop saving of drug without a VPA Number for Irish herds.

Version V5.7 R3.3

28/09/17 /MK Change - uEventsByGroup - sbSaveClick - SingleDrug/MultiDrug - If user has entered an application rate but hasn't selected a drug give error and stop saving of event.
                                                                          - If user has selected an administered by but hasn't selected a drug give error and stop saving of event.
                                                                          - If user has not selected an administered by but hasn't selected a drug give error and stop saving of event.
29/09/17 /MK Bug Fix - uNationalID - NatIDKind - Need to use IsNewIrishNatID to check if tag starts with IE or 372 first as error may appear with UK9X tags that 14 chars long - John Milliken
             Additional Feature - uFileAttachmentImport - Added Mark File As Read button that will prompt the user yes/no to mark as read. If yes then
                                                          the usual process to mark a file as read is taken.

Version V5.7 R3.2

28/09/17 /MK Bug Fix - Feeds - CreateFeedsForAnimal - Was using an allocation date filter instead of just applying the allocation date for all feeds as the start date selected.
             Incorporated Source From Release - uHerdSync - Only send over the first 25 characters of the batch number - SP request.

Version V5.7 R3.1

22/09/17 /MK Additional Feature - uRedTractor - Added Veterinary Purchases, Treatments and Feed Purchases - GL Request.
25/09/17 /MK Additional Feature - MenuUnit - Made the links button and its Mart File and Cows 365 buttons availabe for NIreland herds.
                                - uGlobalSettings - Made Email Settings ListBox1 item available for NIreland herds.
             Change - uDrugFinder - Added btnClearSearch button to eSearchText to allow user to quickly clear search term entered.
                                  - actClearSearchExecute - Enable eSearchText.
                    - uDrugsRegisterImport - ManualEnterVPANo1 - Bring up VPA Number that is already in the VPANumber field in InputBox - GL request.
                                           - Always show edit button for VPANumber field to allow editing and search for existing VPA Numbers.
                                           - Commented out the following procedures as they are no longer required because edit button in VPA Number is always shown
                                             DrugRegisterDBTableViewFocusedRecordChanged, DrugRegisterDBTableViewVPANoGetProperties.
                                           - DrugRegisterDBTableViewInitEdit - Don't allow typing or clearing of VPA Number on KeyPress or KeyDown.
26/09/17 /MK Incorporated Source From Release - uMedicinesNullGroup - Bug Fixes for Milk, Meat, NA and Group problems found.
             Change - uVetLinkImport - ImportCsvFile - Default Medicine Name/Description to UpperCase as medicine table now contains only UpperCase names.
                    - DairyData - CheckFiles - Added procedure UpperCaseAllVetLinkMedicineNames_VPANo to UpperCase Medicine Name/Description in VetLink Detail table if it exists.
                    - uDrugsRegisterImport - LocateAnimalByTagDesc - If this is an Irish herd then length of LocateNatID (tag without country prefix) will always be 12.
                                                                     Get substring based on 12 minus the length of ATagDesc + 1.
                                                                     Use + 1 to start search at right character.
                                                                     Substring SQL should only find one instance of ATagDesc - Peter Farrell request.
27/09/17 /MK Bug Fix - uFeedAlloc - FeedTypeCloseUp - Need to refresh WinData.FeedTypes and QueryFeedTypes after uFeedTypes closes.
                     - DairyData - FdStkEventsBeforePost - If user edits the quantity of feed purchased then change the Feed table stock value accordingly.
                                 - FdStkEventsBeforeDelete - If user deletes the feed purchase then remove the quantity from the Feed table stock value accordingly.
             Change - uMartImportByFile - ImportFromXML - Changes made to allow NI tags to be brought in.
                    - uNationalID - NatIDKind - Used KRoutines IsIETag and Is372Tag to determine TNatIDKind of NewPlastic (IE) and 372 tags.
                    - DairyData - Set FdStkEvents.CachedUpdates to True so I could get the oldvalue and new value of the Stock field before posting Feed Purchase.
                                - FdStkEventsAfterDelete, FdStkEventsAfterPost - Added KingData.ApplyUpdates([FdStkEvents]).
                    - uFeedEventFilter - FormActivate - Created a FilterInfo panel on the main screen that shows the current filter status.
                                       - Removed Batch Group column, filter and field from query to speed up the screen - GL/Sean Tynan request.

Version V5.7 R3.0

08/09/17 /MK Change - DairyData - OwnerFileBeforePost - If user changes herd type to beef and display movement columns preference is turned on then show columns on main grid.
                                - Created public property that checks to see whether the Feed Event Diary button shows on the main screen.
12/09/17 /MK Change - MenuUnit - Removed old buttons below the grid for filter and cart.
                               - Added new button for Feed Diary i.e. the Feed Event Diary.
                               - Allow filter from main screen to be applied to Event Diary.
                               - Use new public property in DairyData for UsingFeedAllocation to show Feed Diary button.
                               - Don't disable the Event Diary if the Filter is on.
                               - ShowCalvingScr - If country is not Ireland or NIreland and the user has not set up the default national ID then just go ahead - Sarah Risdon.
                    - uEventFilter - Removed the Feed Event Diary from this screen as it was added to the main screen.
                                   - When editing a calving event always show new Calving screen regardless of country.
                                   - Show uMessageScr if filter is not applied on the main screen or show all animals is not ticked.
                                     to explain to the user that only events for current animals in the herd are showing.
                    - uFeedAllocEdit - Created Class Procedure for ShowTheForm.
                    - uFeedEventFilter - Created Class Procedure for ShowTheForm.
                                       - Use animal filter in FeedEventsQuery.
                                       - Show uMessageScr if filter is not applied on the main screen or show all animals is not ticked.
                                         to explain to the user that only events for current animals in the herd are showing.
                                       - Changed SQL to show FeedGroupName.
                                       - Added calculated field for BatchGroupName which is then set by new function to return the batch group name of animal.
                                         Tried to use WinData.GroupManager.GetGroupData(WinData.GroupManager.GetGroupID) but it was too slow to gather the data.
                                       - Changed pDateFilter to pDiaryFilter.
                                       - Added filters for feed and batch group to pDiaryFilter.
                                       - Created actions for Apply and Clear Filter.
                                       - Created a label to show that the filter was being applied or cleared as screen.cursor was not showing with begin/end full update.
                    - uMessageScr - Change lInfo.Caption depending on TMessageType.
                                  - On set lInfoExtra.Caption if TMessageType = mtVetLink.
                    - uCalvingEvent - Only do this check for Irish and NIrish herds as English herds are allowed save blank tag numbers.
             Bug Fix - MenuUnit - Fixed issues with transponder, cow familiy and preg diag columns showing for beef herds.
                                - Fixed issues with FQUAS columns showing for herds that are not registered in Northern Ireland.
13/09/17 /MK Bug Fix - uFeedEventFilter - DeleteEvent - No point adding the FeedRegimeID to the FeedRegimeArray if there is no FeedRegimeID.
14/09/17 /MK Change - Groups - Removed prompt for ShowConfirmMsg on adding feed events for the animals as new uAllocteFeedToAnimal takes care of this.
                    - uEventDataHelper - Changed GetSaleEventDate and GetDeathEventDate to GetAnimalSaleEventDate and GetAnimalDeathEventDate to be more descriptive.
                    - Changed all instances of WinData.AddToGroup to WinData.GroupManager.AddToGroup for more accurate calculation of FeedAllocation date based on purchase/birth date. 
                    - uGroupSetup - When the user presses the enter key in the Part Nat ID box the program now searchs by the Part Nat ID.
             Additional Feature - uEventDataHelper - New function, GetAnimalPurchaseDate, created to get purchase date for AnimalID.
             Bug Fix - Groups - Assigning FeedRegimeID was missing from AddToGroup.
                              - Check for accurate AllocationDate i.e based on purchase date or date of birth was missing from AddToGroup.
                     - uGroupSetup - PartialSearch - Now using LocateNatID to allow the user to search any amount of characters without using spaces.
18/09/17 /MK Incorporated Source From Release - PostPurchase - TCrushXMLExport.Create using BruceTest instead of BruceTestDate field name.
             Additional Feature - uAllocateFeedToAnimal - New unit created to prompt user to select a start date for the feed.
             Change - uSalesDeaths - SaleDeathNavBeforeAction - One procedure in Groups deletes the animal from group and ends the feed.
                    - uGroupSetup - GroupClear - Used groups single procedure to remove the animal from the group and end its feed if FeedGroup.
                                               - Added progress bar to let the user know whats going on with the clear.
                                  - Removed AddToGroup and CheckIfInGroup as now use Groups unit for this.
                                  - Don't show MoveDate label and date select if feed group as new uAllocatedFeedToAnimal takes care of this.
                                  - AddRemove - Added checks for animals in group here as AddToGroup no longer used.
                                              - Get animal details for new uAllocateFeedToAnimal unit.
                                              - If the animal exists and the feed group has an active feed regime then bring up uAllocateFeedToAnimal unit.
                                              - The user must select an allocation date if it is in a feed group.
                                              - If the animals has an existing group then remove it from the group and end its feed on the allocation date selected from uAllocateFeedToAnimal unit.
                                              - If not a feed group then set the group start date to today.
                                              - Use Groups.GroupManager.AddToGroup here.
                                  - FormCloseQuery - Use InArray check here from KRoutines.
                                  - SelectAll - If feed group and group has active feed regime then user must select an allocation date from uAllocateFeedToAnimal.
                                              - Group start date if feed is allocation date, else, it is today.
                                              - Added progress bar to let the user know whats going on with the clear.
                                              - Use Groups.GroupManager.AddToGroup here.
                    - DairyData - Removed AddToGroup and CheckIfInGroup as now use Groups unit for this.
19/09/17 /MK Change - Groups - AddToGroup - Removed the requirement of passing in GroupType string as we can get GroupType by GroupID that is passed in.
                                          - If feed group and group has active feed regime then proceed with feed events.
                                          - If the group is a feed group and it has an active feed regime and DateJoined is after the
                                            AnimalLeftHerdDate then don't add the animal to the group which will in turn not feed the animal.
                             - Changed AnimalInGrp to AnimalInThisGroup to be more descriptive.
                    - uFeedAlloc - Moved the creation of TAnimalFeed table from ShowTheForm to FormCreate.
                                 - Moved GetAnimals to dbeAllocDateChange as when GetGroupRegime and dbcGroupPropertiesChange all set
                                   dbeAllocDate.Date to today so GetAnimals will be called anyway.
                                 - GetAnimals - Removed SQLText from qGroups and removed the Insert line.
                                              - SQL now gets animals from the group and adds them to TAnimalFeed if their not sold
                                                or have a sale date less than the dbeAllocDate.Date.
                                 - Used consts for Status to be more description of what the integer value represents.
                                 - Removed TAnimalFeedBeforeInsert as GetAnimals now inserts records without SQL.
                                 - AllocateFeed - Feed Added - If animal is left herd after allocation date then give user information that it will be ended on left herd date.
                                                - Feed Modified - Only get animals that are in TAnimalFeeds not GrpLinks table so that sold animals will not be fed or updated.
                    - MenuUnit - ShowGroupMovements - Refresh FeedEventsGrid after Group Movements screen closes.
             Incorporated Source From Release - uMartImportByFile - ImportFromXML - TagNo field was never set back to formatted tag i.e. IE or 372, after NewLine change 10/05/17.
21/09/17 /MK Change - uKImport - btnCreateSalesClick - Check for culling reason is unnessecary - GL request.
22/09/17 /MK Additional Feature - New unit, Feeds, which has an object, FeedManager, that has with all Feed related procedures and functions.
                                - Added new Feeds unit to DairyData, uAllocateFeedToAnimal and uCreateEvents.
                                - Added WinData.FeedManager.CreateFeedsForAnimal to any instance of WinData.GroupManager.AddToGroup where the GroupType is Feed.
                                - Added WinData.FeedManager.EndFeedEventsForAnimal to any instance of WinData.GroupManager.RemoveAnimalFromGrp where the GroupType is Feed.
                                - uFeedAlloc - New private form variable for FSelectedFeedGroup that is set when the user selects a feed group.
                                - uHerdLookup - New query and datasource for FeedGroups.
             Change - Groups - Removed all feed related functions and procedures from GroupManager as they are moved to new Feeds unit.
                             - Removed DeleteFromExistingGroup and RemoveAnimalFromGrp procedures as there was already a RemoveAnimalFromGrp procedure that was doing the same thing.
                    - GenTypesConst - Moved TGroupType type here from Groups.
                                    - New default message for cAllocDateLessThanRegimeStartDateMsg.
                                    - Moved GroupTypesArray const here from Groups.
                    - MenuUnit - Added a Feed Allocation button to Groups container.
                    - uAllocateFeedToAnima - If Allocation Date entered is before the feed regime allocation date then give error on OK.
                    - uCalvingEvent - CreateCalving - If Dam group is a feed group then start the cow on feed regime, if any, on calving date.
                    - uEventDataHelper - New function GetAnimalLeftHerdDate which returns the sale or death date.
                    - uFeedAlloc - Changed FeedGroup component to a LookupComboBox instead of normal combo box.
                                 - FormCloseQuery - When the user closes the screen and there are added feeds that were not allocated, tell the user that these
                                                    added feeds need to be allocated or they will be deleted on close.
                    - uGroupSetup - New query and datasource for Groups which will allow the grid to show only created groups.
                                    This will then allow the user to click on group they want and it showing the detail instead
                                    of the grid shifting one line because the WinData.Groups.State went from Append to Browse.
                                  - AfterScroll of new FGroupsQuery then locate the ID in WinData.Groups.
                                  - FormActivate -Change position of the below code to better suit the different FormTypes.
                    - uGroupUpdate, uGroupSetup, uMartImportByFile, uPurchases - Added the required changes for new Feeds unit.
                    - uKImport - btnCreateSalesClick - Added check for feed events after the sales date.
                    - uRemittanceMarts - Added Ballinasloe to Liffey Meats.
                    - uSalesDeaths - SaleDeathNavBeforeAction - Added check for feed events after the sales date.
             Bug Fix - uBBPPurchScr - PurchBatchNumCloseUp - Refresh purchase groups dataset after uGroupSetup closes to get any new groups created.
                     - uEventsByGroup, uHealth - When an animal is added to a batch group after an animal remedy it was entering the group with todays date not treatment date.
                     - uKImport - SalesGrpCloseUp, PurchGrpCloseUp - Made changes to show the appropriate Group Setup screen.
22/09/17 /MK Bug Fix - uMartImportByFileReview - If the user was on the last field on the grid and pressed tab it would go into a loop and crash.
                                                 If FocusedRecordIndex+1 = RecordCount then exit out of procedure - John Milliken.
25/09/17 /MK Change - DairyData - CheckFiles - Check for InactiveFeedRegimes i.e. feed regime records that have a group ID that doesn't exist in Grps table, and delete them.
                    - uFeedAlloc - RemoveFeed, sbFeedAlloc - Do preliminary checks for selected group, empty feed regime and added feeds to a feed regime.
                                 - RemoveFeed - Do check that feed regime is allocated and that EndDate is on/after Allocation Date.
             Bug Fix - DairyData - FeedTypesBeforeDelete - Don't allow feeds to be deleted that are in use in the FeedEvents table.

Version V5.7 R2.4

12/09/17 /MK Bug Fix - uCalvingEvent - Only do this check for Irish and NIrish herds as English herds are allowed save blank tag numbers.
                     - MenuUnit - ShowCalvingEvent - ShowCalvingScr - Don't bother with checking for tag type if country is not Ireland.

Version V5.7 R2.3

07/09/17 /MK Bug Fix - MenuUnit - sbBackupClick - Remove filter from main grid before backup to stop errors after backup.
                     - uCalfRegFlt - Problems found with remove all or single animals since remove all code was added.
             Change - uElecWeigh - ReadCSVFile - New TruTest3000 file from Heinz Eggert contained a date with dashes and the year was the start.
                                                 Made function in KRoutines to process this string correctly.
Version V5.7 R2.2

01/09/17 /MK Bug Fix - uWeighingFlt - BuildWeighing - Weight Gain Report - Calc last weighing date from if purchase date or date of birth not purchase date AND date of birth - Martin Donovan.
                     - uLivestockData - BuildSummaryData - Trim NatID and AnimalNo to stop error from appearing with AIMHerdRec - Noel Keane.
             Additional Feature - uWeighingFlt - Added in the calculation of the first interval i.e. date of birth or purchase interval with new location of CreateInterval procedure.
                                                 After the date of birth or purchase weight then get the animals individual weighing records prior to the block weighing date selected.
             Change - uElecWeigh - ReadCSVFile - If TagNo is still blank after TruTestNatIDPos is found then set the TagNo to the AnimalNo - Martin Donovan.

Version V5.7 R2.1

23/08/17 /MK Change - MenuUnit - FormClose - Only do auto backup if sync on startup - requested Paddy & Bridget Murphy.
24/08/17 /MK Change - uDrugsRegisterImport - actSaveHealthsManuallyExecute - Changed the way the order in which the program treats the animals.
                                                                           - First go through the grid and treat groups or categories of animals.
                                                                           - Secondly go through the remaining records and treat those that are manual treatments and show progress bar.
                    - uMedicineSetup - Default VPANo CharCase to Upper.
                                     - Removed the Other Column from the grid.
                    - DairyData - CheckFiles - Default all medicine names and VPA Numbers to uppercase for better sorting and checking of duplicates.
             Bug Fix - uMedicineSetup - Fixed up the tab sequence in the Medicine Details group box and checked all other tab sequences.
25/08/17 /MK Bug Fix - uCalvingEvent - DeleteCalvesSaleDeathEvents - A bracket after animalid line which didn't need to be there.
                                     - dbStatusPropertiesChange - sOldMortality was set to CalfMortality field not Mortality field so FCalfStatusChanged was always true.
                                                                - CalfStatusChanged was incorrectly being set if adding a calving not editing.
28/08/17 /MK Bug Fix - uDanRyanImport - GetAnimalID - This search was only working for tag numbers not animal numbers.
             Change - MenuUnit - ShowCalvingScr - If country is not Ireland or NIreland and the user has not set up the default national ID then give error.
                                                  to tell user to enter this required information. Then bring up the Nat ID select screen.
                                                  Don't allow the user to proceed into calving without selecting this - reported by A.Flethcers.
                    - uMedicinesNullGroup - Default VPANo to uppercase like Review Medicines screen.
             Additional Feature - uMedicineSetup - When user exits out of the VPA Number or clicks the Search button to bring up DrugFinder and the VPA Number
                                                   entered or selected is already in the database then prompt user to merge the two drugs keeping the drug selected.
                                - uMedicinesNullGroup - New procedure, MergeDuplicateVPA, which is called when the user clicks save and the same VPA entered by the user
                                                        or selected from DrugFinder already exists in the database, keeping the first ID in the table.
                                - uDanRyanImport - Added uProgressIndicator to show progress of reading the file and saving the events.

Version V5.7 R2.0

17/08/17 /MK Change - DairyData - ClearAllBullsInUse - Added information message to tell user that the bulls will remain in the program but will not appear in active bull list.
                    - MenuUnit - Changed caption of RemoveAllBullsInUse1 from Remove All Active Bulls to Clear Active Bull List.
             Additional Feature - DairyData - Added public property for MedicineIDsNotUsedCount which is currently only used in MedicineSetup screen.
                                - New unit, uMedicineClearUp, currently used to get ID's of medicines that are being used i.e. purchased or treated, into an array.
                                - HerdPassword - Added new TPasswordAction for paDeleteAllMedicinesNeverUsed.
                                - uMedicineSetup - If user clicks Add the program then sets focus to the name field.
                                                 - On enter of the name field, if it is empty and in insert mode then show TfmDrugFinder.
             Bug Fix - uMedicineSetUp - MedicineGridPrintFilter - Old item used in the filter did not filter out medicines that were in use properly - Clive Johnson (S/N 8820).
                     - kwDBNavigator - EditingChanged - Add should be disabled if in add/insert mode.
21/08/17 /MK Change - uVetLinkFileImport - IsValid - The line is valid if does/doesn't contain a VPA number or the start of the VPA number contains EU.
                                         - ImportCsvFile - If the line does not contain a purchase date or quantity, or expiry date or batch number then its not valid.
                                                           Removed the requirement of the VPA number for validation.
                    - uMedicinesNullGroup/uMedicineSetup - When adding the VPA Number to the drug from uDrugFinder then add the medicine group and dose/purchase unit as well.
                    - KRoutines - FormatVPANumber - If the start of the number contains the letters EU then its valid.
                    - DairyData - CheckFiles - If the all previous updates went through OK and the current defaults version number is less then this version number
                                               then download a new DrugListing.xml file when the user searchs for a drug with DrugFinder.
                    - uDrugFinder - Default sort of grid to the name of the drug.
                    - uDrugsRegisterImport - ImportFile - If the vet link file was already saved into the detail table then no need to import it again
                                                          as it imports drugs that don't have a VPA Number or have an invalid VPA number again.
                                           - EditVPANo1Click - Assign the drugs group, dose and purchase unit from the drug the user selected in DrugFinder.
                                           - GetFileHeaderId - If header is being created then default DetailRecsCreated to False.
             Additional Feature - uUpdateTables - UpdateDefaults - New field, DrugXMLUpdateRequired, added to the defaults table.
                                - DairyData - New public property, DrugXMLUpdateRequired, used to determine whether the user has to download a new DrugListing.xml file.
                                - GenTypesConst - New consts and type created for medicine groups.
                                - uDrugFinder - New group column added.
                                              - Bring down group from XML file.
                                              - If group is antibiotic, dose or vaccine then dose and purchase units should be millilitres,
                                                if the group is tube then the dose and purchase unit should be tube and if the group is other
                                                then the dose and purchase unit is nothing - GL/SP request.
                                - uDrugsRegisterImport - New fields added to the Detail table for MedicineGroup, Dose and Purchase Unit.
                                                       - New field added to the Header record for DetailRecsCreated.
                                                       - New private property created for HeaderDetailRecorded.
             Bug Fix - uDrugsRegisterImport - CreateLegendLabels - Use VPA Number to count the amount of drugs matched not the amount of purchase records matched.
22/08/17 /MK Change - uMedicineSetUp - Only show DrugFinder screen if country is Ireland.
                    - uMedicinesNullGroup - If country is Ireland then show edit button in VPANumber else set column to text edit property.
                    - uHealth, uEventsByGroup - Removed the drug code from the drug drop down list.
             Bug Fix - MenuUnit - ShowCalvingEvent - While check should be checking for InputNatIDStyle also so if user changes InputNatIDStyle to <> ListInput MessageDlg won't appear.
                     - uCrushBarcode, uDrugsRegisterImport, uHealth, uEventsByGroup - Default the comment to name of the drug with application rate and unit code.
             Additional Feature - New function, GetHealthCommentByName_Unit_ApplicRate, to create the comment for health event from drug name, application rate and unit code.
23/08/17 /MK Change - uMedicinesNullGroup - actSaveExecute - If duplicate VPA Number found then format error to show what VPA Number it is.
                    - uMedicineSetup - DBNavigatorBeforeAction - Show error if invalid or duplicate VPA Number on save regardless if drug is in use or not.
                                                               - Error on duplicate now shows the VPA Number that is duplicated.
                    - uMedicinePurchaseRepository - GetMostRecentPurchaseId - Allow query to run with no batch number.
                                                             - Pass purchase date into query for better searching.
                    - uDrugsRegisterImport - EditVPANo1Click - If VPA Number from DrugFinder exists in medicine table already then set FDetailTableDrugID to this ID.
             Additional Feature - uMedicinesNullGroup - Added DoseUnit and PurchUnit to temp table so when drug is saved the dose and purch unit that came from DrugFinder
                                                        get saved into the Medicine table.
             Bug Fix - uDrugsRegisterImport - actRunExecute - If there was no VPA number the drug was still being imported.

Version V5.7 R1.2

04/08/17 /MK Change - uDrugsRegisterImport - ImportFile - Check to see if the total VetLink file is invalid i.e. there are no valid records on the file - GL request.
                                                        - If the total VetLink file is invalid then close out of VetLink.
                                                        - As ImportFile is called from FormShow then post a message to close out of VetLink.
                    - uVetLinkFileImportSummary - Pass ATotalFileInvalid boolean ShowSummary so informative text and panel appears on InvalidPurchaseMemo.
                    - uVetLinkFileImport - ImportCsvFile - Always check for double quotes as first string in line.
16/08/17 /MK Additional Feature - uVetLinkFileImportSummary - New page, Treatments Imported, to show the user what treatments were saved or not saved.
                                - uMedicineSetUp - Allow right click on grid if App user and there are drugs that were never used (treated or purchased)
                                                   to allow the user to delete all drugs that were never used.
             Change - uDrugRegisterImport - New procedure, ShowHideColumns, created to show/hide columns based on whether the user is purchasing or treating.
                                          - Change the caption of DrugRegisterDBTableViewEventDate to Purchase Date of purchasing and Treatment Date if treating - SP/GL request.
                                          - If the user entered a valid tag desc with spaces or comma's and some of these were not treated then
                                            change the tag description to the animals that were not treated.
                                          - THealthEvent was created twice depending on whether the user was creating a treatment for a single animal or group/category of animals.
                                            Moved this into one function called HealthEventCreated.
                                          - New form variables, FTreatmentsSaved and FTreatmentsNotSaved, created to show the number of treatments that could or couldn't be saved.
                                            If the user selects a category or group of animals then these variables are increased, depending on if the treatment was saved, for each animal.
                                            If the user enters in a group of animals manually i.e. either by comma's or spaces between the animals these variables are also increased
                                            depending on whether the treatment was saved for each animal.
                                          - Show the uVetLinkFileImportSummary screen after the treatments.
                                          - Changed the way the system checks the tag desc for a single of multiple animals if not category or group are selected.
                                          - Code refactoring when the system was finding the animal id and then finding the animal record.
             Bug Fix - uDrugFinder - Search - Strip out characters that are not spaces, or numbers or letters.
18/08/17 /MK Change - uMedicineSetUp - dbteVPANoEnter - If VPA Number is valid and the user is editing then show warning for caution when changing/removing teh VPA Number.
             Bug Fix - uVetLinkImport - SanitizeNumericField - Removed break where a character was found that wasn't numeric or a dot.
                                                               Old version of VetLink would just return numbers and dots.
                     - uDrugRegisterImport - DrugRegisterDBTableViewVPANoGetProperties - Access Violation here when scrolling through the grid if null or invalid vpa number was found so I removed this code.
                                                                                         Now the user has to right-click on the grid and click Enter VPA Number to bring up the TfmDrugFinder screen.
                     - KRoutines - FormatVPANumber, IsValidVPANumber - Now checks for the word VPA in the VPA Number and remvoes it.

Version V5.7 R1.1

26/07/17 /MK Change - MenuUnit - ShowCalvingEvent - Check to see if for whatever reason was there a tag added to the TagStore that is already in use and allow the user
                                                    to change the Next NatID in the preferences screen - Philip (TGM) reported case of this happening and calving screen
                                                    (both the old version and new version of the calving) crashed at saving the calving trying to remove the tag from the tag store.
28/07/17 /MK Change - uElecWeigh - Changes to the import of EZIWeigh and TruTest5000 params - Eddie Jordan UCD.
31/07/17 /MK Change - uCalvingEvent - dbStatusPropertiesChange - Set Dead Not Tagged calf as registered if country is Ireland or England.
04/08/17 /MK Additional Feature - New units for new changes to VetLink - uVetLinkDrugMatcher, uVetLinkFileImport, uVetLinkFileImportSummary & uVetLinkPurchaseCompleteMsg.
                                - MenuUnit - Added new Bord Bia button below event icons for Irish users only.
                                           - If Parlour Events icon is shown then but new Bord Bia button first and then Parlour Events button beside it.
             Change - uDrugsRegisterImport - Major changes to VetLink - File now goes through a rigorous verification procedure when its read and if it
                                                                        fails the verification the program tells the user why and to contact ourselves for help.
                                                                      - Legend now has hints to show what each legend item means.
                                                                      - If abort of purchases then just close out of VetLink, don't allow treatments to be recorded.
                                                                      - If purchases are complete the user is given the option to contine with treatments or close VetLink.
                    - uFileAttachmentImport - SetupListView changed of Name column if import type is not ICBF.
                    - uDrugFinder - GetSelectedItem - If there is only one record in the grid then focus that so user only has to click Select - GL request.
                    - MenuUnit - Changed colour of Veterinary/Feeds button and background of Veterinary/Feeds event area to match new Bord Bia button colour.
                               - Changed colour of AIM/ICBF button and background of AIM/ICBF event area to lighter orange - GL request.
                               - Changed URL of Farm Safety image to new PDF location on the hsa website - GL request.

Version V5.7 R1.0

24/07/17 /MK Change - This verion has all the changes/bugs/features from V5.6R9.3 below along with the calving changes of the new release version, V5.6R9.4.

Version V5.6 R9.3

21/07/17 /MK Change - uBordBiaPrint - Revamped screen as per GL's directions to allow user to use this for help with entering and printing data for the Bord Bia inspection.
                    - uEventsByGroup - Change Health/Dosing to Vet/Dosing - GL request.
                                     - Move Vet/Dosing, Vaccination and Herd Test to start of row of pgEvents - GL request.
          Bug Fix - uAIMHerdRecImport - ProcessAnimals - ProcessSaleEvent - Sold was being assigned IsDeath when it should be the reverse.
                  - uFeedPurch - Manufacturer setup button was spelt incorrectly.
          Additional Feature - uHerdLookup - New type FShowMeEventInfoType used with new ShowMeEventInfo.
                             - uShowMeEventInfo - New form Bord Bia screen to tell user about event entry areas for Bord Bia.
                             - MenuUnit - After BordBia button closes check HerdLookup.FShowMeEventInfoType to show HintStyleController.
                                        - Modify HintStyleController for BordBia event hints.
                                        - Modify HintStyleController for adding and removing animal from the cart.

Version V5.6 R9.2

12/07/17 /MK Bug Fix - uDrugRegImportWithdrawal - cmboExistingDrugs had lost its list source so I have hard coded the list source as well as the key field and list field names - Noel Keane.
                     - uDrugsRegisterImport - EditVPANo1Click - No need to query existing VPA numbers here as import will merge to existing VPANo - Noel Keane.
17/01/17 /MK Change - uMedicinesNullGroup - Removed primary check for InUse and added primary check for drugs used in the last 18 months - GL request.
                                          - Added check for VPA number to secondary check i.e cbIncludeMedicines is not ticked.
                                          - Changed caption of cbIncludeMedicines to Show all medicines used in last 18 months - GL request.
                                          - Added NOT Bord Bia registered tick box that stops this screen from appearing in Startup Reminders screen.
                                          - Changed caption of the form to Incomplete Medicines.
                    - uUpdateTables - UpdateDefaults - Added new field for BordBiaRegistered to the Defaults table for use within the Incomplete Medicines screen.
                    - uStartupReminders - Only show Incomplete Medicines Reminder if Ireland, BordBiaRegistered and there are Incomplete Medicines.
                    - uAnimalRemedyData - GetNoTreatedMedicinesWithNullTypesOrNullWithdrawal - Removed primary check for InUse and added primary check for drugs used in the last 18 months - GL request.
                                                                                             - Added check for VPA number to secondary check i.e cbIncludeMedicines is not ticked.
                    - uMedicineSetUp - Had to make code changes to positions of some buttons and group boxes because of form font size change.
                    - MenuUnit - actReviewMedicineExecute - Added function to HerdLookup to get first medicine so it can be used in other areas.
                    - DairyData - MedicineDrugCodeValidate/MedicineNewRecord - Drug Code is no longer required for setting up a drug so we create a drug code with KW#+ID of drug.
                                                                               therefore we CheckForChars is not required.
             Bug Fix - uStartupReminders - New Version History reminder was always appearing even if the user clicked the X to remove it.
                                         - If the user had removed all reminders the screen stayed open instead of closing automatically.
                     - DairyData - QueryICBFRegistrations - CheckCalving - This check was not like the check in the ICBF screen where it was based on animals first.
             Additional Feature - DairyData - New IsBordBiaRegistered public property which looks at new field in Defaults table.
                                - uHerdLookup - Two new public functions, DuplicateVPAFound and FirstMedicineID.
         /SP Change - uMedicineSetUp - Changes to form font size.

Version V5.6 R9.1

03/07/17 /MK Bug Fix - uMilkRecSysScr - MilkAnalysis - Access Violation error appearing at Details Monthly Comparison stage of report due to BreedingDataHelper being free'd.
04/07/17 /MK Bug Fix - uMilkRec - FormCreate - sbCISFileExport should NOT be visible if OwnerFileUKMilkRecorder is DIY.
                     - MenuUnit - SetUpForm - CreateUKMilkRecorderOption should NOT be visible if OwnerFileUKMilkRecorder is DIY.
                     - uHerdSetup - DBNavigatorBeforeAction - WinData.SystemRegisteredCountry is not useful here because it hasn't been set yet by new value of EditHerdIdentity.
             Change - uHUKIFarmEvents - FormCreate - Set caption to be like MenuUnit and MilkRecording file export captions.
07/07/17 /MK Change - uWeighingFilt - Moved CreateIntervals from DetailBand1BeforePrint to OutputIntervalSummary so it is ran only run once.
                                    - CreateIntervals - Run query to show all dates i.e. intervals, and number of animals in the WeighingsTable.
                                                      - For each then get the total weight.
                                                      - Then get the average weight i.e. total weight divided by the number of animals.
                                    - QRLoopBand1BeforePrint - For each interval get the gain between this interval's average weight and the last interval's average weight.
                                                             - Then get the weight gain i.e. average weight gain of interval divided by the number of days between this interval and the last interval.
                    - uEventsByGroup - ShowTheForm - Only show in use administered by records - Eddie Jordan (UCD).
                                                   - Only show in use prescribed by records - Eddie Jordan (UCD).
                    - uHealth - If adding health or dryoff only then in use administered by records - Eddie Jordan (UCD).
                              - If adding health or dryoff only then in use prescribed by records - Eddie Jordan (UCD).
                              - If editing health, dryoff or vaccination then show in use administered by records - Eddie Jordan (UCD).
                              - If editing health, dryoff or vaccination then show in use prescribed by records - Eddie Jordan (UCD).
                    - uKImport - AnimalDataGridManualNatIDNumValidate - Remove country code, if found, from tag and add correct country code depending on Dept. algorithm.

Version V5.6 R9.0

29/06/17 /MK Change - uAWEventsByGroup - CreateICBFCalfSurveyEvents - If an incomplete calf survey was recorded for this animal then add the new parameters to the existing event.
                                       - Formatted area above the grid and the grid to show Vitality and Size first as these are required at Date of Birth.
                    - uICBFEventExport - MarkAsRegistered - Mark all events except for Calf Survey events as registered.
                                                          - For Calf Survey events only register the events that are completed i.e have all 6 parameters.

Version V5.6 R8.9

27/06/17 /MK Change - uProgressIndicator - Added Update and Application.ProcessMessages to StepIt and SetPosition.
             Incorporated Source From Release - uDrugsRegisterImport - DrugRegisterDBTableViewTagDesc lost its PropertiesClass.
28/06/17 /MK Change - uFilters - Moved the Current/All Lactation filter out of the normal event list so that it can
                                 be used in conjunction with the "Show Female Animals With Events" list - GL/Kieran Savavge request.
                    - uAWEventsByGroup - Grid now shows all calves regardless of age but disables the input of Docility, Quality, Scour and Pneumonia
                                         for calves that are less than 5 months old.
                                       - GetAnimals - Check to see if there are incomplete Calf Survey events i.e. only vitality and size were entered by the user.
                                                      and load these parameters into the grid. The user is not allowed to changed these parameters.
                                       - ValidateICBFCalfSurveyEvents - Remove calves that already have a complete calf survey event i.e. all parameters are added.
             Bug Fix - uFilters - If the user has an event filter on, applies the filter and comes back into the Filter screen,
                                  the event date range does not show unless the user unticks/ticks the required event filter again - GL reported.

Version V5.6 R8.8

15/06/17 /SP Additional Feature - uHerdSync - Support for Preg Diag Recheck status.
             Bug Fix - uFertIndicesRpt - Pregnancy Rate% incorrect - not looking at PD event.

Version V5.6 R8.7

02/06/17 /MK Bug Fix - uBreedingDataHelper - GetPlannedBullInfo - Use VarToStr here instead just the Variable result because of "Invaliant Variant Type" error.
                     - uCAFREFertListData - PreviewListData - Breeding Data was just being free'd and not being set to nil so report would not view a second time.

Version V5.6 R8.6

30/05/17 /MK Bug Fix - uICBFPCDownloadImporter - AddBull - Check to see if the bull is not in the herd, doesn't have a tag number but does have an animal number.
                                               - EnableGroupBox - Trying to enable cxGroupBox.Controls[j] here because of copy/paste bug.

Version V5.6 R8.5

29/05/17 /MK Bug Fix - uAIMHerdRecImport - ProcessAnimals - ProcessSaleEvent - Error when animal was already in the herd and posting record to log file - Mt. Melleray Abbey/Monika reported.

Version V5.6 R8.4

24/05/17 /MK Bug Fix - uDrugsRegisterImport - ImportFile - When processing the file remove spaces from Date, ExpiryDate, VPANo, Quantity and DoseRate - reported by Kevin Quinn/Richard Stanley.

Version V5.6 R8.3

18/05/17 /MK Change - uCreateEvents - ProcessServices - Search for bull by name as well as code because parlour file from Dairymaster Moo Monitor
                                                        contains the bull name not the code - requested Danny O'Connell.
                                    - AddBullIDFromSireRegister - Search the Name of the bull for the value that is passed on for the same reason as above.

                                                                - As we're now also searching the Name assign code of new bull created to code from register.
Version V5.6 R8.2

18/05/17 /MK Bug Fix - DairyData - ClearPostivePregDiag - Incorrectly using EventID instead of ID in SQL to change description of event - reported by Michael Callan.

Version V5.6 R8.1

16/05/17 /MK Bug Fix - uWeighingFilt - BuildWeighing - When there is no LastWeighingDate but there is a PurchaseDate then set the LastWeighingDate/Weight to be purchase date and weight - Matt Ward.
             Change - MenuUnit - actImportParlourDataExecute - Added Dairymaster to list of acceptable parlours for import file.
17/05/17 /MK Bug Fix - uAIMHerdRecImport - ProcessAnimals - AddCalfRecord - Check to see if the calf exists already and exit out if in the databse and deleted or not in the herd.
                     - uCalvingEvent - actDeleteCalvingExecute - Changed the way the system checks to see if has to close out of the form before deleting the event - Catherine Kearnery.
             Change - DairyData - New public variable CalvingDeleted which is used in the MenuUnit to check to see if the caling was deleted so the grid refreshes.
                                - MissingCalvingEventsFound/MissingCalvingAnimalsFound - Added any results to the ApplicationLog so there is no need to debug to get the offending issue.
                    - MenuUnit - EventGridAnimalEventsViewDblClick - Check to see if the Calving was deleted and refresh the main grid if it was.
17/05/17 /MK Bug Fix - ActionReminderFilt - BuildDueFirstService - If the animal has had a heat and bull was specified then this should not be the last bull on the report
                                                                   as farmers don't record bulls in a heat event - GL request.
18/05/17 /MK Bug Fix - DueFirstService - OtherDetailBeforePrint - Was looking at same Due Service Date QRDBLabel as normal report - Declan O'Meara.
             Change - DueFirstService - Changed caption of both "indicates Due First Service" labels to "indicates no heats recorded - GL request.
                                      - MainHeaderBeforePrint/OtherDetailBeforePrint - Show labels "dates highlighted" depending on result of new functions HasMissedCycle & HasOverDueCutOffDates.
                                      - Added new header and qrdbtext components for Days Since Last Heat - GL/Declan O'Meara request.
                                      - Remove Service Type header and QRDBText - GL request.
                    - ActionReminderFilt - BuildDueFirstService - Added new field for Days Since Last Heat based on today minue last heat date - GL/Declan O'Meara request.

Version V5.6 R8.0

05/04/17 /MK Change - uCalvingEvent - AddCalving, UpdateCalving - Changed from while not(mdCalvingDetail.Eof) to for i := 0 to mdCalvingDetail.RecNo when looping through
                                                                  the mdCalvingDetail table so the system can edit the mdCalvingDetail to post the CalfAnimalID after the animal is created.
06/04/17 /MK Bug Fix - AddToGroup - Groups - If animal was moved to a new group it was deleted from old group but was not added to new group.
             Additional Feature - uPreferences - Added new reg key's for cGSDefaultCalfSex and cGSDefaultCalfSexType.
                                - GenTypesConst - Added new GlobalSettings for DefaultCalfSex and DefaultCalfSexType.
                                - uGlobalSettings - Added preference to store whether user wants to use a default calf sex or not, it defaults to not.
                                                  - If user selects default calf sex then the user can then select a default calf sex type.
                                - DairyData - LoadPreferences/SavePreferences - Added changes for DefaultCalfSex and DefaultCalfSexType.
                                - uCalvingEvent - Check for new preference for Default Calf Sex.
                                                - If this preference is not selected then don't default calf sex to anything and do check for calf sex in ValidateCalf.
13/04/17 /MK Bug Fix - Services - PlannedBullCloseUp - Check if PlannedBull.KeyValue is not null first before other checks on PlannedBull.KeyValue - GL reported.
18/04/17 /MK Additional Feature - uCalfRegFlt - Added a remove all menu item to the Remove drop-down-list.
19/04/17 /MK Incorporated Source From Release - Changes for sending planned bull up the server for the App - GL/SP request.
             Bug Fix - EventRecording - TAnimalRecord.Save - If animal was breeding then BullSemenStk record was being created
                                                             instead the BullSemenStk record being created with Breeding True or False.
             Change - DairyData - ReLinkCalvesToDams - Set ID#Notified boolean to AIMRegStatus boolean.
21/04/17 /MK Change - uHerdLookup - Moved creation of NextAutoGenTag to HerdLookup for Global use.
                    - uCalvingEvent - GenerateNextNatID - Use new HerdLookup.GetNextAutoGenTagNumber function for auto-generated tag.
                    - DairyData - Created a Public Property for HerdTagPrefix e.g. IE or 372 for Irish Herds only.
24/04/17 /MK Change - uGlobalSettings - Don't show Calf National ID Generation Grid if screen opens from within the Calving event screen.
                                        This also applies to Use Part NatID as Animal No and Default Sex To - GL/SP both suggested this after GL's request for
                                        the Next Calf Nat ID in the Calf National ID Generation Grid should be the calf that your on would take too long to do.
                    - uCalvingEvent - actCalvingOptionsExecute - Apply screen changes after Calving Options/Preferences screen closes.
                                    - GenerateNextNatID - Automatically generate the next calf nat id even if the user has entered a tag number that already exists.
25/04/17 /MK Incorporated Source From Release - DairyData - UpdateMediPurchQty - Only update quantity remaining on purchases that have a quantity greater than zero - John Merrick
25/04/17 /MK Change - uSalesDeaths - PriceExit, PricePerKgExit & ColdDeadWtExit - Made changes so that no matter what field the user enters a value into
                                     it will re-calculate the other fields as well.
                                   - WeightExit, PriceExit & PricePerKgExit - Changes made to allow for user to enter a live weight and let the program
                                                                              calculate the price/kg based on LiveWeight - requested by Michael Lyons.
                                   - * NOTE * - We are not calculating the Dead Weight from the Live Weight if the Kill Out % is entered - GL request.
                    - uHerdSync - CreateAnimalNode - If female animal is in the herd only then create the planned bull node - SP request.
                                                   - If the animal is not breeding the create a blank planned bull node - SP request.
02/05/17 /MK Bug Fix - uChangeCustomerSupplierNames - actSaveExecute - Make use of the new CustSuppID to only update the selected customer/supplier - Geraldine Murray.
05/05/17 /MK Additional Feature - New Unit uAIMHerdRecImport imports sales, purchases and calvings from the file that is download after AIM Herd Rec creates a file of
                                  the left and right information i.e. differences between Kingswood and the Dept.
             Change - MenuUnit - Added new messages to initialization and DefaultHandler for WM_KINGSWOOD_AIMCLIENT_RECONCILEHERD
                    - uHerdRec - Removed Load File as its not required any longer. This screen is not used in England since the HerdRec was done with CTS Online - GL/Sean Tynan request.
          MK & SP Change - uRemittanceRecord - Added ApplicationLog.LogExceptions in try except e.Exception sequences.
                                             - Moved RMTTable to be a private variable of the unit.
                                             - FreeAndNil RMTTable in PostEventData after PostSalesDeath
                                             - Added DBISaveChanges where possible for RMTTable i.e. SalesDeaths table, and events table.
08/05/17 /MK Change - ShowTheForm - Check WinData.ActiveMedicineCount when changing the screen size.
             Additional Feature - uHealth - Added Medicine Purchase to the screen - requested by Anne Ryan.
09/05/17 /MK Change - uMedicineSetUp - MedicineGridPrintFilter - Default title of print out to whatever filter is applied (In Use or Not In use) and todays date - Anne Ryan request.
                                                               - If no filter is applied then set the report tile to Medicine List and todays date.
             Additional Feature - uMediPurch - Added Print button to the form and removed the Accounts button - Anne Ryan request.
                                             - Default title of print out to Medicine Purchase List and todays date - Anne Ryan request.
09/05/17 /MK Additional Feature - uDrugsRegisterImport - Added popup menu for Enter VPA number which appears when the user right-clicks on the grid if a record has not VPA Number.
                                                       - When the user enters in the VPA Number in the InputBox that appears the newly entered VPA Number will be copied to
                                                         all records that have the same name as the record that selected.
                                                       - The grid is then refreshed and the legend at the top is also refreshed.
10/05/17 /MK Change - uMartImportByFile - ImportFromXML - NewLine (Mart Software Supplier) emailed enquiring about whether they can pass in the
                                                          tag number without the IE or 372 because when they scan a barcode it doesn't contain IE or 372.
                                                          The change below checks to see whether the number without the IE or 372 (12 digits) is a valid
                                                          IE or 372 based on the formula that Tony (Dept. of Ag) gave us to check what the tag type is.
                                          ** NOTE ** - The change above only has to be applied to PostPurchases because PostSales already searches by the tag without IE or 372.

Version V5.6 R7.2

27/04/17 /MK Incorporated Source From Release - DueToCalving - Increased size of bull field to show 6 characters - George Lowe.

Version V5.6 R7.1 

26/04/17 /MK Additional Feature - EventRecording - TPlannedBullEventRec - Added new creation routine for the TPlannedBull event.
                                - ICBFPCDownload - Added TICBFDownloadPlannedBulls to create a planned bull event for an animal.
                                - uBreedingDataHelper - GetPlannedBullInfo - New procedure to give back PlannedBull event information for animals current lact.
27/04/17 /MK Additional Feature - uUpdateTables - UpdateBullings - Added new field for recommended bull indicator from ICBF for Planned Bull event.
                                - DairyData - Bullings - Added new field for recommended bull indicator from ICBF for Planned Bull event.
             Change - uEventsByGroup - CreateTempTable - Allow the user to add more than one Planned Bull for the animal.
                                     - WriteTheOtherEvent - TPlannedBull - Set new indicator of the recommended (by ICBF) bull to next available indicator.
                                     - sbSaveClick - Set comment of Planned Bull event to include preferred bull (by ICBF ) indicator.

Version V5.6 R7.0

25/04/17 /MK Incorporated Source From Release - Services - ServiceTypeChange - Removed the assigning of planned bull after service type is changed.
                                                         - FormActivate - Only check for planned bull on form open - Milo Murphy.

Version V5.6 R6.9

18/04/17 /MK Change - uDanRyanImport - Use uppercase of EventGroup to determine whether the event is Pregnant, Fit, Not Fit etc - Eddie Jordan/Lyons Research request.
                                     - Use same search for animal as Billy Curtin system i.e. search by AnimalNo first and then LocateNatID.
                                     - Only show events for animals that have been found when moving through tabs.
                                     - If not classification information then for PD events use Days In Calf for comment.
19/04/17 /MK Incorporated Source From Release - Changes for the planned bull of an animal to go up to the server.
20/04/17 /MK Incorporated Source From Release - DairyData - Changes for bulls not breeding appearing in BullSemenStk table as in use.
                                              - SetupAnimals - Changes for if BullSemenStk record doesn't exists then set InUse to whatever UsedForBreeding is.

Version V5.6 R6.8

28/03/17 /MK Bug Fix - uWeighingFilt - Added try except around assigning weight gain and NumDays in CreateIntervals as there was an unexplainable error assigning NumDays - Eddie Jordan.
12/04/17 /MK Change - uMartImportByFile - PostSales - If the event exists in the events table but doesn't exist in the purchase table
                                                      then insert a record into the purchase table with the details - John Milliken.
                                        - PostSales, PostPurchases - Refactored the code so that the purchase/sale event is saved, the EventRecording class is free'd
                                                                     and then whatever happens after the event is saved is done last.

Version V5.6 R6.7

10/03/17 /MK Additional Feature - uMartImportByFile - PostPurchases - If the event exists in the events table but doesn't exist in the purchase table
                                                                      then insert a record into the purchase table with the details - John Milliken.
                                                                    - Store some of the records from the FMartTable into a file that can be
                                                                      read in again if the program fails to save the data - John Milliken.
                                                                    - If the event does exist in the detail table then go through PostPurchaseAndHealth
                                                                      and this code will update the purchase record if it already exists.
             Change - uMartImportByFile - ImportFromNIMovementsIn - Have to determine whether file contains a header line or not.
             Incorporated Source From Release - BreedSetup, GenTypesConst, MenuUnit.

Version V5.6 R6.6

08/03/17 /MK Bug Fix - uCreateEvents - Changed all instances of the byte variable to integers as when reading in a parlour file there can be more than 255 records.
                                     - AddBullIDFromSireRegister - Took out the requirement for the source value as its no longer available from the ICBF and when
                                                                   adding the bull from the sires table, if the source value didn't exists it would not save the bull.

Version V5.6 R6.5

22/02/17 /MK Change - uHerdSetUp - Changed caption of LHerdPrefix to Pedigree Prefix - GL request.
                    - uHerdLookup - New function, PedigreePrefixByHerdId, created to get Pedigree Prefix of selected herd.
                    - uAimAnimalRegistration - GoToAimAnimalRegistration - Create element at start of the document with pedigree prefix - SP request.
02/03/17 /MK Change - SetupAnimals - Do not show sbDelete and ToolButton3 buttons anymore unless Ancestry screen is showing and the image tab is selected - GL/SP request.
                    - MenuUnit - SetupForm - Only show CMMS Movement Import Utility if Kingswood Office User - SP/GL request.
03/03/17 /MK Change - MenuUnit - FormActivate - Only show FixAnimalLactationNumbers utility if not WinData.AnimalLactNoFixCompleted.
06/03/17 /MK Additional Feature - HerdPassword - Added new TPasswordAction for paDeleteSelectedAnimal.
                                - MenuUnit - New Utility item for Deleted Animals allows user to delete an animal based on a password and
                                             also apply a filter for deleted animals - SP/GL request.
                                            - Added new pop up menu for the main grid to allow undeleted of an animal if new deleted animal filter is showing - SP/GL request.
                                - uPhoneLinkEventsReview - ReviewEvent - If editing a PDA/Parlour calving and country is Ireland or NIreland then show new calving screen.
                                - DairyData - New procedures/functions/variables created to show deleted animals on the main grid and undelete an animal from the main grid - SP/GL request.
             Change - uCalvingEvent - ShowForm - New const variable, AParlourCalvingDate, can be passed into this form for import of calvings from parlour - Johnny O'Hanlon.
             Bug Fix - MenuUnit - Some non Beef utilities were showing for beef herds.

Version V5.6 R4.6

20/02/17 /MK Bug Fix - KDBRoutines - ValidEIDTagFormat - Check to see if designator is numeric before converting to integer.

Version V5.6 R4.5

13/02/17 /MK Bug Fix - SetupAnimals - BFat, Prot for 305 and Cummulative Yield Display Format should show 2 decimal places - SP request.
16/02/17 /MK Change - MenuUnit - New Utility Menu item, pmiUpdateHerdDesignator, created to allow Irish users that have their Herd Designator set to the
                                 372 Herd Designator but left the Tag Prefix as IE.
             Additional Feature - HerdPassword - Added new TPasswordAction/Procedure for FixHerdDesignator.
             Bug Fix - uChangeCustomerSupplierNames - actSaveExecute - DateTimeToStr not working and SQL failed to Execute.
17/02/17 /MK Bug Fix - uMedicineSetUp - DBNavigatorBeforeAction - Duplicate VPA check was looking at all drugs without ignoring the one that was selected - James Hannon. 

Version V5.6 R4.4

06/02/17 /MK Bug Fix - uTagIdentifierSelection - If user clicks Don't Show Again then save the newly selected tag prefix - reported by SP.
                                               - Update the IsSynchronized in the Owners table to false when chan

Version V5.6 R4.2

20/01/17 /MK Bug Fix - DiaryData - CalcCostAndQtyUsed - If Health.PurchUnitCost table was 0 it was being asigned value from Medicine.CostPurchUnit but
                                                        when Health.PurchUnitCost was being used to calc WinData.DrugCost it was still zero.
                                                        I made a change store the PurchUnitCost to a variable and then use this variable to calc the cost.
                     - MenuUnit - actImportParlourDataExecute - Added Insentec to the list of parlours that bring data into the program - John Wynne.
24/01/17 /MK Bug Fix - uBeefAISireRegister - heDownloadClick - This procedure was checking again an old boolean, AllowDownload, which is no longer in use.
                                                               This means that the file would not be downloaded if the user clicks this option.
             Change - uAnimalRemedyData, uMedicinesNullGroup - Add primary check for InUse drugs - John Wynne request.
             Additional Feature - uDrugsRegisterImport - Added an extra field for ApplicRate that appears in the treatment section. The user can enter the
                                                         Application Rate for the new health event based on the vets guidlines that are in the Dose Rate field.
                                                       - The Application Rate field is coloured as Teal do show its a required field.
                                                       - If the user doesn't enter in the Application Rate for any of the treatments a prompt appears telling the
                                                         user that a default Application Rate of 1 will be applied to treatments that don't have an ApplicRate.
                                                       - Changed approach for bringing in purchases to firstly save the purchases for the medicines that can be
                                                         matched by a VPA Number so if the user gets the prompt to resume later for a new drug at least there will
                                                         be a treatment for the drug that was already in the database.
25/01/17 /MK Change - FeedPurchaseRep - Added a Total for Quantity - requested by John Wynne.
                                      - Tidied up the report layout it had huge spacing when running the costings report.
                    - uDrugsRegisterImport - Moved CreateLegendLabels to a private form procedure instead of procedure within another procedure.
             Bug Fix - uAIMAnimalMovements - GetAnimal - Added check to see if the animal is sold in the program after purchase date.
                                           - RecordMovementsOff - Added check to see if the animal is currenlty in the herd purchased after new sale date - report by Tom O'Keeffe.
             Bug Fix - uDrugsRegisterImport - Added CreateLegendLabels to btnReviewMedicinesClick procedure so that legends are created if user edits medicines within this screen.
                     - uMedicineSetUp - DBNavigatorBeforeAction - Don't allow duplicate VPA Numbers to be saved - reported by GL/SP.
26/01/17 /MK Bug Fix - uAIMAnimalMovements - RecordMovementsOn - Added check to see if the animal was sold after the purchase date - report by Tom O'Keeffe.
31/01/17 /MK Additional Feature - uTagIdentifierSelection - New screen created to allow Eire users to switch to 372 or IE easily - GL/SP request.
                                - MenuUnit - ShowCalvingEvent - If Herd country is Ireland then show TagIdentifierSelection screen before Calving screen opens.
                                           - ShowCalfReg - Removed this fix to see if it stops the duplicate animal and calving records issues with calvings.
                                - DairyData, GenTypesConst, uGlobalSettings, uPreferences - Allow user to turn back on prompt for uTagIdentifierSelection screen to show before Calving screen opens.
             Bug Fix - uUpdateTables - UpdateOwners - SP is using this field regardless of Country so I am to only default to IE if country is Ireland.
01/02/17 /MK Bug Fix - DairyData - CheckFiles - If version number is less than 5642 and country is not Ireland then set TagPrefix to blank - SP App request.

Version V5.6 R4.1

26/01/17 [V5.6 R4.1] /MK Change - uFeedPurch - Added buttons for supplier and manufacturer to the toolbar for easy adding/editing of these lists.   

Version V5.6 R4.0

18/01/17 /MK Additional Feature - uElecWeigh - CreateExportFile - Added date of birth and animals last weight to life data file for XR5000 users - Geraldine Carroll.
                                - KDBRoutines - Added global function to get the animals last weight.
             Bug Fix - uKImport - LoadExportData - BreedCode Column Property Class was not assiged before ExportGrid is shown. Probably lost with Delphi glitch.

Version V5.6 R3.9

22/12/16 /MK Change - uFileAttachmentImport - Look for Herd Number in file as ICBF changed file name format without telling us.
                    - KRoutines - GetICBFFile - Look for Herd Number in file as ICBF changed file name format without telling us.

Version V5.6 R3.8

13/12/16 /MK Additional Feature - uAWReviewEvents - Added changes to include the Calf, Dam and Stock Bull Events.
                                - uAWReviewCalves - Added changes to include the ICBF Calf Survey Events.
             Bug Fix - uAWReviewEvents - For Health Events only show number of events that have the ICBF Health Code selected.
                                       - For Sales/Death Events only show number of events that have the Culling Code selected.
16/12/16 /MK Additional Feature - uSalesReport - ViewBtnClick - Added extra filter for either bull or steer instead of just a male filter - requested by Anne Ryan
19/12/16 /MK Change - uAnimalRemedyData - GetNoTreatedMedicinesWithNullTypesOrNullWithdrawal - Only require VPA Number where the user has the App.

Version V5.6 R3.7

02/12/16 /MK Bug Fix - uAPHISRegistration - AddSireOrDamTagNo - Field ID not found error appearing because previous code was using FieldByName('ID').Value.
             Change - uDrugsRegisterImport - Changed caption of actRun to Save - GL/SP request.
                    - uMessageScr - cVetLinkMessage - Changed caption - requested by GL.

Version V5.6 R3.6

29/11/16 /MK Bug Fix - uEventsByGroup - ValidateMultiDrugGridInput - Using AsInteger instead of AsFloat for ApplicRate.
                     - uDrugsRegisterImport - AddHealthEvent - FDetailTable.FieldByName('DrugQuantity').AsFloat assigned to Health.ApplicRate.
                                            - DrugQuantityLessMinus - This function was removing the decimal point within the quantity if one existed.

Version V5.6 R3.5

23/11/16 /MK Change - uCalvingEvent - actDeleteCalving - Firstly delete the calving event from the Dam and bring back its lactno - SP request.
                    - uMedicineSetup - Changed the Code and Name columns to TextEdit type properites and then set teh CharCase to UpperCase so the sort works.
                    - uMedicinesNullGroup - Added the VPA Number to this screen - GL/Dan Norton/Martin O'Leary request.
                    - uAnimalRemedyData - GetNoTreatedMedicinesWithNullTypesOrNullWithdrawal - Added the VPA Number to this check. 

Version V5.6 R3.4

22/11/16 /MK Bug Fix - uMartImportByFile - ImportNIMovementsIn/Out - Had to bring back the link to TfmMartCustomerSupplierLookup as TGM say its the better option than just adding the customer/supplier.
             Change - uMartImportByFile - Had to implement the update of a sale file from mart or NIMovementsOut files.

Version V5.6 R3.3

21/11/16 /MK Bug Fix - - uMartImportByFile - ImportNIMovementsIn - Code for purchases was not finished to assign CustomerSupplier as GetSupplierID.

Version V5.6 R3.2

15/11/16 /MK Change - uCalvingEvent - Assign_DataSources_And_Fields - The restriction for steers not showing in suckler herds should only be applied where the country is Ireland - TGM request.
                    - uMartImportByFile - ImportNIMovementsIn/Out - Add Customer/Supplier to table if it does exists without use TfmMartCustomerSupplierLookup.
17/11/16 /MK Change - MenuUnit - Show Import button if Parlour Link is available.

Version V5.6 R3.1

14/11/16 /MK Bug Fix - uCalvingEvent - CalfIsRegistered/TCalvingEvent.CalfReg should only set to True if AbortedTag and FCountry is Ireland.
                                       Northern Ireland users have seperate registration for Still Births.
                                     - If country is NIreland don't prompt to select colour if dead not tagged calf - TGM reported.  

Version V5.6 R3.0

09/11/16 /MK Additional Feature - uElecWeight - CreateExportFile - Created a life data file for XR5000 users - Geraldine Carroll.
10/11/16 /MK Bug Fix - uCalvingEvent - FHUKLogInRequired should be defaulted to True so that HUKINameSerialNoViewer shows list - TGM reported.   
             Change - uMartImportByFile - PostPurchases - Logic changed so existing purchase can be updated if file read in again - Ann Alexander request.
                                        - ImportNIMovementsIn/Out - Always show mart review screen which allows for the customer/supplier to be selected.
                                                                  - Removed the link to TfmMartCustomerSupplierLookup screen as its no longer required.
                    - uMartImportFileReview - actCloseExecute - Check to see if the customer/supplier is selected before closing the form.                    

Version V5.6 R2.9

01/11/16 /MK Bug Fix - uBBPPurchScr - SupplierChange, BuyerChange - No locates done on the Suppliers or Buyers table for newly selected value - IAD.

Version V5.6 R2.8

28/10/16 /MK Bug Fix - uPurchases - CalcCosts only required if adding the event as costs should be taken from saved values in database - IAD.
                     - uHerdLookup - IsValidHerdNumber - Not checking for blank herd number where a user has a blank herd identity.
             Change - uHerdSetup - Added better validation for invalid BTE Herd Numbers and duplicate Herd Numbers. 

Version V5.6 R2.7

26/10/16 /MK Change - uHerdLookup - IsValidHerdNumber - Added a new function to check if the herd number is valid.
                    - uICBFEventExport - ICBF now want the Herd Number to be added to the name of the file instead of the Herd Identifier.
                    - uKImport - UpdateMilkDiskTrans as well for databases with more than one herd i.e. Michael Callan only.
             Bug Fix - DairyData - SetNatIDIndex - UpdateOK if no records to update.
27/10/16 /MK Bug Fix - uKImport - Renumber an animal from the HerdID that the animal was located in from WinData.FHerdIDList.
                     - uPurchases - FormActivate/FormShow - Moved code as cost was coming from Supplier in not SupplierCosts in Purchase table - IAD.

Version V5.6 R2.6

25/10/16 /MK Bug Fix - MenuUnit - Visible property of MenuForm before minimize change was defaulted to False. Once it was changed to True
                                  after the minimize change, if the user had an update of sires the form would close after the sire update.

Version V5.6 R2.5

20/10/16 /MK Bug Fix - uCrushXML - LotNumber and Grade left out of Import and Export Purchase XML files.
                     - uBBPPurchScr - LotNumber never saved to the purchase table.
                                    - LotNumber never saved to the XML file.

Version V5.6 R2.4

20/10/16 /MK Bug Fix - uBreedingDataHelper - GetGestation - If Gestation that was returned from breeds is zero then set result to be 283 - David Kelleher.

Version V5.6 R2.3

19/10/16 /MK Change - uICBFEventExport - Name of calving file changed to have B at start of file instead of C for 15 digit tag length files.
                                       - Name of services file changed to have E at start of file instead of C for 15 digit tag length files.

Version V5.6 R2.2

19/10/16 /MK Bug Fix - uCalvingEvent - ChangeCalfBreed - NI Herd - Only change the breed of current calf as error appeared when going through each calf.
                       DairyData - CheckFiles - Update NatIDIndex to NatIDIndex+1 where NatIDIndex > 0.

Version V5.6 R2.1

18/10/16 /MK Bug Fix - uUpdateTables - UpdatePurchGrpData - Result was not set if UpdateFieldType was False.

Version V5.6 R2.0

07/10/16 /MK Change - Allow users to minimize the screen - TGM request.
                    - This version has all the changes required for the 372 Irish tag.
             Additional Feature - uAPHISRegistration - Added the export of the SireNatIDNo to the XML file - GM/TGM request.
                                - uICBFEventExport - Added new lengths for 372 tag numbers as requested by ICBF.
12/10/16 /MK Additional Feature - Changed uLactationNumberCorrection to uAIMAnimalPurchaseEdit as this screen now allows for price and weight of purchase to be entered - ABP clients.
13/10/16 /MK Bug Fix - uHerdLookup - QueryAnimalWithdrawal - Withdrawal warning was only showing if treatment date that belongs to withdrawal drug was after today - James O'Connor.
                     - CalvingEvent - Default Calf Colour to WinData.DefaultColour - TGM/Alan Irwin.
                                    - Never brought over some of the changes that were in the test version.
                     - Win7 - Removed defaulting of CurrencyString - TGM.
             Additional Feature - MenuUnit - Load/Save the default EventGrid Width - TGM/Alan Irwin.
17/10/16 /MK Change - uKImport - SCC was left out of the Milk Recording transfer - Michael Callan.

Version V5.6 R0.0

24/08/16 /MK Additional Feature - uHerdSetup - Added dbcmboTagPrefix component to let Irish customer change between the IE and 372 tag prefix's.

Version V5.5 R9.0

19/08/16 /MK Incorporated Source From Release - uHealth.

Version V5.5 R8.9

15/08/16 /MK Incorporated Source From Release - uUpdateTables.

Version V5.5 R8.8

11/08/16 /MK Incorporated Source From Release - uCalvingEvent, uElecWeigh.

Version V5.5 R8.7

04/08/16 /MK Additional Feature - New unit created, uCalvingXML, that creates and looks through an XML for calvings saved.
                                - uCalvingEvent - Add facility to save calving event to an XML file so the calving can be recreated if it needs to.
                                                - Added new objects to store the dam and calf details in the XML as the MemData set information was not updated after the transaction was posted.
05/08/16 /MK Additional Feature - DairyData - If event exists in calvings table but not in events table then recreate from CalvingXML
                                - uEventsByGroup - Added new ToolbarBtn and RxButton for sorting the grid.
                                                 - This then pops up a new pop up menu with two options, Sort By Animal No and Sort By Nat. Id. No.
                                                 - When the user selects either item it will change the index on the grid to either iAnimalNo or iNatIDNum.
                                                 - Added SortNatID field to TempAnimals and query to add animals to TempAnimals.

Version V5.5 R7.6

02/08/16 /MK Additional Feature - uElecWeight, uElectronicWeighingSettings - Added another TruTest option for XR5000.

Version V5.5 R7.5

27/07/16 /MK Incorporated Source From Release - Win7 - Check for OS Version and date format.

Version V5.5 R7.4

25/07/16 /MK Incorporated Source From Release - uGroupSetup - Incorporated fix for automatic create of sales and purchase groups since
                                                              introduction of the ban on duplicate group code and descriptions for the App.
             Bug Fix -

Version V5.5 R7.3

20/07/16 /MK Incorporated Source From Release - Win7 - Made change to check for short date and not language. 

Version V5.5 R7.2

18/07/16 /MK Incorporated Source From Release - uKImport - Fix for the breed code not showing on grid even though it appears in table behind grid.

Version V5.5 R7.1

06/07/16 /SP - uHerdSync - Incorporated change from relase version of Purchase and Sale CTSReg for Mike Green.

Version V5.5 R7.0

22/06/16 /MK Incorporated Source From Release - DairyData - Change to allow country of France to be selected in Herd Settings - Mervyn Talbot (S/N:3783).

Version V5.5 R6.9

17/06/16 /MK Incorporated Source From Release - Incorporate bug fixes for uUpdateTables.

Version V5.5 R6.8

16/06/16 /MK Additional Feature - uUpdateTables - New fields added to ICBFCalfSurvey table.
                                - uAWEventsByGroup - New traits required for ICBF Calf Survey - vitality, size, scour and pneumonia.
                                - uHerdLookup - New EditRepository's required for new ICBF Calf Survey traits - vitality, size, scour and pneumonia.
                                - GenTypesConst - New items added to HealthCodeArray and CullingCodeArray for new ICBF requirements.
                                - DairyData - New fields added to ICBFCalfSurvey table.
                                            - New MemDataSet for ICBFCalfSizeScores as ICBF require letters for the score instead of numbers.
                                            - New DataSource create for new ICBFCalfSizeScores MemDataSet.
                                - uICBFEventExport - New traits required for ICBFCalfSurvey event.
                         Change - uUpdateTables - CullingCodes - The below names should be changed to new names from ICBF current list.
                                                               - Added extra new ICBF Culling Codes PP & IB.

Version V5.5 R6.7

08/06/16 /MK Incorporated Source From Release - Incorporate bug fixes for SetupAnimals.

Version V5.5 R6.6

07/06/16 /MK Incorporated Source From Release - Incorporate bug fixes for DairyData & uEventsByGroup.

Version V5.5 R6.5

03/06/16 /MK Incorporated Source From Release - Incorporate bug fixes for DairyData, uEventsByGroup, uHealth & uMilkRec.

Version V5.5 R6.4

27/05/16 /MK Incorporated Source From Release - Incorporate bug fixes for ElecWeighing, StockInHerdFilt, uSalesReport & uAIMAnimalMovements.

Version V5.5 R6.3

24/05/16 /MK Incorporated Source From Release - Incorporate bug fix to BrowseRegisterU where BullExt record was not created because of missing field in Sires.db.

Version V5.5 R6.2

10/05/16 /MK Incorporated Source From Release - Incorporate changes for ICBF Milk Recording importing from floppy disk - Leslie Smith.

Version V5.5 R6.1

09/05/16 /MK Additional Feature - MenuUnit - BrowseSireRegister1Click - As program now moves the sires.db into the web/TempBackup folder when the user is
                                             taking a backup, the program needs to check for the sires.db in the database.
                                - DairyData - OpenAllTables - The program is moving the sires.db into the web/tempbackup folder during the backup,
                                                              this file is not moved back until the backup is done, if the user restores backup or gets
                                                              an install email, this file is not copied back into the database so don't open sires.db on
                                                              program startup and look for the file if it doesn't already exist.
                                - Change all references to WinData.BreedingDataHelper to individual FBreedingDataHelper variables
                                  in the units that were calling this class.
10/05/16 /MK Incorporated Source From Release - Incorporate changes for copying Sires.db, looking for Register value in CTSRequests table
                                                when checking to see what calves have not been registered with BCMS and freeing up resources
                                                in the Calving event screen for objects that were not freed in previous versions.

Version V5.5 R6.0

29/04/16 /MK Bug Fix - DairyData - CheckFiles - Padd out the existing VPA Numbers in the Medicine table for matching against padd VPAs in VetLink - TOK reported.

Version V5.5 R5.9

28/04/16 /MK Incorporated Source From Release - uDataBackup Bug Fix where Web directory does not exist.

Version V5.5 R5.8

26/04/16 /MK Incorporated Source From Release - uCrushSales change for IAD with duplicate group descriptions.

Version V5.5 R5.7

04/04/16 /MK Change - uAIMAnimalMovements - RecordMovementsOff - Sometimes the Dept. does not specify the moved to so the user should be informed
                                                                 because the animal is then not sold - John Doyle (6487)
             Additional Feature - uCalvingEvent - SetupBullTreeListView - New procedure that looks for StockBullEvents for the stock bulls and adds the the In/Out Date
                                                                          as well as the Projected Calving date from the In/Out Date.
                                                                          This new list pops up when the user clicks the drop-down-arrow for bull used.
                                                                          Bulls that have a stock bull event after the last calving date of the cow appear with + beside them
                                                                          that the user click on to show the Bull In/Out and Projected Calving Date from the In/Out date - GL request.
             Bug Fix - StockInHerdFilt - Check for Crush User's to show Q/A. If beef user then show Purchase Date - Slyvia Tracey.
                     - uSalesReport - After new quick report was created the changing of the buyer/supplier label and data was not working - McDonnell Bros.
05/04/16 /MK Incorporated Source from Release code for fixes in uMartImportByFile and uHUKIFarmEvents.
07/04/16 /MK Additional Feature - uStockBullEvent - New unit which allows the user to create a Stock Bull In/Out event for a stock bull.
                                - uHerdLookup - New query, datasource, EditRepository for Stock Bulls.
                                              - New function StockBullEventExistsForAnimal to check to the Stock Bull event already exists.
                                              - New procedure CalcAnimalStockBullEvents which check to see if the animal has an active bull in or bull out event.
                                                If there is an active event then don't show the Bull In/Out event depending on which event is being opened.
                                              - New procedure ValidateStockBullEvent to check to see if the new Stock Bull In/Out event is before a recent
                                                Stock Bull In/Out event and don't allow the event to be saved.
                                - MenuUnit - New drop-down-menu added beside the Service event if stock bulls exists in the herd.
                                           - New procedure added to AddStockBullEvent with some checks prior to opening the screen.
                                           - EventGridAnimalEventsViewDblClick - Added edit option for new Stock Bull Event screen.
08/04/16 /MK Change - uEventsByGroup - ChangedItem - If user selects a Stock Bull from Bull List then default Service Type to Natural Service.
                    - Services - PlannedBullOnCloseUp - Added similar option from Group Service screen for change of service type depending on
                                                        what type of bull is selected i.e. AI Bull = AI service type, Stock Bull = Natural Service.
25/04/16 /MK Change - uDrugsRegisterImport - AddHealthEvent - Check to see if the animal has a sale event.
                                                            - Check to see if the animal treatment date is not after the sale event.
                                                            - If the animal was sold then check to see if the sale was within the withdrawal period.
                                           - GetExistAnimalID - Allow animals that were sold or had died to be have treatment recorded.
                                           - Removed styling of font on grid to show drugs that cannot be matched, instead use the same logic as the
                                             on line VetLink where an icon indicates whether the VPA Number exists or doesn't exist or there is no VPA number.
                                           - Added legend to the top of the screen to give use information on the new icons and what they indicate.
                                           - Print button available now once the grid filled.
                                           - Import File button now available if not VetLink files are available from links.
26/04/16 /MK Change - uDrugRegImportWithdrawal - Moved the drug name to the top of the farm and increased the font size and colour - SP request.
                                               - Changed the caption of the form to include the number of new records to be imported.
             Incorporated Bug Fixes from Release V5.5 R5.0.

Version V5.5 R5.6

30/03/16 /MK Bug Fix - uHUKIFarmEvents - clf2Sex was assigned below instead of clf1Sex - Jim Westaway reported.

Version V5.5 R5.5

24/03/16 /MK Incorporated Source From Release - Check for Sales Withdrawal date in GetPreSaleStatusInfo with KDBRoutines and changes to uHerdLookup for the same.

Version V5.5 R5.4

04/03/16 /MK Bug Fix - uKImport - UpdateAncestry - Because the program wasn't checking for animal numbers it was causing duplicate AI bulls to be created.
08/03/16 /MK Bug Fix - uHealth - DrugUsedPropertiesEditValueChanged - If editing Health, DryOff or Vaccination and the user is changing the drug used
                                                                      then check that the batch no for the new drug isn't the same as the batch number for the
                                                                      the old drug. If its not then clear out the BatchNo.
                               - Removed all instances of DoComment as its not required - SP supervised removal.
                               - DrugUsedPropertiesCloseUp - If user is adding or amending a Health event ( not dry off or vaccination - SP ) then change the comment
                                                             to the code of the drug. If RateApplic entered then add RateApplic value to the comment as well.
                     - uCalvingEvent - Removed CheckCalvingInterval from dbCalvingDatePropertiesEditValueChanged and added it to dbCalvingDateExit like the old calving event.
                                     - Add boolean to the form to check to see if the CalvingInterval was already checked before ValidateCalving.CheckCalvingInterval.
09/03/16 /MK Bug Fix - uKImport - FormatDisplayValue - Formatting of IE tags was not working properly - Emer Howard.
             Additional Feature - DairyData, uUpdateTables
                                  - Added IgnoreEBIUpdate fields to CowExt and BullExt to be used with ICBF Import and WinData.CreateYoungStockEBIValues
                                    to stop the program from updating the EBI values of young stock that were already updated by the ICBF Import.
10/03/16 /MK Change - uCalvingEvent - FormActivate - Preemptive check for a problem where the tag number of the calf was not created by the Herd Identifier of the Herd.
                                                     If this problem was found then store it in the debug log file in the database and close the form without messages
                                                     for are you sure you want to close the form.
                                                     Check this only for Irish herds but as soon as the NI users use the calving I will have to include NI in this check also.
                    - uICBFPCDownloadImporter - btnEBIDataClick - Set new IgnoreEBIUpdate boolean in CowExt to true so that this animals EBI values
                                                                  will not be updated by the Create YoungStock EBI procedure in MenuUnit/DairyData.
                    - DairyData - CreateYoungStockEBIValues - If IgnoreEBIUpdate is True then Cancel tCowExt Append/Edit and move to next animal.
                    - MenuUnit - CreateEBIValuesYoungstockonly1Click - Run SetupQuery if animals were updated by WinData.CreateYoungStockEBIValues.
11/03/16 /MK Change - uKImport - WriteEvents - Check to see if the animals tag number exists in the None Herd.
                                               This could have happened if a dam/sire was added when the calf of the dam/sire
                                               was imported into the herd before the dam/sire were imported - Florrie McCarthy reported.
15/03/16 /MK Additional Feature - GenTypesConst - InvalidVetLinkCharArray - New array which stores invalid characters that may exist in string values in VetLink.
                                - uDrugsRegisterImport - ImportFile - Remove Invalid VetLink Characters from Drug Description, BatchNo, VPANumber and Supplier name - SP request.
                                - KRoutines - StripInvalidVetLinkChars - New function to go through a string to remove in valid characters seen in VetLink string values.
                                - uCalvingEvent - dbStatusPropertiesChange - Set the CalfIsRegistered boolean to true if adding calving and is dead not tagged calf - GL request.
                                                - AddDetailRecord - If editing calving and CalfIsRegistered then set CalfIsRegistered to false if calf is not tagged
                                                                    so that the lCalfIsRegistered does not appear - GL request.
16/03/16 /MK Change - uFeedPurch - Fixed up tabbing on this screen. Remove tabbing into grid as it was causing the database to switch to edit mode from insert mode.
                    - uCalvingEvent - Fixed ordering of dam and calf groups.
                    - uHerdLookup - FeedGroups, qBatchGroups & qPurchaseGroups - Added order by Description - Anne Ryan request.
                    - Groups - GroupListQuery - Added order by Description - Anne Ryan request.
                    - uPurchGrpRep - Added Query/DataSource for LookupPurchGrpHeader to allow sort by Code of Group.
                                   - sbViewClick/sbPrintClick - Check to see if there is data to print, if not show error.
             Bug Fix - uCalvingEvent - actDeleteCalvingExecute - KingData.InTransaction/StartTransaction/Commit was left out of the DeleteCalving routine as WinData.Calvings/Events
                                                                 was not used at the start of the DeleteCalving routine to locate the event. WinData.Calvings/Events are still not used
                                                                 here as we know the eventID coming into this form - SP suggested the KingData.InTransaction/StartTransaction/Commit should
                                                                 be added back in just case there is an error in the database during the delete by SQL.
                                     - FormCloseQuery - Check to see if calving was deleted and if it was don't show "Are you sure you want to close" message.
                     - uPurchGrpRep - PurchGrpData Sex Field width was changed to 15 but the tData TTable Sex Field width was not changed
                                      so an error was appearing "Type mismatch in expression".
                                    - When printing Quick Reports check to see if date is null date i.e. 30/12/1899 and set value to blank instead.
             Checked - uGroupUpdate - Checked out this form for sorting as per Anne Ryan's suggested. The drop-down-lists in this screen
                                      are order by code already and the user has the option to sort the drop-down-lists by Description by
                                      clicking on the Description column heading.
18/03/16 /MK Incorporated Source From Release - Incoporated source for fixes to lactation problems after Milk Rec through ICBF import screen - Nick Kearney.
             Bug Fix - MenuUnit - ClearAnimalSelection - After FilterCart1.Default is assigned then assign caption of FilterCart1.
                                                         This was stopping the user from filtering the cart again after the user clicked
                                                         no to clear the filter after ClearSelect was clicked - Emer Howard reported.
21/03/16 /MK Bug Fix - Services/DairyData - Removed the option to save the comment in a service event as it was causing problems where the program was changing
                                            the comment to the amount of services the cow had - Emer Howard reported.
                     - Services - Added check to see if the user has change the donor dam of the service and show an information message explaining to the
                                  user that the donor dam of the calf should also be changed - Shane Lawlor.
22/03/16 /MK Bug Fix - uCalvingEvent - ValidateCalf - Prompt user to select a disposal place if dead tagged selected and no disposal place selected - GL.
             Change - SetupAnimals - SetGridFooters - Added Average and Total footers for SCC fields in Lactation Summary grid - GL request.
                                   - CreateFooter - Check to see if field is ButterFat or Protein from Lactation Summary or Monthly Recording grid
                                                    and only show 2 decimal places for these fields. All other field should not be showing decimals - GL request.
                                   - FormActivate - SetGridFooters for Monthly Recording grid.

Version V5.5 R5.3

04/03/16 /MK Additional Feature - uDrugsRegisterImport - Pad VPA Number to include zero's - SP/GL/TD request.

Version V5.5 R5.1

03/02/16 /MK Incorporated Source From Release - FrmTagReplacementForm change of Vat from 21% to 23% - Des Cunningham.

Version V5.5 R5.0

18/02/16 /MK Bug Fix - uNIVetTreatments - Because we're check for string value, DataField, the checking string must be same cased on DataField name.
22/02/16 /MK Bug Fix - uCalvingEvent - SetProjectedDateText - Default lProjectedDateText.Caption to blank and exit procedure is no Service Date specified.
                                                              Reported by GL where if user changes bull to a bull without a service date it wasn't blanking the projected calving date.
                                     - CreateCalving - Always trim the calf animal number before creating the animal record - SP request.
             Change - uCalvingEvent - SetProjectedDateText - Based Projected Calving date on last service rather than last PD or last service - GL/Hugh Collender request.
             Additional Feature - uCalvingEvent - dbCalvingDatePropertiesChange - If user changes the calving date and the new date differs to the projected calving date
                                                                                  by more than 10 days then show the user a prompt to view the bull used list - GL/Hugh Collender request.
                                                - actSaveCalvingsExecute - Add same check for difference between actual calving date and projected calving date but
                                                                           check to see if the user has already see this message before saving - GL/SP request.

23/02/16 /SP Improved - MenuUnit - Streamlined the downloading of KInstaller. When the user
                        presses the New Version button the program will check existance of KInstaller
                        and auto download and install if missing.Version V5.5 R4.0

18/02/16 /MK Change - uHerdLookup - MaxDrugWithDrawalDate - Pass in what event type to check the for the max withdrawal date of
                                                            e.g. if calving then only check for Milk Withdrawal, if Sale then only check for Meat Withdrawal.
                                                          - System doesn't all user to specify other dates any more so no need to check this.
                                  - QueryAnimalWithdrawal - Need to pass in the EventType here so that it will be passed into MaxDrugWithDrawalDate.
                    - uCalvingEvent, uCalving, ActionReminderFilt(DueCalving) - Pass in the cCalvingEvent eventtype to get correct MaxDrugWithDrawalDate.

Version V5.5 R3.9

18/02/16 /MK Bug Fix - uCalvingEvent - dbCalvingDateOnEnter - Added a Win.PostMessage procedure to highlight the first 2 digits of the date in the Calving Date. 
                     - HealthFilterU - SQL for Country <> Ireland or Individual Treatment Report has a type of a field name "ul' - Tilly Dale Farming reported.       

Version V5.5 R3.8

12/02/16 /MK Bug Fix - uHUKIFarmEvents - Only add a the event block if the event date is greater than zero as SQL's brings up a blank record - GL/Helen Whittaker reported. 
15/02/16 /MK Bug Fix - uSalesReport - ViewBtnClick - Don't preview/print report if no data to print.
                                                   - Don't set caption of sales/purchase labels if cbSales or cbPurch is not checked.
             Additional Feature - HealthFilterU, MedicalTreatments -
                                  If Crush User (IAD) then switch the EventComment to FromPen i.e. name of batch group used in Health event.
                                - uHealth - If Crush User (IAD) then switch the Current Group to From Pen.

Version: V5.5 R3.7

02/02/16 /MK&SP Change - DairyData - WinDataDestroy - Removed the Session.Close here as if password is on tables then AddRemoveProtectedTables
                                                      trys to open these tables and can't as it requires the password to open them. This caused
                                                      a flash of a message to appear on closing of the program.
05/02/16 /MK Bug Fix - uCalvingEvent - Program kept reverting to invalid date because PostEditValue saves future date into database
                                       and check was allowing posted date to be saved to calving record. Always revert to today.
             Change - DairyData - CheckFiles - Added procedure, FixDataProblems, that fixes problem in the database that causes the App not to sync.
                                               SP says that this should be run all the time regardless of App presence or not.
                    - uHerdLookup - CalculateDrugWithDrawalDates - This function didn't know anything about NA withdrawal dates.
08/02/16 /MK Change - uGenLookupSetup - Added a grid to the form so that user could see the data in the table easily - SP request.
                                      - Show the code for the TObservedBy GenLookupType - SP request.
             Bug Fix - DairyData - GenLookUpLookUpCodeValidate - Don't allow duplicate ObservedBy codes to be posted.
                                 - GroupsDescriptionValidate - Don't allow duplicate group descriptions of any kind - GL/SP request because of App problems.
09/02/16 /MK Additional Feature - uSalesReport - Added breed column on request of GL/IAD.
             Change - DairyData - FixDataProblems - New procedure, FixDupGroups, create to fix duplicate codes and
                                                    duplicate descriptions of groups - GL/SP request because of App problems.
10/02/16 /MK Bug Fix - MenuUnit - RestoreCartCreatedOnApp1 - This option should only be visible if the user has the WebApp.
                     - DairyData - CheckFiles - Delete existing AnimalCart table as there was a bug in previous version
                                                where this table's definition was the same as SyncWarnings table defs.
                     - uSalesReport - Had to create a new quick report, qrCattleMargins, as the old quick report had a line before the new breed code column that
                                      was in the detail band but was nowhere to be found in the quick report itself.
                     - uUpdateTables - CreateAnimalCart - AnimalCart table defintion was the same as the SyncWarnings table definitions.

Version: V5.5 R3.6

03/02/16 /MK Incorporated Source From Release - Fixes in DairyData for version V5.5R2.6 to fix null calving survey calvings.

Version: V5.5 R3.5

03/02/16 /MK Incorporated Source From Release - Fixes in uCalvingEvent for version V5.5R2.5.

Version: V5.5 R3.4

29/01/16 /MK Additional Feature - uICBFPCDownloadImporter - New feature added to add animals from ICBF file that are not in database - GL request.
             Change - ICBFPCDownload - ICBF Ancestry line can be either 15 fields or 16 fields in length.
                                       If the line is 16 fields in length then the breed was being picked up incorrectly.
25/01/16 /MK Bug Fix - uHerdLookup - GetRationHistoryExists - Check to see if table exists first. This caused an error
                                     when trying to open the filter screen as it checks to see if ration data exists
                                     to show the average daily yield option - EH reported.
             Change - uEventsByGroup - CheckTreatmentInSaleWithdrawalPeriod - Changed from function to procedure as user is now told that animals who have been sold within
                                                                              the withdrawal period are going to be ignored i.e. deselected so the event is not
                                                                              created for these animals - EH reported.
26/01/16 /MK Bug Fix - DairyData - ReLinkCalvesToDams - Birth Type was never assigned for calving records that were recreated.
                                 - CheckFiles - Found some events had IsSynchronized as Null. These event should be set to False
                                                so that they go up to the server - Colm Kelleher reported.
             Additional Feature - HerdPassword - Added new TPasswordAction for UpdateEventsLactNo.
                                               - Added new TPasswordAction for paClearSoldAnimalTransponders.
                                - MenuUnit - New utility added to move the lactation number of the events for each animal
                                             to the lactation number-1 of the previous calving where the event date was prior to that calving date.
                                           - New utility added to clear off the transponder numbers for sold animals - only available for ParlourLink module.
28/01/16 /MK Bug Fix - GetAnimalNoFromNatIDNum - This procedure was only called with AutoGen or GenFromList of NatID.
             Additional Feature - uEventDataHelper - New function, GetLastCalvingLactationNum, created to get the lactno of last calving of date specified.
             Change - UpdateAnimals - Get LactNo of last calving date and check that no drying off was created in this lactno.
                    - sbSaveClick/SaveHealthEvent - Check if event date is before last calving date and save to last calving lactation-1
                                                  - If DryOff event then make sure that there is no dry off event in calving lactation-1.
01/02/16 [V5.5 R3.4] /SP Change - MenuUnit - Now allow dairy farmers to import purchases from AIM.
                         Additional Feature - MenuUnit - After import of purchases from AIM prompt user with screen to enter lactation number.
                      MK Change - uAIMAnimalMovements - RecordMovementsOn - Autocalc lactation number for female animals.

Version: V5.5 R3.3

22/01/16 /MK Change - HUKI have a redirect problem with their URL so I need to change the URL to dairyfacts.co.uk.

Version: V5.5 R3.2

22/01/16 /MK Additional Feature - uEventsByGroup - cbShowLastWeightColumnPropertiesChange/DrugUsedPropertiesCloseUp
                                                   - If show animal weight is ticked then show "per kg" after application rate.

Version: V5.5 R3.1

11/12/16 /MK Additional Feature - uEventsByGroup - Added feature that allows the user to calculate the application rate by the last weight recorded for an animal - Richard Tyrell request.
                                                 - Added button to Toolbar for Weighing events only to bring the user into the Default Vet Treatments screen - Richard Tyrell request.
13/01/16 /MK Additional Feature - MenuUnit - actExportGridToCSVExecute, pmiExportAnimalGridCSVFile - Added facility to export animal grid to CSV - Jane O'Connor Lely (2067).

Version: V5.5 R2.2

13/01/16 /MK Bug Fix - uHealth, uEventsByGroup - ApplicMethodCloseUp - Refresh query to get newly added applic methods.
                                               - AdMinByCloseUp, PrescribedByCloseUp - Refresh both AdminBy and Prescribed query's just in case user adds both types.
14/01/16 /MK Bug Fix - uCalvingEvent - Program was not prompting the user to enter a condition score after the calving is saved - Carl Farrar (4378) reported.

Version: V5.5 R2.1

04/12/16 /MK Bug Fix - uMediPurch - btnVetLinkClick - HerdIdentity was only assigned if not(WinData.FAttachmentsDownloaded). Therefore the directory was being
                                                      defaulted to the directory within the Mail Attachments folder not the directory within the Herd Number folder.
06/12/16 /MK Bug Fix - uSalesDeaths - Don't disable the SearchForAnimal control if editing the sale event as the disabled look of the control
                                      does not show the text of the animal number/tag number. Instead remove events from the control
                                      and remove the image from the control if editing the sale event. Also in OnFormShow set the focus to the
                                      SearchForAnimal control if adding and set the focus to the DateOfSaleDeath if editing - Dermot Gillespie reported.
07/12/16 /MK Bug Fix - uHerdSync - GetDrugWithdrawalDates - Only assign MaxMeatWithDrawal, MaxMilkWithDrawal Date if drug is not an NA drug - SP request.
                                 - CreateHerdSyncData - Creating Drug Node - If MeatNADrug or MilkNADrug then create blank node - SP request.
             Change - DairyData - CheckFiles - Set all drugs to not synchronized if VerNo is less than V5.5R2.1 version and user had HerdSync, as this
                                               version has change to not send up 9999 as the withdrawal days or max withdrawal date - SP request.
                    - uActionWarningReminders - OutputResult - ReminderListingType - Only show cows that are not pregnant and don't have a To Be Culled event - TGM/GL request.
                                                             - WarningListingType - Only inlcude animals that don't have a To Be Culled date - TGM/GL request.
             Additional Feature - uBreedingDataHelper - GetToBeCulledInfo - New procedure to give back ToBeCulledDate of animals current lactation.

Version: V5.5 R2.0

18/12/15 /MK Bug Fix - uCalvingEvent - CreateCalving, UpdateCalving - Added creating of New ID Allocation event for calf if Animal Number entered.
             Change - uCreateEvents - AddEventTableRecord - Change comment to Drying Off if not a health event.

Version: V5.5 R1.9

16/12/15 /SP AimAnimalRegistration - Now trimming string fields before they are exported to xml. A bug in calving screen
                                     caused leading spaces to be included in the AnimalNo value. This had the undesired
                                     effect of corrupting the xml output.

15/12/15 /MK Additional Feature - uGlobalSettings/DairyData/uPreferences/GenTypesConst -
                                  - Store whether to show the Gmail Inbox reminder in uStartupReminders - GL/Declan O'Meara.
                                - uStartupReminders - Allow user to click the "X" the reminder to check Gmail Inbox Emails - GL/Declan O'Meara.

Version: V5.5 R1.8

14/12/15 /MK Bug Fix - uElecWeigh - ReadCSVFile - Use Try/Except/End here to trap error with converted string to date.
                                                - Even if TruTestNatIDParse is greater than zero still check if AnimalNo then has a value
                                                  and if it doesn't then use the first field for the AnimalNo.

Version: V5.5 R1.7

10/12/15 /MK Additional Feature - uUpdateTables - UpdateCustomers/UpdateSuppliersBreeders
                                                 - Added BusinessID that is only used in Kingswood Fields currently.
14/12/15 /MK Bug Fix - uDrugsRegisterImport - GetNewDrugCode - Make sure that there is no drugocde with either upper case or lower case. 
             Change - uElecWeigh - LocateAnimal - If ANatIDNum contains IE at start then remove the IE - Nicole(Richard Bourns).
                                 - ReadCSVFile - EZIWeigh - Allow for different EZIWeigh file types where NatID position is different in each file
                                                            by making sure that the header line contains EID and use its position has NatID position - Nicole(Richard Bourns).

Version: V5.5 R1.6

04/12/15 /MK Change - uKingswoodAppInfo - Removed link to website and changed text of lShowAppInformation - GL request.

Version: V5.5 R1.5

03/12/15 /MK Additional Feature - uElecWeigh - ReadCSVFile - EZIWeigh - If date not found in parser field then look for date in whole disk line - Tim Meagher (5379).

Version: V5.5 R1.4

27/11/15 /MK Bug Fix - uCalvingEvent - dbBullUsedPropertiesChange - Change Projected Date depending on service date of service bull - GL request.
                     - uKImport - ValidateNos - Only re number animals that are InHerd = False in the database.
             Change - uCustomers/uSuppliers - eSearchOnKeyPress - Added partial search i.e. the program will search for text in whole of name not just the start of the name - GL request.
02/12/15 /MK Change - uICBFPCDownloadImporter - EnableGroupBox - Milk Recording group box should only be available with Milk Recording module.
                    - MenuUnit - SetupForm - Change caption of EBI column to Mat. Index ( short for maternal index ) for suckler herds.
                               - FormActivate - Removed Hints on startup as its another screen that will appear on startup - GL/SP request.
                                              - Moved the check for medicines with null groups/type and null withdrawals to uStartupReminders.
                                              - Moved check for ICBF emails into StartupReminders.
                    - uEventsByGroup - Health/Vacination/Dry Off - Removed the requirement to enter the prescribed by - GL/SP/Peter Maguire.
                    - uHealth - Removed the requirement to enter the prescribed by - GL/SP/Peter Maguire.
                    - DairyData - VaccinationEventsAvailable - Changed this function name to VaccinationRemindersAvailable.
                                                             - Changed this function to look at the SQL that uVaccineDueOn looks at to determine
                                                               whether there are vaccination reminders available.
             Additional Feature - uICBFPCDownloadImporter - FormActivate - Check HerdType and change EBI Group Box to Maternal Index if HerdType is Suckler.
                                                        - btnEBIDataClick - Added code to import the maternal index from the ICBF file for Suckler herds.
                                - MenuUnit - CheckMods - Made another drop down item to show Beef Sire Register for Dairy herds as well
                                                         as the Dairy Sire Register - GL/Declan O'Meara request.
                                - DairyData - CheckFiles - Remove old BeefAISireSettings table as a new field has been added for Maternal Index.
                                - uHerdLookup - GetBreedType - New function and type to get the BreedType of breed id.
                                - uBeefAISireRegister - Code added to save the maternal index of the bull to the bullext table from the Excel file.
                                - uBeefAISireRegisterSettings - CheckDBSaved - Added Maternity Index field.
                                - ICBFPCDownload - Added BEX constant to take the maternal index data from the ICBF file.
                                                 - New type TICBFMaternalIndices to store the maternal index data.
                                - uUpdateTables - UpdateGenLookup - Added Coccidiosis to list of diseases - Milo Murphy request.
                                - uStartupReminders - Add reminders for check for medicines with null groups or withdrawals,
                                                      downloading of ICBF replies and version changes - GL/SP request.
                                - uKingswoodAppInfo - New unit to display what the Kingswood App does.
                                - uPreferences, GenTypesConst, DairyData - Added code to store ShowKingswoodAppInfo in the registry.
                                - MenuUnit - FormActivate - Show new uKingswoodAppInfo screen if user does not have FarmSync and ShowKingswoodAppInfo registry value is True. 

 ** 02/12/15 - Note about Maternal Index **
    - GL decided that the quickest way to store the Maternal Index was to save it to the EBI field in the CowExt and BullExt tables.
    - GL did not want to make the changes in the SetupAnimals screen to show the new maternal index but instead said to change the EBI
      column on the main grid to Mat. Index for suckler herds.

Version: V5.5 R1.3

26/11/15 /MK Change - SetupAnimals - tsMilkSheet - dbgMilk - Added AVG and SUM footer records to the all kg values - GL/Brendan Meade (6980) request.
             Bug Fix - uBreedingDataHelper - AddFieldsAndDefsToTable - No index name assigned like there is in WinData.CheckEvents.
                                             This caused the events that were not added in date order to be missed - GL/Martina Neville.
                     - uMilkTankRead - Removed all average footers for percentage fields i.e. fat%, prot%, lactose% and solids non fat%
                                       in both the Milk Statement and Bulk Tank grid - GL/Brendan Meade (6980) request.
                                     - Discussed adding weighted kg values to the grid i.e. ( bfat/prot% x 100 ) / liquid milk + processed milk but
                                       GL thought best not to add this in yet as no one was looking for it.

Version: V5.5 R1.2

25/11/15 /MK Bug Fix - StockInHerdFilt - StockOnHand - InMilk - Showing in milk animals even if cows had dryoff events with DateRequired date.
                                                     - DryOff - Not showing dry animals if they had dryoff events with DateRequired date.

Version: V5.5 R1.1

25/11/15 /MK Bug Fix - uElecWeigh - ReadCSV - TruTest300 - If Parse field for Tag No found then set TagNo to this parse field string else,
                                                           set the TagNo to the AnimalNo on the file as no TagNo is on the file - L.Clerkin reported.

Version: V5.5 R1.0

24/11/15 /MK Bug Fix - uKImport - btnCreateSales - Check for temp movements incorrectly using Count(AID) in SQL where * is better for recordcount > 0 check.

Version: V5.5 R0.9

23/11/15 /MK Bug Fix - uBeefAISireRegister - Changes made to allow import of the BeefFile from ICBF without checking webupdate.ini as then
                                             webupdate.ini no longer exists on our server.

Version: V5.5 R0.8

17/11/15 /MK Change - uHUKIFarmEvents - Calf usage should be first assigned from SireBreed - Helen Whittaker NMR.
                                      - If calf is male then calf usage is B regardless of sire breed - Helen Whittaker NMR.
                    - ActionReminderFilt - pDueToCalve - Changed name of cbIncludeHeatAfterService to cbIncludeHeatOrPDAfterService.
                                                       - Changed caption to Include Cows With Post Service / Post PD Heat as tick box checks for both.
18/11/15 /MK Additional Feature - ActionReminderFilt - pDueForDryingOff - Added cbIncludeHeatsAfterServiceOrPD check box, stored in ReportDefaults, default to True - GL/Trevor Kellett.
                                                     - BuildDueToDry- If cbIncludeHeatsAfterServiceOrPD.Checked then check to see if animal has had a post pd or service heat.
                                - DueForDryingOff - qrlIncludePostServiceHeatOrPostPDInd, qrlSD1VisibleIndicator & qr2SD1VisibleIndicator -
                                                    - Added this labels as an indicator that the animal has had Heat after a PD or Service - GL/Trevor Kellett.
                                                  - QRSubDetail1BeforePrint, MainHeader1BeforePrint - Check to see if animals have (PD = NO) and (PostServiceOrPDHeat = True).
                                - ReportDefaults - New TDueDryOffDefaults property IncludeDueDryServedOrPDAfterHeat which is defaulted on - GL/Trevor Kellett request.
                                - MenuUnit - Added TcxDBNavigator to gbAnimalComment s to allow editing & saving of animals comments on the fly - GL/Trevor Kellett.
19/11/15 /MK Change - ActionReminderFilt - pDueForDryingOff - change caption of Cows Diagnosed Not Pregnant to Cows Not Pregnant as this tick box on this report
                                                              includes animals that have a status of Not Pregnant and not strictly animals that were diagnosed not pregnant by a PD - GL/SP.
                                                            - gbDryOffReporTypes - Changed caption to Display Options - GL request.
                                                            - gbDryOffReportOptions - Changed caption to Include and removed the Include from the components with this GroupBox.
                                                            - Moved cbIncludeServAndPD into the Display Options as it a display option not an include option - GL.
                                         - pDueToCalve - gbCalveReportTypes - Changed caption to Display Options - GL request.
                                                       - gbCalveFilterOptions - Changed caption to Include and removed the Include from the components with this GroupBox.
                                                       - Moved rgShowAnimalNoOrNatID and rgShowCalfSex into the Display Options box as its a display not an include option.
                                         - pDueToCalve & pDueForDryingOff - Changed caption of cows with post service and post pd heat to cows with Post-Service/PD Heat - GL.
                    - DueForDryingOff & DueToCalve - qrlIncludePostServiceHeatOrPostPDInd - Changed caption of cows with post service and post pd heat to cows with Post-Service/PD Heat - GL.
             Bug Fix - uKImport - ValidateNos - Only re number animals that are not in the existing herd i.e. have not been purchased already - M.Callan.
                                - CheckAnimalExists - This function was not used so I changed to show AnimalID of animal with SearchNatID
                                                      that exists in the herd that animals are being being purchased.
                                - WriteEvents/Purchases - Use CheckAnimalExists to see if animal is already in herd animal is purchased into.

Version: V5.5 R0.7

16/11/15 /MK Bug Fix - uCalvingEvent - dbBullUsedPropertiesChange - If editing and existing calving record's sire breed is 0 (missing/blank) then allow change of sire & calf breed.
                     - uCreateEvents - ProcessHealth - Include esParlourLink after prior check for ParlourLink file type and ParlourType is Westfalia.
                     - uHUKIFarmEvents - AddCalvingData - Setting of calf sex was opposite to what is required - Helen Whittaker NMR.

Version: V5.5 R0.6

16/11/15 /MK Bug Fix - uMedicinesNullGroup, uAnimalRemedyData - SQL to insert animals to temp table should check if drugs are in health.db first.

Version: V5.5 R0.5

09/11/15 /MK Additional Feature - DairyData - Added InUse boolean fields to Customers, Buyers, SuppliersBreeders and MedAdmin.
                                            - Added IsVet boolean field to MedAdmin to distinguish between a farmer/technician and a vet for prescribed by list.
                                            - Added these new fields to the OnNewRecord events of each table.
                                - uUpdateTables - Added InUse boolean fields to UpdateCustomers, UpdateBuyers, UpdateSuppliersBreeders and UpdateMedAdmin.
                                                - Added IsVet boolean field to UpdateMedAdmin to distinguish between a farmer/technician and a vet for prescribed by list.
                                                  Go through MedAdmin table and see if the Position field has the word vet in it, if it does then set IsVet to True
                                                  else set IsVet to False.
                                - uCustomers, uSuppliers, uBuyers - Added InUse dbCheckbox to look at new InUse field.
                                - uMediAdminSetUp - Added a Vet and InUse database checkbox to the screen.
                                                  - I also added a grid to the screen.
                                - uHerdSync - When creating Customers, Suppliers, Buyers & MedAdmin nodes export InUse field from table.
                                            - When create MedAdmin table export IsVet field from table.
                                - uHerdLookup - Added querys and datasources for AdminBy and PrescribedBy.
                                              - Difference between these two querys is that the PrescribedBy only shows where IsVet = True in MedAdmin.
09/11/15 /MK Change - uHealth - Changed the LookupSource of AdminBy and PrescribedBy to new HerdLookup datasources as a result of the new IsVet boolean field in the MedAdmin table.
                    - uEventsByGroup - Changes made to LookupSource for AdminBy and PrescribedBy to look at new seperate HerdLookup DataSource and Queries
                                       that differentiate between AdminBy and PrescribedBy with the new IsVet boolean field in MedAdmin table.
12/11/15 /MK Change - uCreateEvents - ProcessHealth - Changes made bring in Milk Isolation events from Westfalia for Pat Aherne (7986).
                    - MenuUnit - ShowParlourLinkScreen - If ParlourType is Westfalia then after ParLink closes and the WestfaliaExportFileName exists
                                                         save the file as the usual ParlourFilePath file name.
             Additional Feature - uHerdLookup - New class, TParlourDetails, to store parlour details i.e. parlour path, parlour type and NetworkLink.
                                - uMedicinesNullGroup - Changes made to allow to check for medicines that do not have withdrawal information - Shane Maxwell/GL request.
                                - uUpdateTables - UpdateMediPurch - Added Comment Blob field.
                                - uMediPurch - Added Comment Blob field.
13/11/15 /MK Change - uMediAdminSetUp - Only show one form caption for Add Prescribers / Administrators.
                                      - Changed vet to Prescriber - GL/SP request.
                                      - Add label beside prescriber to indicate that this is normally the vet.
                    - MenuUnit - pmAddMedicine - Only show one menu item for Add Prescribers / Administrators.
             Additional Feature - New unit - uTagReconcile - added to check from a start tag which tags are not in the herd program based on Herd Identifier.
                                - MenuUnit -pmCalfRegOptions - Added new Tag Reconcile item for new uTagReconcile unit - Shane Maxwell.

Version: V5.5 R0.4

09/11/15 /MK Bug Fix - uCalvingEvent - AddHeaderRecord - Assign CalvingGroupID only if existing group type of cow is Feed.
                                     - CreateCalving/UpdateCalving - Do not set AllowDeletion boolean of AddToGroup as cow was being removed from
                                                                     group if it was already in the group selected.

Version: V5.5 R0.3

06/11/15 /MK Change - uDanRyanImport - Created a new type for Billy Curtin who supplied Jim Garry with a file.
                                     - This file only contains the PD events for the cows, no fertility or to be culled events.
                                     - The file structure is totally different to the Dan Ryan format.
                    - uCalvings - GetCrossBreedID - Change made to add the cross breed if it doesn't exists - John O'Connor (3986).
             Additional Feature - MenuUnit - Added Import Cows 365 menu item to pmImportOptions which is to be used by people who have received a file
                                             containing PD events from Billy Curtin - GL/Jim Garry request.

Version: V5.5 R0.2

05/11/15 /MK Change - uElecWeigh - Changes made in the EZIWeigh file import to allow for the new EZIWeigh file - Deirdre Maher (4793).
                                 - LocateAnimal - Changes made to allow the search by the last digits of the tag number if more than one tag found with part number.
             Bug Fix - uPurchses - If modifying the event then show the purchase costs as the saved purchase costs in the Purchase table - IAD reported.
                                 - If the user changes the Buyer or the Supplier then set the purchase costs to those in the Buyer/Supplier tables.

Version: V5.5 R0.1

03/11/15 /MK Change - uEventsByGroup - Disable the use of VetLinkDrugs if MultiDrug grid is already showing and vice versa.
             Bug Fix - uEventsByGroup - mdMultiDrugNoDaysChange - Added on change event for mdMultiDrug to recalculate mdMultiDrug withdrawal dates.
                                      - Changes made so that FManualHealthComment applies on change of Comment regardless of whether event is Health, DryOff or Vaccination - reported by Milo.
                                      - Changes made so that FManualHealthComment applies to MultiDrug entries - reported by Milo.
                                      - WriteTheOtherEvent - Non multi drug vaccination was not saving disease to health table.
Version: V5.4 R9.9

02/11/15 /MK Change - uAnimalRemedyData - VetLinkDataExists - This function is defined by whether drug purchases have been imported
                                          but not allocated. The check for the DrugPurchID and DrugID has to be enforced here.
                    - uEventsByGroup - btnVetLinkDrugsClick - Don't show VetLink button if user has deleted all items in VetLink data table.                      
             Additional Feature - uVetLinkDrugSelect - Added a delete option - requested by John Merrick.
03/11/15 /MK Bug Fix - uHUKIFarmEvents - AddCalvingData - Setting of calf breeding boolean code was completely opposite to rule above.
                     - uRemittanceRecord - PostEventData - Setting the IsSynchronized was coded incorrectly.

Version: V5.4 R9.8

30/10/15 /MK Change - uEventsByGroup, uDanRyanImport, uHerdSync, DairyData -
                      - UpdatePregDiag - Changes made to now update the EventType of the existing PregDiag events to a new EventType and then create a new PregDiag event.
                    - uHerdLookup - mdEventTypes - Added a new EventType for 103 where a new PregDiag event has gone into the current lactation.
             Additional Feature - MenuUnit - ShowPDEvent - Give user warning that a PD record already exists and do they want to enter
                                                           a new PD record for this cow. If the user answers Yes then the old PD record is
                                                           updated with an EventType that allows the new PD event to go in on the current lactation.
                                - uUpdateTables - UpdateEvents - Added ParlourNotified field to the events table to be used with ParlourLink.
                                - DairyData, EventRecording - When recording new events or updating existing events set ParlourNotified field to False
                                                              so these events can be sent over to the parlour.

Version: V5.4 R9.7

27/10/15 /MK Change - ActionReminderFilt - BuildDueToCalve - Withdrawal Information - New rule change from GL, only show milk withdrawal date if any.
28/10/15 /MK Bug Fix - MenuUnit - cxAnimalGridViewBatchGrpDesc code was lost in movement of code from Shane to Michael.
                     - DairyData - MDGridBatchGroupData and QGridBatchGroupData code was lost in the movement of code from Shane to Michael.
                     - uCalvingEvent - CheckCalvingInterval procedure added to show messages if animals were calved within the last 300 days
                                       like they were in the old version.
             Change - uCalvingEvent - Removed code that makes the calf name options not visible where the user does not have the pedigree module - GL/M.Cooney request.

Version: V5.4 R9.6

22/10/15 /SP Change - uCalvingEvent - Check for withdrawal on new calving or edited calving and before save of calving.

Version: V5.4 R9.5

06/10/15 /MK Bug Fix - uSireBreedDifferToCalfBreed - CheckAnimals - Allow for HO and FR breeds to match.

Version: V5.4 R9.4

02/10/15 /MK Additional Feature - uSplash - FormCreate - Allow program to be ran from Kingswood Herd Management or Kingswd only.
             Change - MenuUnit - FormActivate - Removed this check to run KInstaller as WebInstaller handles this better.
05/10/15 /MK Bug Fix - StockInHerdFlt - AddPurchDateFilter - This function was using the Sale date components not the Purchase date components.

Version: V5.4 R9.3

01/10/15 /MK Bug Fix - StockInHerdFlt - Changes made to last SQL in PurchSales to filter report by Sale or Purchase date as well as supplier and customer.
                                        Emer Howard reported a bug where the Purchases Not Sold was not filtering by Supplier.
02/10/15 /MK Bug Fix - uICBFPCDownloadImporter - btnServiceDataClick - First check to make sure that the event does not exist.
                                                                     - Assign previous lactation to the event.

Version: V5.4 R9.2

30/09/15 /MK Bug Fix - MenuUnit, SetupAnimals, uMedicineSetup, uCustomers, uSuppliers, uFertTreatmentsReview, uCTSBirthReg,
                       uCTSMovementReg, uCTSCattleOnHolding, uAnimalCartView, uAWReviewCalves, uBeefProfitMonitor,
                       uConformationGradeAnalysis, uCrushSalesGroup, uEventFilter, uFeedEventFilter, uCrushAnimalFilter, uVaccineDueOn,
                       uDrugsRegisterImport, uCowsServedAfterPD, uTreatmentSummary, uRedTractorTreatSum -
                        - ComponentPrinter - Will only print to a Canon MP495 Printer if PrintTitle is set on the component.

Version: V5.4 R9.1

28/09/15 /MK Change - uDataBackup - Disable Restore if FarmSync is set up - SP/GL request.
                                  - Don't allow the override, CTRL + R, for anyone - GL request.

Version: V5.4 R9.0

28/09/15 /MK Bug Fix - uCalvingEvent - dbCalvingDateOnEditValueChanged - Moved GetGeneticDamNumber to hear so GenticDam text now shows on CalvingDate change.
                                     - GetGeneticDamNumber - New mdCalvingHeader.DonorDamID field created and saved to from this function.
                                     - CreateCalving/UpdateCalving - Now saves DonorDamID to the animals table.
                                     - UpdateCalvingDateIfRequired/UpdateCalvingDamIfRequired - Added update of Calf.DonorDamID with these procedures.
                                     - ChangeCalfBreed - Clear CalfBreedID field before checking to see if BullBreedID > 0 as if user changes from a bull with
                                                         a breed to a bull with no breed, the first BullBreedID is associated with the calf - Tim O'Keeffe reported.

Version: V5.4 R8.9

25/09/15 /SP Bug Fix - uDataBackup - Restore was disabled for non farm sync customers.

Version: V5.4 R8.8

25/09/15 /MK Bug Fix - uCalvingEvent - GetGeneticDamNumber - If Genentic Dam Animal No does not exist then use Genetic Dam NatID.

Version: V5.4 R8.7

24/09/15 /MK Change - uDrugRegImportWithdrawal - Moved the selecting of the existing drug before the adding of the new drug as it makes more sense - SP request.
                                               - ShowTheForm - Now that the update drug group box has been moved above New Drug form caption now shows drug name.
                                                             - Set the font colour to white for the component using the teal colour.
             Bug Fix - Selecting an existing drug, moved the VPA here so SET part of the SQL was always in the SQL.

Version: V5.4 R8.6

23/09/15 /SP Bug Fix - CreatePregDiagEvents - Set comment to not pregnant if not pregnant or keep comment user entered on app.

Version: V5.4 R8.5

03/09/15 /MK Change - uElecWeight - sbExportClick - Change to text to better explain what animals were export - GL request.
                                                    This could pontentially show users that a filter can also be exported.
08/09/15 /MK Change - uRedTractorTreatSum - GetHealthCodesData - Only include health and dryoff events, exclude vaccinations - TGM request.
          SP Change - uHerdSync - Changes made to allow animal remedy events to be sent to the server.
10/09/15 /MK Bug Fix - DairyData - MediPurchBeforePost - If drug selected in the medicine purchase was marked out of use then
                                                         the drug could not be found. Change made to show all drugs in HerdLookup.qDrugList
                                                         and then switch SQL back to show drugs that are in use.
             Additional Feature - uDataBackup - FormActivate - Disable Restore if Sync enabled - SP/GL request.
                                                             - FormKeyDown - Allow keyboard ctrl + r to bring up restore tabe if its disabled.
             Bug Fix - uEventsByGroup - sbSaveClick - Default IsSynchronized to False for all events.
11/09/15 /MK Additional Feature - DairyData/EventRecording/uUpdateTables - Added modified field to the events table to be used with HerdSync - SP request.
15/09/15 /MK Additional Feature - BrowseRegisterU - Increased width of AICode field in grid to allow instant view of new 6 char length.
             Bug Fix - uEvenstByGroup - sbSaveClick - Default Modified to False for all events.                                                          
16/09/15 /MK Additional Feature - DairyData - Added new class, TSessionState, to store the amount of sync data (animals, events, medicines, etc)
                                              entered and modified when the program and when the program closes.
                                - MenuUnit - Store the amount of sync data (animals, events, medicines, etc) when the program opens/closes.
                                - uHerdSync - Added new function, DBModifiedCount, to count the amount of events that have been modified.
                                              These are non HerdSync events (animals, events, medicines, etc) that are set to synchronized where they were edited.
             Bug Fix - DeleteEvent - DairyData - Was not setting IsSynchronized flag in ICBFDelete table.                                 

Version: V5.4 R8.4

01/09/15 /MK Bug Fix - uCalvingEvent - Tab sequence was not fixed up after new components were added to the form.
                                     - Took out on KeyDown to teSearchAnimalText.
                                     - Took out mdCalvingDetail.Post on actSearchForAnimal.Execute.

Version: V5.4 R7.4

13/08/15 /MK Additional Feature - uGroupSetup - Added OnKeyDown for AnimalNo field that will automatically select/deselect an animal - John Buckley request.
14/08/15 /MK Additional Feature - HealthFilterU - Added Filters for Medicine and Admin By - John Buckley/Imy Breen/Mary Whyte request.
                                - uHealth - HealthNavBeforeAction - If the animal was sold check to see if the sale date falls
                                                                    within the withdrawal period then show warning before saving event.
17/08/15 /MK Change - uLivestockSum - pREPS - Removed word "REPS" from Label1 as REPS is no longer used.
17/08/15 /MK Additional Feature - uEventsByGroup - sbSaveClick - Health/DryOff/HerdVaccination - If the animal was sold check to see if the sale date falls
                                                                 within the withdrawal period then show warning before saving event.
18/08/15 /MK Bug Fix - uEventsByGroup - sbSaveClick - Check that sale event is before EventDate. If Service Event then give Yes/No confirmation message
                                                      else give strict error and abort.
                                                    - Move validation of combo boxes after UpdateAnimals as IsValidatorSelected looks at TempAnimals table
                                                      which is not updated until after UpdateAnimals.
                                  - TempEventsValueChange - For Health, DryOff & HerdVaccination events, if the TempEvents.EventDate was changed the
                                                            withdrawal dates were not changed.
                                  - TempAnimalsValueChange - For Health, DryOff & HerdVaccination events, included if TempAnimals.EventDate changes
                                                             and TempAnimals.DrugUsed > 0 then recalculate withdrawal dates.
19/08/15 /MK Change - uHerdStatistics - Changed heading of Breeding Statistics report from Herd Statistics to Breeding Statistics.
                                      - Calving Indices section was missing from Breeding Statistics report - GL request.
24/08/15 /MK Bug Fix - uEventsByGroup - Moved check for ApplicRate, AdminBy and PrescribedBy into IsValidatorSelected as Richard Tyrell (SN:3546) reported
                                        a bug if the drug was selected in TempEvents and the ApplicRate was entered in TempAnimals the program thought the
                                        ApplicRate was not entered.
27/08/15 /MK Additional Feature - uHerdLookup - Added new property NotSexedSemenTypeID.
                                - uHerdStatistics - DoBreedingSQLs - Added new Average Services Per Cow (Sexed Semen) - John Buckley (Sn. 7149).
             Change - Services - Colour SearchForAnimal, DateOfService, PlannedBull clTeal / font white to show these are required fields - GL request.
                               - Move DateOfService after SearchForAnimal - GL request.
                               - NavBeforeAction - Don't allow service to be saved without a bull being selected - GL request.
                    - Bullings - Colour SearchForAnimal & dbDate / font white to show these are required fields - GL request.
                               - Move DateOfService after SearchForAnimal - GL request.
                    - uEventsByGroup - sbSaveClick - Don't allow service to be saved without a bull being selected - GL request.
                    - KDBRoutines - DoLactNoUpdate - Changed warning to delete zero lact events or contact Kingswood for help
                                                     and remove tech jargen about events table - GL request.
                    - MenuUnit - UpdateAnimalLactations1 - Added back in again as its easier to use then Herd Utilities - GL request.
                                                         - Changed caption to Increase Lactation Number - GL request.
                    - HealthFilterU - DrawHealthList - Only show health and farm codes within the date range selected like medicine and admin code are.

Version: V5.4 R7.3

13/08/15 /SP Bug Fix - uHerdSync - FHerdQuery , while creating the Herd Node, the call to FHerdQuery.First was missing. generally not
                                   a problem but for Jan Fredricks his NoneHerd came after his own herd in the ownerfile.

Version: V5.4 R7.2

04/08/15 /MK Additional Feature - GenTypesConst/MenuUnit - New Windows message for FarmSync date formate change (WM_KINGSWOOD_FARMSYNC_INVALID_SYSTEM_DATE_FORMAT).
06/08/15 /MK Change - uMedicineSetup - Added a new type for FilterType to allow the reports screen to pass in what report to print i.e. All, InUse or NotInUse.
             Bug Fix - uMedicineSetup - ShowTheForm - take passed in FilterType and show ComponentPrinter report based on this filter - Mary Whyte.
             Additional Feature - uReports - Added BarPopupMenu to unit for MedicineStockReport to show All, InUse or NotInUse - Mary Whyte request.
07/08/15 /MK Change - uMedicineSetup - Changed default width of Name, VPA, DoseUnit, PurchUnit & CurrentCost columns to fit on one page of print out.
                    - uICBFPCDownloadImporter - btnWeighingRecordsOnClick - Weighing events should be imported for animals that had left the herd - Ger Dineen request.
11/08/15 /MK Change - DairyData/BreedingDataHelper - GetProjCalving - Include check for post service heat - GL/Gilbert Clancy request.
                    - SetupAnimals - CurrFertCalcs - WinData.GetProjCalving was being used twice,
                                                     once to see if value is greater than zero and a second time to assign text of string field.
             Additional Feature - ActionReminderFilt - BuildDueToCalve - Add check for Post Service Heat - Gl/Gilbert Clancy request.
                                - ReportDefaults - Add default for new IncludePostServiceHeat check in DueToCalve report.
                                - DueToCalve - Added * if animal appears because of Include Cows Diagnosed Not Pregnant - GL request.
                                             - Added ** if animal appears because of Include Cows with Post Service Heat - GL request.
                                             - Added descriptive header at the top of the report to explain above statements.

Version: V5.4 R7.1

06/08/15 /MK Additional Feature - Added new fields for SlurryCustomer and SlurrySupplier to be used in fields program.

Version: V5.4 R7.0

02/06/15 /MK Additional Feature - uGlobalSettings - Added preferences for showing the group, comment & birth weight controls in the new Calvings screen - GL request.
                                - uPreferences - Added constants for showing the group, comment & birth weight controls in the new Calvings screen - GL request.
11/06/15 /MK Change - MenuUnit - Changed uCalvings.ShowCalvings in ShowCalvingEvent for Irish herds to new uCalvingEvent form.
                               - Changed uCalvings.ShowCalvings in EventGridAnimalEventsViewDblClick for Irish herds to new uCalvingEvent form.
14/07/15 /MK Change - uEventFilter - EventGridTableViewDblClick - If country is Ireland then show new calving event screen.

Version: V5.4 R5.9

21/05/15 /MK Additional Feature - uRemittance - Added Ashbourne to pmRemitMarts list - email address from emails in Anne Ryan's Gmail inbox.
                                - uRemittanceMarts - Added Ashbourne to cmbMartNames.
                                - DaZMisc - Added Ashbourne to iRemittanceMarts.
26/05/15 /MK Bug Fix - TfmNutrientProductionProjectionRptScr - FormActive - ComboHerd.Value was being assigned before ComboHerd.LookupSource was assigned
                                                                            resulting in no default value appearing in the ComboHerd.
02/06/15 /MK Additional Feature - uGlobalSettings - Added preferences for showing the group, comment & birth weight controls in the new Calvings screen - GL request.
                                - uPreferences - Added constants for showing the group, comment & birth weight controls in the new Calvings screen - GL request.
03/06/15 /MK Additional Feature - FertAnalysisRpt - Added WinData.BreedingingDataHelper to the report to make it quicker to run.
                                                  - GetServiceInfo - Added GetServiceBull_WithEventID_BySQL sub function to make the report quicker.
                                                                   - Added ServBullGestPeriod variable to store the gestation period of the service bull instead of the default 283.
                                                  - GetAnimals - Show error message if no data to view on the report.
                        Change - FertAnalysisRpt - GetCalfSex - Use Calvings.DeadCalf1-4 instead of Animals.InHerd boolean when showing dead calves lower case calf sex.
                        Bug Fix - FertAnalysisRpt - GetCalfSex - Program was incorrectly assigning Calv1 instead of Calv2, 3 or 4 so twins, triplets or quads were not showing on the report.
                                                  - QRDBText3OnPrint & QRDBText8OnPrint - If zero date in database i.e. "30/12/1899", show empty string.

Version: V5.4 R5.8

13/05/15 /MK Bug Fix - ICBFPCDownload - OnCreate - Fix an invalid character at the end of the ICBF file i.e. after EOF line.

Version: V5.4 R5.7

12/05/15 /MK Additional Feature - Splash - FormCreate - Give error if no database found.
13/05/15 /MK Change - uElecWeight - OpenLink - Get path to look up file from Preferences.ValueAsString[cGSElectronicWeighingProducerPath].

Version: V5.4 R5.6

11/05/15 /MK Bug Fix - uDuplicateAnimals - FormCreate code moved to FormActivate as FTargetAnimals was not assiged yet.
                                           FTargetAnimals tells the form when to show PopupMenu1 for right-click on grid.
                     - uMartImportByFile - ImportFromXML - Check if file contains strings with '&' (ampersand symbol) and fix the string to contain '&amp:' string instead.
                                                         - Set new string variable to source name first as "Access Violation" appears if "_" symbol found in XMLDOMNode.Text.
             Change - MenuUnit - UpdateLactations1 removed as HerdUtilities option works best - GL request.
             Additional Feature - New utility unit uChangeCustomerSupplierNames to allow user to change Customer/Supplier names if correct system password entered.
                                  If user does change the name then the customer program will store the date and time that the name was changed.
                                - uUpdateTables - UpdateCustomers/UpdateSuppliersBreeders
                                                  - Added new field to store change of name from new uChangeCustomerSupplierNames unit.
                                - HerdPassword - Added new TPasswordAction for UpdateCustomerSupplierNames.                                                  
12/05/15 /MK Additional Feature - uMartImportByFile - ImportFromXML - If the file is a sale file then allow for blank sex, breed and dob on the file.
                                                                    - If the file is a purchase file then show the appropriate field error and exit sequence.

Version: V5.4 R5.5

07/05/15 /MK Change - uFeedAllocEdit - Change Amount/Price to Qty/Cost - GL/L.Clerkin request.
                    - uFeedAllocEdit - Removed LactNo field - not useful for targeted clients - GL/L.Clerkin request.
             Additional Feature - uFeedAllocEdit - Added calculated field for NoDays - GL/L.Clerkin request.
                                - uFeedEventFilter - Added calculated field for NoDays to FeedEventsQuery and Grid.
                                                   - Added Average footer for Cost/Day and Total footer for NoDays.
08/05/15 /MK Bug Fix - uCAFREFertListData - PreviewListData - FreeAndNil WinData.FreeBreedingDataHelper as it TBreedingData uses TBreedingDataHelper aswell - GL/P.Geraghty report.
             Additional Feature - SetupAnimals - Added EndDate and NoDays - GL/L.Clerkin request.
                                - MenuUnit - EventGridFeedEventsView - Added EndDate and NoDays - GL/L.Clerkin request.
                                - KRoutines - Added new function for IsValidIrishHerdID.
                                - uCustomers - DBNavigatorBeforeAction - Check if customer BTENumber is valid irish herd number i.e length is 8 - GL/TOK request.

Version: V5.4 R5.4

07/05/15 /MK Additional Feature - uEventsByGroup - ValidateMultiDrugGridInput - Check MediPurch quantity of each drug in MultiDrug grid.
             Bug Fix - uEventsByGroup - pVaccDisease - Set to show on top as it was sent to back in previous version.

Version: V5.4 R5.3

30/04/15 /MK Additional Feature - HealthFilterU - sbViewClick - Show warning screen before VetRegister is printed for Irish herds if drugs that were treated do no have type specified.
             Change - uHerdSync - CreateHealthEvents - DrugPurchID = 0, don't create shell of drug purchase - GL/SP request.
                    - uEventsByGroup - pgEventsChange - Applic Method should be after FarmCode like singe treatment screen.
                                     - sbSaveClick - Health/DryOff/Vaccine - Added same validation to MultiDrug as SingleDrug when saving events.
             Bug Fix - uEventsByGroup - TempAnimals.DrugBatchNo.PickList/MultiDrugGridDBTableViewDrugBatchNo - Check if BatchNo/DrugPurchID Index already added and don't add again.

Version: V5.4 R5.2/4.1

28/04/15 /MK Change - uGroupSetup - NoInGroupAfterScroll - Changed GroupCount to TEdit instead DBEdit. Set Text of TEdit to WinData.NoInGroup - L.Clerkin.

Version: V5.4 R5.1/4.0

22/04/15 /MK Change - uAPHISWSCredentials - FormCreate - Default CustomerID MaxLength to 12 - TGM request.
23/04/15 /MK Change - uHealth - dbHealthBatchNoPropertiesCloseUp - Added BatchNo to DrugBatchQtyRemaining for checking of total of all purchases for this BatchNo.
                    - DairyData - UpdateMediPurchQty - WinData - Change made to this logic to update more than one purchase of the same batchno.
                                - CheckDrugBatchQtyRemaining - Only give warning if QtyRemaining is less than zero not less than or equal to zero - SP/GL request.
                    - uCalvingsFix - Delete a second calving event for the same cow with the same calf.
24/04/15 /MK Bug Fix - uHeatServiceScr - Changes to Detail.Height and TQRDBText.Height/Top/Left to fit properly on Excel file - Ed Dale reported.
                     - uMediPurch - If MediPurch state is in Insert/Edit then MediPurch.Cancel as an error was appearing in another screen to select a Supplier.
                     - uEventsByGroup - Removed check for WinData.CheckDrugBatchQtyRemaining on TempAnimalsAfterPost and move it to TempAnimalsSelectedChange.
27/04/15 /MK Change - uEventsByGroup - sbSaveClick - Added check for drug purchase quantity before events are saved instead of when animals are selected
                                                     or when the batch number is selected - SP request.
27/04/15 /MK Change - uDanRyanImport - DecipherEventCode - Allow for mistake by Dan Ryan recorder where animal is recorded twice with PD
                                                           First instance can have 0 days and the second instance has the correct amount of days - GL/D.Frawley.
                                                         - If FDaysInCalf = 0 then get DaysInCalf from last saved PD event - GL/D.Frawley.
                                                         - If no last saved PD event then get DaysInCalf from the difference between the new PDEvent and the last service date - GL/D.Frawley.
Version: V5.4 R5.0/3.9

22/04/15 /MK Bug Fix - MenuUnit - ShowCalfReg - Check for SireBreedDifferToCalfBreed should be after CalvesWithNoSires.
                     - uStartupReminders - ShowReminder - Only check for SireBreedDifferToCalfBreed should be after CalvesWithNoSires.
             Change - uCalvesWithNoSires - Added descriptive text to the screen to explain to the user what to do.        

Version: V5.4 R4.9

21/04/15 /MK Additional Feature - uUpdateTables - Create new MartEmailSuppliers TTable.
                                - uMartEmailRequest - Added facility to save email addresses entered by user to TTable
                                                      and load these into MDataSet after Form is created.

Version: V5.4 R4.8

16/04/15 /MK Bug Fix - MenuUnit - SetGridStyles - BeefBull - Was using bold boolean of Beef Bull Between.
                                                - Steer - Was using bold boolean of Beef Bull instead of Steer.
          Additional Feature - uWeighingFilt - WeightGainDetailBandBeforePrint - Apply main grid colour settings to weight gain report - William Hutchinson request.

Version: V5.4 R3.8

15/04/15 /MK Bug Fix - uVaccineDueOn - QueryData - Allowed breakdown by the days/weeks to remind - DOM reported.
                                     - actCreateEvents - Show message based on selected records on the grid and not the total records in the grid - DOM reported.
                     - uKingsCC - Kcc - If Copy Protection Error #6 don't delete reg key, instead set key to null - GL/SP request.

Version: V5.4 R3.7

09/04/15 /MK Additional Feature - New unit, uDownloadExternalProgram, created to download files from Kingswood site.
             Change - uCallToExternalProgram - CallTeamViewer - If TeamViewer does not exist then download/run via uDownloadExternalProgram.
10/04/15 /MK Change - MenuUnit, uMediPurch, uICBFPCDownloadImporter - CheckAttachments - Show message from KingswoodMailbox instead of showing WinHerd message.

Version: V5.4 R3.6

08/04/15 /MK Additional Feature - uMedicineSetup - Add drop-down-list to Print Medicine List button. List appears if no filter applied to grid already - TOK request.
08/04/15 /MK Bug Fix - DairyData - EventsAfterPost - Old variable, CurAnimalID, was used instead of WinData.AnimalFileByIDID.AsInteger.
                                                     Weirdly CurAnimalID was set as WinData.AnimalFileByIDHerdID.AsInteger.
                                                     CurAnimalID was only used in SetIsSynchroizedFlag so CurAnimalID has now been removed.

Version: V5.4 R3.5/2.4

30/03/15 /MK Additional Feature - uHerdSync - Added SP's changes for Locate Animal and my own changes to update medicines for new
                                              Kingswood Mobile version that SP wants to release.
31/03/15 /MK Change - uMedicinePurchaseRepository - UpdateMedicineStock - If no purch unit for medicine then set multiplier to 1.
01/04/15 /MK Bug Fix - uCalvingHistoryEntry - CalvingLactNo - Changed logic below to allow users to add calvings for cows with no calvings.
                     - uLactationConsistencyChecker - actCreateCalving - AnimalID and LactNo were not being set properly.
02/04/15 /MK Bug Fix - MenuUnit - ShowCalfReg - Only check for SireBreedDifferToCalfBreed for Irish herds as APHIS/CTS send calf breed.
                     - uStartupReminders - ShowReminder - Only check for SireBreedDifferToCalfBreed for Irish herds as APHIS/CTS send calf breed.

Version: V5.4 R3.5/2.1

25/03/15 /MK Bug Fix - uSireBreedDifferToCalfBreed - CheckAnimals - Going through loop without next.
27/03/15 /MK Bug Fix - uMediPurch - Constant added to Execute to allow Medicine Setup button not to be shown if coming from Medicine Setup screen - TOK request.
                     - uMedicineSetup - Constant added to ShowTheForm to allow Vet Purchase button not to be shown if coming from Vet Purchase screen - TOK request.

Version: V5.4 R3.4

16/03/15 /MK Change - uUpdateTables - Reorganised list in alphabetical order for alignment with ICBF emailed list.
                                    - New code added from ICBF health code list from Kevin Downing.
                                    - ICBF have done away with respiratory disease so delete it.
20/03/15 /MK Additional Feature - EventRecording - THealthEvent - Update Medicine and Medicine Purchase stock quantities.
                                - uMedicineRepository - New procedure UpdateMedicineStock created to update quantity and new price of medicine.
                                - uHerdSync - CreateMedicinePurchases - Update medicine quantity and stock.
             Bug Fix - uNewUIHealthEvent - SaveEvent - Using THealthEvent.Quantity instead of THealthEvent.ApplicRate to store ApplicRate.
             Change - uDrugsRegisterImport - UpdateMedicineCost - Bit of refactoring here. Replaced code with new MedicineRepository.UpdateMedicineStock.
                    - uAIMAnimalMovements- RecordMovementsOff/GetAnimal - Check if animal is in the database, is not in the herd
                                                                          and has same purchase date as new purchase date coming from AIM - GL/Joe Leyden.
23/03/15 /MK Change - uMedicineSetUp - DBNavigatorBeforeAction - Only give below error messages if medicine is in use - GL/TOK request.
                    - uMediPurch - FormActivate - Switch HerdLookup.dsDrugList to new historical drugs i.e. active/non active drugs - GL/TOK request.
             Additional Feature - uHerdLookup - New query, qHistDrugList to show all drugs regardless of whether they are active or not.
                                - uHealth - HealthNavBeforeAction - If drug selected and no administered or prescribed by then don't allow event to be saved - GL/TOK request.
                                - uEventsByGroup - sbSaveClick - Don't allow user to save treatment if drug entered and no admin/prescribed by - GL/TOK request.
24/03/15 /MK Additional Feature - uMediPurch - Added button to Add Vet Purchase - GL/TOK request.
             Change - uHealth - Changed AdminBy to RXDBLookupCombo for better checking of no admin by selected.
24/03/15 /MK Bug Fix - uSireBreedDifferToCalfBreed - Change of lInfo "inconsistent to" changed to "inconsistent with" - GL request. 

Version: V5.4 R3.3/R1.9

11/03/15 /MK Additional Feature - uSireBreedDifferToCalfBreed - Should be checking for English herd registered flag i.e. CTSReg not Notified.

Version: V5.4 R3.2

10/03/15 /MK Additional Feature - DairyData - ActiveParlourLinkEvents - New public function to check if ParlourEvents files exists.
                                - MenuUnit - New action, actImportParlourData, and new MenuItem added to pmImportOptions added to import Parlour Data - Johnny O'Hanlon.
                                           - Only show new Parlour Import option if Parlour def found.
                                - uCreateEvents - Changes made to ProcessServices to add ServiceBull from ParlourLink file.
                                                - AddBullIDFromSireRegister - New function to get ParlourLink ServiceBull from Sires.db if it exists
                                                                              in Sires.db else add it as FR bull to NoneHerd.
                                                - GetBullByTagNo - New function to get bullid for bull if whole tag number supplied from ParlourEvents.
                                                - ActivateBullInUse - Activate bull in use if coming from ParlourEvents so bull exits in service event created.
                                                - Overall changes made to this unit to use the same logic of PDAEventsImport in ParlourEventsImport - Johnny O'Hanlon.
             Change - GenTypesConst - TServiceRecord - Don't restrict ServiceBull to 10 characters instead strip BullNumber to 10 if greater than 10.
                    - MenuUnit - FormActivate - Don't import ParlourEvents on opening of the program now that Import option available.
                    - uCalvings - ShowCalvings - If ParlourLinkEvents file found then blank calving is passed in so default NatIDMask to HerdIdentifier.
                    - uPhoneLinkEventsReview - ReviewEvent - if EventType = cCalvingEvent and ParlourLinkEvent then only pass in the EventDate into WinData.CalvingRecords.
                                             - EventTabsChange - CalvingEvent - Sort by EventDate.
11/03/15 /MK Additional Feature - MenuUnit - Added Timer to check for ParlourEvents file every 30 seconds.

Version: V5.4 R3.1/R1.8

06/03/15 /MK Bug Fix - uCreateEvents - ProcessServices, ProcessBullings - Was not checking if event date already existed - Johnny O'Hanlon.
                     - uPhoneLinkEventsReview - Changed code to check to see if Purchase event exists.
                     - uSireBreedDifferToCalfBreed - Take check out for in use breeds.

Version: V5.4 R3.0/R1.7

01/03/15 /MK Change - uICBFPCDownloadImporter - btnServiceDataClick - Bring in SireBreed of Service Sire from ICBF file.
04/03/15 /MK Additional Feature - uSireBreedDifferToCalfBreed - New unit added.
04/03/15 /MK Additional Feature - MenuUnit - ShowCalfReg - Check if there are calves that sires with different breed code to calves.
                                           - Moved check for missing sire codes and different sire breeds to before where ShowCalfReg is called.
04/03/15 /MK Bug Fix - uMediPurch - dbnMediPurchaseBeforeAction - Only update medicine quantity if inserting new record not editing.
                     - DairyData - MediPurchBeforeDelete - Using wrong quantity of drug.

Version: V5.4 R2.9

03/03/15 /MK Bug Fix - uCalvingsFix - IsEventToDeleteFromCalvings - When checking for null fields use "or" instead of "and"

Version: V5.4 R2.8

03/03/15 /MK Additional Feature - MenuUnit - FormActivate - Check if bulls have calving events.
                                           - ShowCalfReg - Run fix for duplicate calvings.

Version: V5.4 R2.7

25/02/15 /MK Bug Fix - uKImport - FormActivate - Delphi lost the lookup sources for these components.

Version: V5.4 R2.6

23/01/15 /MK Bug Fix - uAIMAnimalMovements - RecordMovementsOn - DOB can be blank if Dept don't know it - John Kearns(7611).
             Change - uAIMAnimalMovements - If animal has an active temporary movement then don't import sale.
27/01/15 /MK Change - uKImport - CreateShowForm - Added new field to show animals that are StillOffFarm by Temp Movement.
                               - LoadExportData - Set StillOffFarm by active tempmovement event of animals in grid.
                               - btnCreateSalesClick - Check to see if any animals have are StillOffFarm.
28/01/15 /MK Bug Fix - KDBRoutines - GetPreSaleStatusInfo - Exclude N_A withdrawals for max withdrawal days - Anne Ryan reported.
29/01/15 /MK Bug Fix - uTreatmentSummary - actApplyExecute - If user passed in a blank date from or date to the program was give a "Type Mismatch" error.
02/02/15 /MK Additional Feature - uUpdateTables - UpdateCustomers - New NI disposal place for ROUTE HUNT FALLEN STOCK LTD - TGM request.
04/02/15 /MK Additional Feature - uMartImportByFile - FMartTable - New boolean field for StillOffFarm added.
                                                    - PostSales - Check to see if animals have active tempoary movements and don't sell them.
06/02/15 /MK Change - uRemittance - CarcaseExists - Added check to see if animal has an active temp movement.
                    - DaZMisc - CarcaseExists - Added check to see if animal has an active temp movement.
09/02/15 /MK Change - uMedicineSetup - Removed Navigator for Grid and changed to RXButton components with Actions to move through grid properly - TOK & GL request. 
                    - DairyData - MediPurchBeforeDelete - Change of text to further explain to user why MediPurch cannot be deleted - TOK/GL.
             Bug Fix - uMediPurch - Execute - No need to enable/disable AutoSize as this was causing the screen not to maximise - TOK/GL.
10/02/15 /MK Change - uEventsByGroup - pgEventsChange - Changed term of Multi-Treatment - GL/TOK request.
13/02/15 /MK Change - MenuUnit - ShowParlourLinkScreen - Added DelPro as a parlour type.
13/02/15 /MK Bug Fix - MenuUnit - FormCreate - DataSource lost by Delphi problem for FeedEvents.
19/02/15 /MK Bug Fix - uCalvings - CalfDeadPropertiesChange - Only move to rbFullTerm if Inserting record - rbFullTermClick is also inserting a record.
             Change - uNutrientProductionProjectionRptScr - Exclude animals that have had a temporary move off holding on/after ADate or move back on holding after ADate.
19/02/15 /MK Change - DairyData - Default ShowBlockTempMovements on.

Version: V5.4 R1.6

19/02/15 - MK - incorporated all changes from V5.4R1.4 release version into V5.4R1.5 test version
                and created this version so that new V5.4R2.6 version with TempMovement changes can be uploaded as new test version.

Version: V5.4 R1.5

13/01/15 /MK Additional Feature - uDrugsRegisterImport - After file is imported, before Run, highlight in blue medicines that don't already
                                                         exist in medicine table. Also show message to explain this to the user.
21/01/15 /MK Additional Feature - uDrugRegisterImportWithdrawal - Allow an Existing Drug for a VPA Number that doesn't exist in the Medicine database
                                                                  but the name of the drug exists in the Medicine database.
             Change - uDrugRegisterImportWithdrawal - Changed lInfo1 caption for better understanding of the new update features in this unit.

Version: V5.4 R1.0

22/01/15 /MK Bug Fix - HealthFilterU - sbViewClick - Make sure that ExpiryDate is not Null. Null ExpiryDate caused "Invalid Variant Type" error.

Version: V5.4 R0.9

21/01/15 /MK Bug Fix - ActionReminderFilt - bCartAnimalsClick - Free and Nil here as well after report is viewed.

Version: V5.4 R0.8

20/01/15 /MK Bug Fix - uHealth - FindExpiryDate - If user enters in a BatchNo manually, then enters in a Veterinary Purchase for this BatchNo
                                                  and edits the health event for this BatchNo the system should set the DrugPurchID of the purchase.
20/01/15 /MK Bug Fix - HealthFilterU - sbViewClick - If user deletes a DrugPurchID from the MediPur table the deleted ID still exists in the
                                                     health table. If the user then enters in a new record for this batchno in the MediPur table
                                                     the program should be able to allocate this new purchase to the existing batchno in the Health table.

Version: V5.4 R0.7

20/01/15 /MK Bug Fix - HealthFilterU - sbViewClick - If user entered in BatchNo manually but BatchNo was added to the database already
                                                     search for this BatchNo and allocate the ExpiryDate for this BatchNo.

Version: V5.4 R0.6

15/01/15 /MK Change - uElecWeigh - ReadCSVFile - EziWeigh user can also enter in the tag number in the AnimalNo field
                                                 Set NatIDNum to AnimalNo field for searching - Eamon Kennedy/GL request.
16/01/15 /MK Bug Fix - uEventsByGroup - TempMovementSetup - Assign LookupSource in code as component property lost by Delphi crash
             Change - uElecWeigh - Updated LocateAnimal to find animal by part of NatID.
                                 - ReadCSVFile - Changed Gallaghers params to that of new CSV file - Anne-Marie Delaney/GL request.

Version: V5.4 R0.5

07/01/15 /MK Bug Fix - uReports - Drop-Down-Button click for CowRec and Beef Man was setting tag of Herd Report Generator when it didn't
                                  need to as component properties were already set to the right tag. Left over from bug fix testing.
                                  Caused Herd Report Generator to appear in CowRec menu as well as DamCalfRepGen - GL reported.  
                     - DairyData - CalcDrugCost/CalcCostAndQtyUsed - If no Dose or Purchase Unit has a null/zero multiplier then set unit to 1 - Milo Reported.

Version: V5.4 R0.4

12/12/14 /MK Additional Feature - uUpdateTables - Two new fields added to DrugsRegImportDetail for Category/Group facility.
                                - uDrugsRegisterImport - Added drop-down-menu button to AnimalNo's grid line to allow user to select Current Herd,
                                                         a category or group of animals.
17/12/14 /MK Change - uDrugRegImportWithdrawal - Changed FormCaption, form size and parent font size.
                                               - Added descriptive text to screen.
          Additional Feature - uDrugsRegisterImport - Added Review Medicine button and drop-down-options to toolbar - GL request.
18/12/14 /MK Change - MenuUnit - actVetLinkAttachExecute - If no files found then allow user into view VetLink screen for Review Medicine purposes - GL request.
                    - uFarmSyncSettings - Default Send/Receive TimeOut to 5 - SP Request.
                    - DairyData - CalcDrugCost/CalcCostAndQtyUsed - If no Dose or Purchase Unit then default Multiplier to 1 for both - Andrew Dineen/GL request.
                                - CheckDrugBatchQtyRemaining - Default Dose or Purchase Unit to 1 - Andrew Dineen/GL request.
             Bug Fix - uMeidicineSetup - MedicineGridDBTableViewFocusedRecordChanged - Start lUnitCode&lUnitCode2 at null so medicines with no units appear as blank.
             Additional Feature - uMedicineSetup - DBNavigatorBeforeAction - If user is editing the Medicine and sets the quantity to zero/null
                                                                             and drug purchases exists for this medicine then zero/null drug purchase
                                                                             quantity remaining - GL/Andrew Dineen request.

Version: V5.4 R0.3

04/12/14 /MK Additional Feature - DairyData - Added AAAScores1,2&3 fields to the CowExt table - Philip Cusack/GL Request.
                                            - AddToEventLookupData, RemoveFromEventLookupData - Added Pregnant check from PDEvent.
                                - uUpdateTables - UpdateCowExt - Added AAAScores1,2&3 fields to the CowExt table - Philip Cusack/GL Request.
                                                - UpdateCustomers - New NI disposal place for Enviro-Care Ltd - TGM request.
                                - SetUpAnimals - Added AAAScores1,2&3 fields to the Pedigree tab - Philip Cusack/GL Request.
                                - MenuUnit - Added Pregnant column to grid - Declan Flynn/GL request.
                                - PregDiag - Set WinData.FPregStatusChanged boolean depending on whether the pregnant check
                                             box is ticked or unticked or whether event was deleted or not.

Version: V5.4 R0.2

01/12/14 /MK Additional Feature - SetupAnimals - SetGridFooters - Added Footers for Solids and SCC - Brendan Meade request.
                                - uUpdateTables - UpdateFilterdb - Add new fields (DaysOnFarmFilterSelected, DaysOnFarmFrom, DaysOnFarmTo) for filter of DaysOnFarm.
02/12/14 /MK Additional Feature - uFilters - Added filter by Days On Farm for Beef herds only - GL/Rodney Wilton request.
                                           - Do not allow Days On Farm filter if All Animals or Sales filter selected.
                                - MenuUnit - SetupQuery, IsFilterFormActive - Check for new fFilter.DaysOnFarmSQL.
02/12/14 /MK Bug Fix - uHealth - dbHealthBatchNoPropertiesEditValueChanged, dbHealthBatchNoExit - Added FindExpiryDate to these procedures
                                 so that on Edit the Expiry Date shows - reported by GL/Anne Cash.

Version: V5.4 R0.1

26/11/14 /MK Bug Fix - SetupAnimals - Default DOB.ReadOnly to False. DOB.ReadOnly = True where the user is editing the animal and
                                      the animal was not added to the herd from a cow calving event.
                     - uReports - CattleMarginsReportMenu was not finished i.e. the down-arrow-button was never added.
                                - nbCattleMargins.Hint was not set to Beef Management so clicking on down-arrow was not setting Caption.
                                - Discrepancy between items in CowRecordingReportMenu and nbgCowRecordingControl items.
                                - actFertilityTreatmentChart.Tag was not set to nbgBreedFertqBreedFertControl.Tag. 
              Change - uReports - moved Herd Report Generator to Herd Reports from Cow Recording - GL Request.
                     - uFeedPurch - Changed old RX FeedType component to new CX component to allow drop-down-list to be sizeable - TOK/GL Request.
                                    With this new component user cannot click the add button within the drop-down-list for Feed Type
                                    but instead click the Feed Types button at the top of the Feed Purchase screen.
27/11/14 /MK Change - uCallToExternalProgram - CallTeamViewer - As TeamViewer now downloads TeamViewer10, we only have license of TeamViewer9.
                                               Link changed to download TeamViewer9Setup from kingswoodcomputing.com site.
             Bug Fix - uEventsByGroup - sbSaveClick - Better checking for drugs selected without an ApplicRate.

Version: V5.4 R0.0

25/11/14 /MK Additional Feature - uFilters - Added Vaccination Filter.
                                - UpdateFilterdb - uUpdateFilters - Added Vaccination field to Flt table.
             Change - ActionReminderFilt - FormShow - Free WinData.FBreedingDataHelper on FormShow as on some systems
                                                      BreedingDataHelper.TempCalving was still in use - Requested by Roger Barclay.
                    - MenuUnit - Added Reverse Filter option to pmFilterMenu if WinData.ActiveFilter.
24/11/14 /MK Change - uRedTractorTreatSum - Changed No. Treatments to No. Cases for Irish herds - GL Request.

Version: V5.3 R9.3

12/12/14 /MK Additional Feature - uDairyHerdHealthCert - Only show animals that are breeding - GL/Liam Phelan(2158) request.
             Change - MedicalPurchases - Changed Quantity to Quantity Purchased - GL/Andrew Dineen request.   

Version: V5.3 R9.2

09/12/14 /MK Bug Fix - DairyData - CheckFiles - OpenICBFScreen - UserDefaultHerdID could not be found.

Version: V5.3 R9.1

06/12/14 /MK Bug Fix - DairyData - CheckFiles - Only set ICBF events to not notifed if HerdIdenifier exists - GL/Lorraine Carroll request.
             Change - uICBFEventExport - CheckHerdIdentifier - Changed Identifier in messages to Designator.

Version: V5.3 R9.0

24/11/14 /MK Additional Feature - uRemittance - Changed AIBP drop-down caption to ABP - GL Request.
                                              - Change of email address for ABP - GL Request.
             Change - uKImport - WriteEvents - Purchase - When creating events check to see if event already exists.
                                                        - AnimalFileByID.BeforePost creates events for the animal that are in the database before
                                                          the animal was sold to the herd that its coming from.

Version: V5.3 R8.9

07/11/14 /MK Bug Fix - StockInHerdFilt - pPurchSales - Default from BordBia to Deaths - With change to items in rgInclude (above) this was never changed - DOM.
13/11/14 /MK Bug Fix - StockInHerdFilt - ViewBtnClick - Purchase NOT Sold initial query was adding purchase date as the date of birth.
                                                      - ToPurchDate can be null so check for null sales dates depending on From/To Date Filters.
                                                      - SaleDate can be null so check for null sales dates depending on From/To Date Filters.
             Additional Feature - New Unit - uMovementDataHelper - created to split purchases and sales event details into separate temp tables.
                                - DairyData - New Function & variable for FMovementDataHelper created.
                                - StockInHerdFilt - ViewBtnClick - New function created to add sql text whether WhereIn is True or False.
                                                                 - If Purchased AND Sold then delete animals that died.
                                                  - LoadPurchSaleDeathData - Looking at new uMovementDataHelper.Sales/Purchase TempTables instead of WinData.CheckEvents
                                                                             to make this procedure quicker.
                                - uUpdateTables - Added new TreatmentSaved field to the DrugsRegImportDetail table.
             Change - StockInHerdFilt - LoadPurchSaleDeathData - If not purchase/sale date found then PurchDate/SalesDate in TempTable should be null.
                    - uEmailClient - Change of caption in one item rgEmailClient from Windows Live / Hotmail / Gmail to Gmail / Hotmail / Windows Live - GL Request.
14/11/14 /MK Change - uDrugRegImportWithdrawal - Changed Cancel to Resume Later - GL/SP Request.   
                    - uVetLinkDrugSelect - FormCreate - Only show drugs that were added and purchased.
                    - uDrugsRegisterImport - Made screen maximised to start - SP request.
                                           - Added FullyImported field to header table that stores whether the whole file was saved.
                                             If the whole file is saved then mark the file as read otherwise don't.
                                           - If user clicks Resume Later in uDrugRegImportWithdrawal then show user what medicines have been purchase
                                             before resume was clicked. This will allow the user to save treatments for this list.
             Bug Fix - uDrugsRegisterImport - Program was saving a new header for files that had already been imported. New function that is ran
                                              on ImportFile to delete these duplications and amend the DrugRegImportDetails table with the
                                              single HeaderID that remains in the header table.
18/11/14 /MK Change - uAPHISRegistration - LoadAnimals/BirthTable/DamNatID - If dam tag is not UK9 and its not IE then tag should be stripped of spaces
                                                                             and then a space should be inserted before the last 6 digits - GM/TGM request.
             Bug Fix - uIndexes - Index being added for both ID and GroupType field where index should be just on ID field. Caused issues with update SQL.
                     - DairyData - If VerNo < 8389 then reindex tables to remove GroupType index in Groups table.
20/11/14 /MK Change - uDrugRegImportWithdrawal - Changed Skip to Ignore to imply to the user that the program is going to ignore this record
                                                 instead of skipping over the record to come back to it later - GL/SP Request.

Version: V5.3 R8.8

30/10/14 /MK Change - uHerdStatistics - GetNumNonReturnRates - qAnimals - Only look for service events, bulling events shouldn't matter here - GL request.
                                                             - Of the qAnimals found look for the technician(s) used in the service events within this period.
                                                             - If percentage not available for heifers and cow percentage is n/a then heifers should also be n/a.
                                                             - If percentage not available for heifers and cow percentage > 0 then heifers should be 0.
             Additional Feature - MenuUnit - Added popup menu, pmVetStats, to show both Health Code Summary (Red Tractor) and Treatment Summary (Bord Bia) screens - GL request.
                                - PregDiag - dbceDaysInCalfPropertiesChange - If Scanning DIC (Days In Calf) is greater than Service DIC by 21 days or more then show warning below.
30/10/14 /MK Bug Fix - uAWEventsByGroup - ICBFCalfSurvey - Calf must be 5 months old not 20 weeks - GL request - Albert Bailey problem.
             Change - uAWEventsByGroup - ValidateICBFCalfSurveyEvents - Changed warning to that of ICBF spec sheet "5 months old or older" instead of "at least 5 months old".
31/10/14 /MK Change - uTreatmentSummary - Changed lInfo.Caption as requested by GL.
                                        - Removed Treatment Date Range label as requested by GL.
                    - uRedTractorTreatSum - Changed lInfo.Caption - GL Request.
                                          - Removed Treatment Date Range label - GL Request.
                                          - Changed main caption to Health Code Summary for all countries - GL Request.
04/11/14 /MK Change - uMilkRec - GetOwnerData - Load File into string list first to save file with line breaks.
             Bug Fix - uICBFPCDownloadImporter - GetICBFFile - Showing confirmation message when none required for new Links approach.
                     - uCalvesWithNoSires - CreateDummyBullRecord - Set Record to zero before setting Result. Result BullID was large int from Delphi defaults.
06/11/14 /MK Change - uHerdSync - Main Calving Query - Use LEFT JOIN instead of INNER JOIN for GB customers that don't record Birth Type - SP/GL/TGM request.
                    - MenuUnit - FormActivate - If ICBF events have been reset to be resent then show ICBF screen.
                    - uICBFEventExport - FormActivate - Show user urgent warning if events have been reset to be resent - don't auto resend - GL request.
             Additional Feature - DairyData - Function added to set all ICBF events to not notified to fix file length problem from previous versions.

Version: V5.3 R8.7

29/10/14 /MK Bug Fix - uSalesReport - SQL to get data from events table updated to now look at two temp tables for Sales and Purchases from the Events table.
                     - uICBFEventExport - Since change to weight decimals (above), other events (Service & Other) were not given the right length in the file.
             Change - uHerdStatistics - If no data found for Conception Rates Perc then default label to n/a - GL request.

Version: V5.3 R8.6

16/10/14 /MK Bug Fix - MenuUnit - SearchForAnimal - Not allowing search if Name search selected. 3 excluded from array. Was 0 & 4. Bug added when Transponder No search added.
17/10/14 /MK Bug Fix - ActionReminderFlt - Code left over when testing the fix to uBreedingDataHelper. WinData.CheckEvents still remained in BuildDueToCalve.
21/10/14 /MK Change - uDeptLinkAdvert - Changed text as requested by GL.
                    - uFertIndicesRpt - Moved 6 week calving percentage before Breeding Started Date - GL request.
             Bug Fix - MenuUnit - SetupForm - DaysToFQAS/PurchFQAS were not taking visible status from GridCols file.
22/10/14 /MK Bug Fix - uDrugsRegisterImport - actRunExecute - Don't ever match by name just VPA No - SP request.
                     - DairyData - DeleteEvent - CICBFCalfSurveyEvent not in EventType list.
                                               - CICBFStockBullEvent not included in tables to be deleted from.
23/10/14 /MK Change - BullReportsFilt - New logic applied to get conception rates based on pregnancy diag event of cows found.
24/10/14 /MK Change - BullReport - Changed caption from "Cows Served" to "Cows in calf to Bull" in Current Lactation
                                 - Changed caption from "Calvings" to "Calvings due to Bull" in Completed Lactations.
                                 - Moved Semen Stock and Price/Straw closer to Last Used for better reading - GL request.
                                 - Round conception percentages - Gl request.
                    - uFertIndicesRpt - Round 6 week calving percentage - GL Request.

Version: V5.3 R8.5

16/10/14 /MK Bug Fix - DairyData - OkToConvertToEuro - Removed check to update SubsidyPayments table as this table doesn't exist in the database anymore.
             Additional Feature - uFertIndicesRpt - Added percentage of first 6 weeks calvings to report - Donal Kiely.
20/10/14 /MK Additional Feature - uWeighingFlt - Added Age In Days instead of Date of Birth depending on cbShowAgeInDays.Checked in Weight Gain report - William Hutchinson.

Version: V5.3 R7.5

14/10/14 /MK Bug Fix - uBreedingDataHelper - No index added to new separate check event tables (Calvings, Service, etc).
                                             Index added for EventDate like WinData.CheckEvents.
                     - uRedTractorTreatSum - Wrong field for reason being used, was HealthCode but should have been FarmCode.
             Additional Feature - uHerdSync - Added new function, GetTotNumberOfEvents, to get total of Herd data for Sync.
                                - MenuUnit - If FarmSyncConfigured then on OnFormActivate calculate total number of Herd data for sync
                                             and store in WinData.FTotHerdDataRecs. OnFormClose then if stored number of Herd data
                                             in WinData.FTotHerdDataRecs is greater than number of Herd data before FormClose then do AutoBackup.
                                - DairyData - OnDestroy - Only allow sync if FarmSync events on exit of herd is greater than FarmSync events calculated on entry to program.

Version: V5.3 R7.4

19/09/14 /MK Additional Feature - uDrugsRegisterImport - Capability added to store all records into new table DrugsRegImportDetail.
                                                         Also saved file that was saved to DrugsRegImportHeader which stores which headerid
                                                         belongs to what file was last saved.
26/09/14 /MK Change - SetupAnimals - qHealth - Added Vaccination EventType to SQL as Vaccination events were missing from Health tab.
30/09/14 /MK Additional Feature - New screen added to allow user to update Bulls for HerdSync.
                                - MenuUnit - Added menu item to HerdSync for new update bulls screen.
                                           - AccountsClick - Check if Farmgate.def is missing.
             Change - DairyData - CheckFiles - New column added to Purchase Groups screen.
                                               Need to delete old layout file to allow new change.
                                               Only delete this file once by checking version number.
                    - uUpdateTables - UpdatePurchGrpData - Added new fields LotNo and SearchNatID to PurchGrpData.db.
02/10/14 /MK Change - uBBPPurchScr - bCalcClick - Added code to calc cost based on total cost/weight of animals in a LotNo.
             Additional Feature - New unit, uVetLinkDrugSelect, added to allow user to select VetLink drugs that were not save from uEventsByGroup.
06/10/14 /MK Additional Feature - uEventsByGroup - New VetLinkDrugs option added to toolbar - allows user to select from VetLink drugs that were not saved.
                                                 - SetupMultiDrugGrid - New procedure used in both MultiDrug and VetLinkDrugs to
                                                   process the click of either button as both bring up the multi drug screen.
07/10/14 /MK Change - HealthFilterU - Highlight cbIndividualReport in bold and red and increase font size - Agent Meeting/GL Request.

Version: V5.3 R6.7

13/10/14 /MK Bug Fix - uBordBia - fmRedTractorTreatSum instead of TfmRedTractorTreatSum.
             Change - uRedTractorTreatSum - Always open form regardless of whether data exists or not.

Version: V5.3 R6.6

01/10/14 /MK Change - WinHerd.dpr - Try, Except added around InitializeBDE instead within InitializeBDE.
                                    Show our own message instead of Delphi Error. If error then Halt.
                    - Splash - FormCreate - If one directory exists the force BDE alias to be the name of the directory found.                 
                    - uDataBackup - BackupToServer - Copy Farmgate.def into backup file for use with reinstall.
             Bug Fix - uICBFEventExport - sbCreateClick - Strip out value after decimal in weight before sending - John McEnroe.
                                                          Only add weight to file if length of weight is 3 after value after decimal is stripped.

Version: V5.3 R6.5

26/09/14 /MK Change - uEventsByGroup - Added code to the AdminBy and PrescribedBy fields for the Vaccination event.
                    - uHealth - ShowHealth - Show AdminBy and PrescribedBy fields if WinData.EventType = THerdVaccination.

Version: V5.3 R6.4

26/09/14 /MK Bug Fix - uMartImportByFile - PostPurchaseAndHealth - If Crush user then don't recalculate Vat again - IAD reported.

Version: V5.3 R6.3

18/09/14 /MK Change - MenuUnit - CheckMods - Change left and caption of re-download attachment components for Beef herds.
                    - uMediPurch - Forgot to add changes for WinData.FAttachmentsDownloaded.

Version: V5.3 R6.2

12/09/14 /MK Bug Fix - uCustomers/uSuppliers - FormCreate - WinData.SystemRegisteredCountry was not working for more than one herd in two different countries.
                     - DairyData - SetUpQueries - Query changed to ignore ICBF BirthTypes if Country <> Ireland.
15/09/14 /MK Change - uFilters - ClearEventsStatus - Do no clear groups as filter can be added on top of selected group.
                    - uRestrictAnimals - If cbReplaceWithMilkWithdrawal.Checked then show max MilkWDDays - TGM/Raymond Quinn request.
             Additional Feature - DairyData - New public property FAttachmentsDownloaded to check whether attachments were downloaded
                                              by the user and if they were then just show attachment screen. If they were not then
                                              just download the attachments withouth any question to user - request by GL/Agents meeting 11/09/14.
                                - uUpdateTables - UpdateDefaults - New boolean field, AttachmentsDownloaded, added to Defautls Table.
                                - MenuUnit - All Links buttons, Milk Recording, Mart Files & Factory Files -
                                             Check WinData.FAttachmentsDownloaded to see whether attachments were downloaded
                                             by the user and if they were then just show attachment screen. If they were not then
                                             just download the attachments withouth any question to user - request by GL/Agents meeting 11/09/14.
                                           - FormActivate - When user clicks yes to Check Gmail inbox for emails set WinData.FAttachmentsDownloaded to true
                                                            so as not to download again from Links or other Mailbox attachment buttons - request by GL/Agents meeting 11/09/14.
                                - uICBFPCDownloadImporter - Same check for WinData.FAttachmentsDownloaded as MenuUnit.

Version: V5.3 R6.1

10/09/14 /MK Additional Feature - uCalvesWithNoSires - Change breed of calf to Sire Breed or Cross Breed.
                                - uCustomers - Changed grid to cxGrid, added print button and added print component to allow printing.
                                - uSuppliers - Changed grid to cxGrid, added print button and added print component to allow printing.
11/09/14 /MK Additional Feature - MenuUnit - Added Purchase Weight to Movement Columns - John Milliken.
                                - DairyData - Added Purchase Weight to MDGridPurchData - John Milliken.
             Bug Fix - uPurchases - NavPurchaseClick - Check for '' was not catching zero or null FQAS days.
             Change - StockInHerdFlt - pPurchSales - Added new rgInclude.ItemIndex for All Animals - GL Request.
                                                   - If All Animals then do not show date select for either sales or purchases but show Customer/Supplier select - Gl Request.
                                                   - Changed caption of rgInclude.Items to match web app - Gl Request - . All Animals
                                                                                                                        . All Purchased Animals
                                                                                                                        . All Sold Animals
                                                                                                                        . All Dead Animals
                                                                                                                        . BOTH Purchase and Sold
                                                                                                                        . Purchased (&Not Sold)

Version: V5.3 R6.0

09/09/14 /MK Bug Fix - BullReportsFilt - BuildTable - Including bulls that were deleted.
             Additional Feature - MenuUnit - Added Red Tractor screen.
             Change - MenuUnit - If Country is <> Ireland then show change BordBia button to Red Tractor.

Version: V5.3 R5.9

05/09/14 /MK Bug Fix - StockInHerdFilt - qPurchSales - Change to query to allow for new changes to Average and Summary expressions on report.
                     - uPurchSalesReport - Only get average and sum of PurchWeight, PurchPrice, SalesWeight and SalePrice where these fields have a value > 0.

Version: V5.3 R5.8

03/09/14 /MK Change - uFertilityCheckReport - If QRDBText1.Value = Null date (31/12/1899) then QRDBText1.Value = ''.
             Bug Fix - uEventsByGroup - Made sure that all LookupComboBox components had the LookupSource hard coded into Event Setup code.
                                      - ChangedItem - ActiveAIBull was being assigned with no ServiceBull causing error.

Version: V5.3 R5.7

25/08/14 /MK Additional Feature - ICBFPCDownload - Added TICBFCalvingDownload to create a calving record for an animal.
                                - uICBFPCDownloadImporter - On btnMilkRecords.Click check for animals that have a calving date
                                                            in the ICBF file but this calving event does not exist in the cows current lactation. This option
                                                            can be used to allow Dairy farmers to import calving events from the ICBF file after a new
                                                            milking cow has been purchased into the herd. If a farmer is buying back in an animal then
                                                            the Transfers In file is best used so all breeding data comes back into the herd.
                               - uCallToExternalProgram - New program Bord Bia Client added.
                               - MenuUnit - Add Bord Bia system menu and actions to call new BordBiaClient.exe.
                                          - New Bord Bia system menu only available to Beef Crush users - IAD/GL request.
27/08/14 /MK Change - EventRecording - TAnimalRecord - New FBordBiaQAStatus property to store QualityAssured value in Animals table.
                    - uCrushBarcode - Changed QA combobox in View screen to a read only text box to tell crush user QA status.
                    - DairyData - GoToAimAnimalDetails - Check TActiveFilterType to see if afCrush.
                                                         If afCrush then pass in FCrushAIMRecord details to AIM.
             Additional Feature - uCrushBarcode - New button added to check AIM movements for an animal.
                                                - Created a QA combobox in the Add screen.
                                - DairyData - New record type created for TCrushAIMRecord and new public variable for FCrushAIMRecord.
             Bug Fix - uDrugsRegisterImport - ImportFile - Add try/excepts around each field to bypass any errors found.
                                                         - Only post purchases to the table that have a BatchNo, ExpiryDate and PurchaseDate.
28/08/14 /MK Additional Feature - MenuUnit - Copied VetTreatment button to Crush container - IAD/GL request. 
                                - ShowHealth - Pass in const boolean variable for CrushTreatment.
                                             - Change RateApplic caption to Quantity Used if Crush user - IAD/GL request.
                                             - Remove PerDose label and DrugCost field if Crush user - IAD/GL request.
                                - uMovementsInHealthDefaults - ShowHealthDefaultEditor - New dbCheckBox added for CrushTreatment.
                                - uMovementsInHealthDefaultsGrid - ShowMovementsInHealthDefaultGrid - New Column and field added for CrushTreatment.
                                - uUpdateTables - UpdateDefaultHealthEvents - Added new boolean field, CrushTreatment, to DefaultHealthEvents.
                                - uCrushBarcode - UpdateAnimal - Added the ability to save Crush Default Health events saving in Update screen - GL/IAD request.
             Change - uMartImportByFileReview - CreateDefaultHealthEvents - Only show default health events that are not specified to be used in the Crush.
                    - uMovementsInHealthDefaults - ShowHealthDefaultEditor - Only show PerKg fields if not a Crush user.
                    - uMovementsInHealthDefaultsGrid - Only show ApplicRate if not a Crush user.
                                                     - Change width of screen depending on whether a crush user or not.
01/09/14 /MK Change - uMilkRec - CheckAnimals - English Herd - If NatID not found then match by AnimalNo.

Version: V5.3 R4.7

21/08/14 /MK Bug Fix - PregDiag - dbceDaysInCalfPropertiesChange - After save the program was still going into this procedure and crashing on dbceDaysInCalf.PostEditValue.
                                  so check PregDiag state to see whether record has been saved or not.

Version: V5.3 R4.6

19/08/14 /MK Bug Fix - uEventsByGroup - sbSaveClick/IsValidatorSelected - Check MultiDrug grid for Drugs that have no application rate.
             Additional Feature - MenuUnit - Added extra drop-down items to Review Medicine's drop-down - GL Request.

Version: V5.3 R4.5

18/08/14 /MK Bug Fix - uEventsByGroup - Lookup source for DrugID in MultiDrug was blanked out after Delphi crash.

Version: V5.3 R4.4

07/08/14 /MK Change - MenuUnit - SetupForm - Make Link buttons for ICBF & Cows365 not visible for Beef Herds.
                               - If Links menu visible increase height of lEventsSection.
          Additional Feature - uMartImportFile - Import - Add new update routine for Crush users - IAD request.

Version: V5.3 R4.3

07/08/14 /MK Bug Fix - uDrugsRegisterImport - actSaveHealthsManually - Always move next regardless of whether the record is selected or not.

Version: V5.3 R4.2

05/08/14 /MK Bug Fix - MenuUnit - FormCreate - Datasource was lost for mAnimalComments after Delphi crash.
                     - uGlobalSettings - cbDisplayAnimalCommentsPropertiesChange - No need for restart message as changes apply with restart - GL request.

Version: V5.3 R4.1

01/08/14 /MK Bug Fix - DairyData - GetUserHerdID - GenLookup can not be active at this stage. Add check for GenLookup.Active.

Version: V5.3 R4.0

23/07/14 /MK Additional Feature - uCustomers - If herd is irish then show warning if BTE Herd Number has spaces.
                                - uTBTestDtRep - Add Favourite option for report.
             Change - uEventsByGroup - sbSave - If user has selected diease but has not tabbed from box then fill disease
                                                in TempAnimals from disease in dbcbTestDisease.Text.
                                              - After DeselectAll - If HerdTest event then clear disease in TempAnimals.TableName for next disease if any.
                                     - uGlobalSettings - Removed PhoneLink from ListBox1 and changed tags appropriately for remaining items.         
24/07/14 /MK Change - uStartupReminders - Changed reminder for Bandon to AIM.
                    - uKImport - Show the DeleteAnimal option if animals are loaded from an import file.
                    - MenuUnit - Show Default Health Events menu item regardless of country.
                               - Remove APHIS reference for Default Health Events menu item if country is Ireland.

Version: V5.3 R3.1

03/07/14 /MK Change - MenuUnit - SetupForm - Show Quality Assured field for Suckler herds - Hugh Tracey.
08/07/14 /MK Additional Feature - uHealth - HealthNavBeforeAction - If drug selected and no application rate then don't allow event to be saved - GL & Margart Murphy request.
                                - uEventsByGroup - Give same message as above if saving Health event with drug and not applic rate.
17/07/14 /MK Additional Feature - MedicalTreatments - Made a to move the headings/data from ExpiryDate to Cost over by 2 - GL request.   
                                - HealthFilterU - Added new temp table for health events from the event table to make the report quicker.

Version: V5.3 R3.0

30/06/14 /MK Change - ActionReminderFilt - pDueToPD - Changed caption of lDaysAfterCalving as requested by GL.
             Bug Fix - ActionReminderFilt - BuildDueToPD - Default PregDiagExists to False for each animal before looking for PD Events.
             Additional Feature - DiaryData - PregDiag - New field ReCheck added.
                                - uUpdateTables - UpdatePregDiag - Added ReCheck field and set to False to start with.
                                - PregDiag - Added dbRecheck check box for new recheck field.
01/07/14 /MK Additional Feature - ActionReminderFilt - BuildDueToPD - Added check for if cow was marked for recheck in the PregDiag event.
                                - ReportDefaults - Add default for new recheck field in DueToPD report.
                                - MenuUnit - ShowCalfReg - Show DeptAdvert if AIM does not exist - GL Request.
             Change - uDeptLinkAdvert - Allow screen to show even if preference to not show is on
                                        for Email Calf Reg button change in MenuUnit.
                                      - Added more text to tell user that email Calf Reg has been discontinued.
02/07/14 /MK Bug Fix - uDrugsRegisterImport - actSaveHealthsManually - Posting Imported boolean moved to next record so no need for Next
                                                                       unless the Selected boolean is unticked.
                                            - UpdateMedicine - Unable to located PurchaseUnit as TempUnits.Tablename was incorrectly set to Medicines.  

Version: V5.3 R2.9

19/06/14 /MK Change - MenuUnit - TeamViewerOnClick - Add Call To Program like whats in the Fields program.
                    - uTreatmentSummary - Added label to give explanation to dates to explain that the date
                                          range is the treatment start date.
                                        - Changed height of form to make it more readable.
26/06/14 /MK Change - MenuUnit - ShowHerdReconcile - Show FQAS and DaysToFQAS after NIHerdReconcile and refresh grid with new QADate from HerdReconcile import.
27/06/14 /MK Change - ActionReminderFlt - Changed all instances of WinData.CheckEvents to BreedingDataHelper.TempTables.

Version: V5.3 R2.8

13/06/14 /MK Bug Fix - StockInHerdFlt - LoadOtherData - Calvings - Used left join instead as program crashed with some sets of data - TGM/K&W Morrow.
             Change - MenuUnit - SetupForm - Show PurchFQAS column if DaysToFQAS is showing - TGM/GL Request.
                    - uPurchases - FormCreate - Brought back FQAS Days - TGM/GL Request.
                                              - Show new FQAS Date label - TGM/GL Request.
                                 - NavPurchaseClick - Save QADate to animals table & animals.QualityAssured if ( FQASDate <= Date ).

17/06/14 /MK Change - MenuUnit - EventGridAnimalEventsViewDblClick -
                                 If NIreland herd and main grid is showing DaysToFQAS then Close and Open WinData.AnimalFileByID as
                                 as RefreshExternalData does not pick up new change to QADate in Animals table.
                    - SetupAnimals - Only show dbcbQualityAssured if Irish Beef Herd with Beef Management.
                                   - NIreland herd uses PurchFQAS boolean from Purchase event on the main grid instead of Quality Assured field in Animals table.

18/06/14 /MK Change - uMartImportByFile - PostPurchases - Brought back FQAS Days - Request by TGM/GL.
                                                        - Save QADate to animals table & animals.QualityAssured if ( FQASDate <= Date ).
             Additional Feature - uMartImportByFileReview - If the user enters FQAS Days then create QADate on screen.

24/06/14 /MK Additional Feature - uCalvesNoSires - New unit to generate a SireID for calves with no sires selected.
                                - MenuUnit, uStartupReminders - Show new unit uCalvesNoSires if no sires selected for calves before calf reg screens open.

Version: V5.3 R2.7

12/06/14 /MK Change - uRestrictAnimals - Changes to the report as requested by GL.

Version: V5.3 R1.7

09/06/14 /MK Change - uBreedingDataHelper - Created separate tables for Heats, Services, PregDiag and Calving event details i.e.
                                            AnimalID, EventDate and LactNo instead of using Events.Filter to speed up reports.
                    - uHeatServiceFilt - Used TempTables from uBreedingDataHelper to speed up report.
10/06/14 /MK Change - uHeatServiceFilt - Moved the generation of ConditionScore from a procedure that loops through the table again
                                         into the first loop of the table only if Condition Score is selected in rgIncludeInSumColumn.

Version: V5.3 R1.6

29/05/14 /MK Bug Fix - DairyData - EventsAfterPost - Calving - AddToEventLookupData only being called if CalfSurvey event saved.
                                 - AddToEventLookupData - Calving - Param never added when SQL changed.
             Change - uMilkRec - FormActivate - Always match by NationalID if ICBF file.
                    - uSetupMilkDisk - Pass in TCountry to CreateAndShow.
                                     - If no MilkDiskParameter already set and TCountry is not Ireland then
                                       default MilkDiskLayoutID to DSMember.dat ID.
                                     - Customer prompted to save on Exit if MilkDiskLayout in Insert/Edit mode.
03/06/14 /MK Bug Fix - uCrushSalesGroup - SaveHeader - Need better way to find if SalesGroupCode already exists.

Version: V5.3 R1.5

21/05/14 [V5.2 R0.5] /MK Change - uICBFPCDownloadImporter - New Boolean Variable, FOnlyShowForm, created to show the form instead of email prompt
                                  for MenuUnit/Import and MenuUnit/Herd/ImportICBFData.
                                - MenuUnit - Changes to ICBFImport for Import and Herd/ICBF Import.

Version: V5.3 R1.4

19/05/14 /MK Additional Feature - uFilters - Added age between filter.
                                - uUpdateTables - Added NoOfMonthsTo field to FilterTable.
20/05/14 /MK Change - SaleEligibility - Added cmboMonth to allow report to print new ages - Ivan Whitten/GL Request.
21/05/14 /MK Change - uFilters - Do not show MonthFrom if no age filter selected - GL Request.
                                           - Only show MonthTo if rgMonthFilter is Between - GL Request.
                    - SaleEligibilty - Form layout changed as requested by GL.
                    - uCrushSalesGroup - Changed the width of the form and the width of the NationalID field
                                         as requested by IAD. NationalID field needs to be longer to take account of the "IE"
                                         in front of the tag number which IAD started using recently.
             Bug Fix - uMartImportByFile - GetCarnarossMartFromMovedTo - Strip FSourceName to search for HerdIdentity.
                                           Error appearing because locate was searching by whole FSourcName.

Version: V5.3 R0.4

15/05/14 /MK Additional Feature - uTreatmentSummary - Added explanitory text from Bord Bia to help page - GL Request.
16/05/14 /MK Additional Feature - MenuUnit - ShowParlourLinkScreen -
                                             Automatically bring over parlour events from this parlour types
                                             when parlour link closes.
             Change - uAnimalRemedyData - GetMediGroupIDByMediType - Allow for other type descriptions.
                    - MenuUnit/uMedicinesNullGroup - GL Requested that when program opens show null and other types if null groups found.

Version: V5.3 R0.3

15/05/14 /MK Additional Feature - uHerdLookup - Change to QueryMedicineGroups sql to only show LMedicineGroup types
                                                without looking for distinctive descriptions of LMedicineGroup types.
                                - HealthFilterU - Added Milk and Meat N/A booleans to report tables.
                                - MedicalTreatments, uNIVetTreatments - Changed all Milk or Meat Withdrawal QRDBText Values to N/A if N/A drug.
             Bug Fix - uAnimalRemedyData- If NoDays and NoTimes is null then TreatmentCount + 1.

Version: V5.3 R0.2

13/05/14 /MK Bug Fix - HealthFilterU - Program was going through table finding first antibiotic drug
                                       adding individual records for this drug but when it tried to move
                                       to the next record in the ReportTable it was already at the end of
                                       of the table because of the insert of new records.
                                       Logic changed to that of uAnimalRemedy query to group all treatments
                                       that are not antibiotic drugs and insert them into the ReportTable.
                                       Then insert individual animals for antibiotic drugs without grouping.
14/05/14 /MK Additional Feature - uMedicinesNullGroup - Added Show All option to show all medicine's and their types - GL Request.
                                - MenuUnit - Pass in to uMedicinesNullGroup whether to show all medicine's by default.

Version: V5.3 R0.1

12/05/14 /MK Bug Fix - uMedicineSetup - Change to medicine form client width as form width changed.

Version: V5.3 R0.0

25/04/14 /MK Additional Feature - uUpdateTables - Added new Medicine Groups for Doses and Tubes for Bord Bia.
                                - uHerdLookup - Added Doses and Tubes to QueryMedicineGroups.
28/04/14 /MK Bug Fix - uCrushSalesGroup - Program was not checking if there were no sales groups and
                                          producing an "Invalid variant Type" error on creating of the new group.
30/04/14 /MK Change - uAWEventsByGroup - Include Stock Bulls not in herd i.e. sold stock bulls - Ivan Thomas.
             Bug Fix - uHealth - Moved DrugUsed.OnChange Code to DrugUsed.OnEditValueChanged so user can type in Medicine name - SP supervised.
07/05/14 /MK Bug Fix - StockInHerdFilt - Set IdArray back to zero for each animal in DuplicateAnimals.Strings.
                                         Program was adding to each animal from DuplicateAnimals.Strings to this array
                                         and always returning all events of these animals instead of just the events
                                         of the two ids for DuplicateAnimals.Strings.
08/05/14 /MK Additional Feature - MenuUnit - Added drop-down-menu to Review Medicines for Add Medicine - GL request.
                                - uDrugRegisterImport, uDrugRegImportWithdrawal - Add Medicine Group with new medicines.
                        Change - uMedicineSetup - Dose or Purchase Unit is optional not required.
                                                - Medicine Group is now required to save Medicine - GL request.
                                                - Added a panel, lTopPanel, to better size the form when in Add or View mode.
                                                - Switched Stock Control with Withdrawal Period for Groupboxes and Grid Bands - GL request.
                               - uHerdLookup - Added MediGroup to TDrugRegImportWithdrawalRec to store Medicine Group.
09/05/14 /MK Additional Feature - uMedicinesNullGroup - Form to show all treated medicine's that have a null group.
                                - MenuUnit - FormActivate - Show form that contains all treated medicine's that have a null group.

Version: V5.2 R9.6

24/04/14 - SP Changes - No comments from R9.4 to R9.6!!!

Version: V5.2 R9.3

28/03/14 /MK Bug Fix - SetupAnimals - CowFamily was hiding the Electronic ID fields for AI Bulls.
                       MenuUnit - pmAnimalGridPopupPopup - Only show extra item in the drop-down-menu if animal is not in the None Herd.
31/03/14 /SP Bug Fix - uDataBackup - ZipDataExecuteAction - Delete file to stop DynaZip appending to zip file. 
          MK Bug Fix - MenuUnit - Added new action for AIMMovementEnquiry menu popup so Irish herds can use both order tags from
                                  HyperLink in AIM/Calf Reg menu and AIMMovementEnquiry.
                     - ICBFDownload, uICBFPCDownload, uMilkRec - Fixes to not mark file as read if coming from ICBF File Import screen.
01/04/14 /MK Additional Feature - uLivestockSum, uLivestockInvent - Change the title of the report to Annual Livestock Movements if Bord Bia.
             Change - uHerdSync - Change made for export of groups if Drafting groups exist.

Version: V5.2 R9.2

27/03/14 /MK Bug Fix - KDBRoutines - GetPreSaleStatusInfo - Check for Not Applicable Boolean.

Version: V5.2 R9.1

25/03/14 /MK Additional Feature - uVersionHistory - Include new list of changes from GL.
26/03/14 /MK Change - MenuUnit, uSystem - Changed LogMeIn logo and URL to TeamViewer.
         /MK Additional Feature - uUpdateTables - On V5.2 R9.1 version show Recent Changes screen.

Version: V5.2 R9.0

13/03/14 /MK Change - uReports - Changed caption of Calf Performance Generator to Dam & Calf Report Generator.
                    - GenTypesConst - New Dam & Calf Report Generator replaces the old Calf Performance Generator.
                    - uUpdateTables - Updated Report defaults table to show new Dam & Calf Report Generator which
                                      replaces the old Calf Performance Generator.
14/03/14 /MK Additional Feature - MenuUnit - Do not show KingswoodMailbox when looking for attachments, just show the old SP import attachments timer.
                                           - SetupQuery - Do not show this check for new Calf Reg/ICBF email warning from now on as change to mailbox
                                                          for attachments required and all client should have AIM - GL.
18/03/14 /MK Additional Feature - uDanRyanImport - Added the capability of downloading mail attachments through Gmail.
                                - uFileAttachmentImport - Added the capability of downloading Dan Ryan/Cows 365 files.
                                - uUpdateTables - SetupDirectoryStructure - Added Cows365 folder for Dan Ryan/Cows365 Gmail files.
                                - MenuUnit - Changed old Single Animal Welfare container to new Kingswood Links container.
                                - uICBFPCDownloadImporter - Added the capability of downloading mail attachments through Gmail.
                                - uRemittance - Disable sbRecord and sbReview if Mail Attachment import.
19/03/14 /MK Additional Feature - uRemittanceHeader - Default Herd Owner to DefaultHerdID.
                                                    - Changed caption of Label2 & Label3 for better understanding for user - GL.
20/03/14 /MK Change - SetupAnimals - SexComboChange - If Beef Herd then only show Brucellosis Date if Animal Sex is Female - GL/Joan Foley.
21/03/14 /MK Additional Feature - uRemittanceHeader - Enable OK button after Herd Owner is defaulted.
                                - uDanRyanImport - Forgot to mark the Gmail attachment as read if file is saved.
                                - uFileAttachmentImport, uICBFPCDownloadImporter - Added the capability of not showing the Modal if
                                                                                   there are no attachments (from Links menu only).

Version: V5.2 R8.9

10/03/14 /MK Additional Feature - uCowsServedAfterPD - New unit created to check whether cows were served after a positive PD event.
                                - MenuUnit - Open new unit, uCowsServedAfterPD, if FCowsServedAfterPDTable.RecordCount > 0 and herd type is Dairy.

Version: V5.2 R8.8

04/03/14 /MK Bug Fix - uICBFPCDownloadImporter - btnPedigreeClick - If animal exists then still update DamID/Sire of updated animal.
05/03/14 /MK Bug Fix - uMilkTankRead - Caption of 2nd & 3rd TCB columns were set to TBC.
             Additional Feature - uFeedPurch, FeedPurchaseRep - Added Expiry Date as requested by Breda Forrest.
                                - uUpdateTables, DairyData - Added Expiry Date to FdStkEvents table as requested by Breda Forrest.
             MK Bug Fix - HealthFilterU - ShowTheForm - PurchType was part of WinData.FBordBiaBlockPrint but it should be separate from this.
06/03/14 /MK Additional Feature - Services, DairyData, EventDefaults - Stored Technician/Inseminator as part of ServiceDefaults.

Version: V5.2 R8.7

26/02/14 /MK Additional Feature - MenuUnit - Removed btnOrderTags.
                                           - Added separate button for AIMMovementEnquiry - IAD/GL request.
                                           - Replaced old btnOrderTags code with new btnAIMMovementEnq button.
                                           - Changed Caption of AIM Movements to AIM Compliance Certs - GL request.
             Bug Fix - Changed left of lAIMICBFMore in pRegCalfRegContainter depending on HerdType.
27/02/14 /MK Change - MenuUnit - Do not show Movement Permits/AIM Movements in Movement Menu for Irish Herd - GL request.

Version: V5.2 R8.6

25/02/14 /MK Bug Fix - uICBFPCDownloadImporter - btnServiceDataClick - Procedure add to set bulls as active/not active if in service events
                                                                       within/less than 12 months ago - GL Request.

Version: V5.2 R8.5

25/02/14 /MK Bug Fix - uEventsByGroup - HealthSetup/FormCreate - Code to set the LookupComboBox Lookup Source
                                        as this value was being blanked out after a Delphi crash.

Version: V5.2 R8.4

20/02/14 /MK Bug Fix - StockInHerdFilt - Stock on Hand/In Milk report was not including animals that did not have a calving event
                                         unlike what the MainGrid Select Category In Milk was doing.
                                       - Stock on Hand/In Milk report was including animals that were breeding
                                         unlike what the MainGrid Select Category In Milk was doing.
             Additional Feature - GenTypesConst - HealthCodeArray & CullingCodeArray - Added new codes as requested by ICBF.
                                                - Added new list type, LSexedSemen, for ICBF Sexed Semen request.
                                - uUpdateTables - Added new ICBF Health & Culling codes as requested by ICBF.
                                                - Added new list type listing for ICBF Sexed Semen request.
                                                - Added SexedSemen Integer field to the Services table for ICBF.
                                - DairyData - Added SexedSemen Integer field to the Services table for ICBF.
                                - uHerdLookup - New TDataSource, TQuery and TEditRepository created for ICBF Sexed Semen.
                                - Services - Added Sexed Semen drop-down-menu as per ICBF request.
21/02/14 /MK Change - uICBFEventExport - Procedure, AddSexedSemenCodeToBullString, created to add Sexed Semen from GenLookup.LookupCode to SireCode.
                                       - Only strip off punction if SireNatID Number not SireCode as Sexed Semen e.g. -90F, added to SireCode.
                    - Services - Only show SexedSemen if Bull is AI Bull or if Editing and Sexed has a value.                   
             Additional Feature - uEventsByGroup - Added Sexed Semen Lookup Combo to Services.
                                                 - Only show this combo if the Bull selected is an AI Bull.

Version: V5.2 R8.3

17/02/14 /MK Bug Fix - uEventsByGroup - Moved CheckDrugBatchQtyRemaining for TempAnimals to TempAnimalsAfterPost instead of AfterSelectedChange or AfterApplicRateChange.
                                      - Created a new function GetTotalApplicRate to get the total applic rate of animals selected to pass into CheckDrugBatchQtyRemaining.
17/02/14 /MK Change - DairyData - New public variable, FCalvingDOBChanged, to store whether calving date was changed by the user.
                    - uCalvings - If editing calving and calving date changed then, on save, give warning that program will now
                                  update the date of birth of the calf/calves.
18/02/14 /MK Change - SetupAnimals - Set DOB to read only if calf is from a calving event of dam - WinData.IsCalvesCalvedDam.
                                   - If DOB is read only then DOB.OnEnter gives an error to tell the user to change the calving
                                     date in the Calving Event of the dam.

Version: V5.2 R8.2

12/02/14 /MK Bug Fix - DairyData - EventsAfterPost - Moved the SetIsSynchroizedFlag to after ApplyUpdates as it was causing errors
                                                     if more than one animal had their sales details updated by the user.
                       SetupAnimals - Only show DonorDamID fields if calf is from a calving event that used an Embryo Transfer event.
                                    - Show error if user tries to save the Donor Dam ID as the Dam ID.

Version: V5.2 R8.1

06/02/14 /MK Bug Fix - uGroupSetup - HerdSync was causing the WinData.Groups to be reset which caused GroupID in qAnimalsNotInGroup to
                                     go up by one which in turn was not adding animals to the group.
                                   - FUpdatedGroupArray - Added an integer array to store the GroupID's that were updated.
                                                          Pass these GroupID's through uHerdSync.ResetSyncFlagForGroup.
06/02/14 /MK Bug Fix - uHerdLookup - Added variable NotApplicable to THealthWithdrawalInfo.
                                   - Only show uDrugWithdrawalInfo unit if Milk Wihdrawal is after today and drug is not NOT APPLICABLE.
07/02/14 /MK Change - uGroupSetup - deMoveFeedDate - Only show warning if GroupType is Purchase or Feed.
             Bug Fix - uKImport - SaleDateChange - Removed lines to stop error on SetFocus and to move forward after
                                                   SaleDateChange to set group boxes to enabled.
11/02/14 /MK Additional Feature - uDrugRegisterImport - Added Drug Quantity as a column to the grid.
                                                      - Added quantity of drug to medicine purchase record.
                                                      - Update quantity of medicine in medicine table.

Version: V5.2 R8.0

05/02/14 /MK Change - DairyData, GenTypesConst - New event source created for regenerating of calving events through CreateMissingCalvingsForDams.

Version: V5.2 R7.9

31/01/14 /SP Changes - uHerdSync - Some new changes.
03/02/14 /MK Additional Feature - uUpdateTables - Added the Cow Family field to the Animals table.
                                - DairyData - Added the Cow Family field to AnimalFileByID and UpdateAnimals.
                                - SetupAnimals - Added Cow Family in same place as UK AI Sire Code.
                                - MenuUnit - Added Cow Family to main grid.
04/02/14 /MK Additional Feature - SetupAnimals - Before Dam drop-down-list appears check to see whether the dam was calved with this
                                                 calf and give an error to explain to the user to delete the calving for the dam.
                                - DairyData - New function, IsCalvesCalvedDam, created to check whether calf was calved from a dam.
05/02/14 /MK Change - uCalvings - Removed "cannot be deleted" from the warning when saving the calvings.

Version: V5.2 R7.8

27/01/14 /MK Additional Feature - Splash - New background and logo added.
             Change - uHerdStatistics - Change Calving Index/Indices to Calving Interval.
28/01/14 /MK Change - HerdActionReminderFlt, DueToCalveRpt, Services, BreedingAnalysisFilt, BestCowsInHerd
                      Changed all instances of Calving Index to Calving Interval - GL Request.
29/01/14 /MK Change - SetupAnimals - Changed label of Calving Index to Calving Interval - GL Request.
          Bug Fix - uKImport - AnimalNoValidate - If bbRenumberExistingAnimal.Down then don't give warning for Animal No - James O'Connor.
30/01/14 /MK Additional Feature - MenuUnit - Added Calving Interval (**NOT Projected Calving Interval) for Dairy/Suckler herds.
                                - DairyData - Changed CalvingDate field in MDGridCalvingDateData to ThisLactCalvingDate.
                                            - Added new field to MDGridCalvingDateData for LastLactCalvingDate.
                                            - Changes made to AddToEventLookupData and GetEventLookupData for ThisLactCalvingDate and LastLactCalvingDate.
                                            - AnimalFileByIDOnCalcFields - Calculate this calving index by ThisLactCalvingDate - LastLactCalvingDate.

Version: V5.2 R7.7

24/01/14 /SP Change - uHerdSync - Herd Sync changes.

Version: V5.2 R7.6

20/01/14 /MK Change - SetupAnimals - DOBExit - Check to see whether the changed date of birth is different than the
                                               the calves dam's date of calving and show warning.
             Bug Fix - DairyData - CreateMissingCalvingsForDams - Was not checking 3 months but was checking 1 month.
22/01/14 /MK Change - DairyData - Added Procedure UpdateNullUnits to set the Muliplier in the Units table to 1 if its Null.
                                - CheckDrugBatchQtyRemaining, CalcCostAndQtyUsed & CalcDrugCost - only allow calc of cost if Medicine.DoseUnit/PurchUnit have a value.
                    - uMedicineSetup - Do not allow a Medicine to be saved without a Dose or Purchase Unit.

Version: V5.2 R7.5

06/01/14 /MK Bug Fix - uActionWarningReminders - If IsPreg = "No" then animals were set to not include.
                                                 Include should be left out as Include is not used in alDueToCalve SQL to establish
                                                 whether animals should appear on the report or not.
07/01/14 /MK Bug Fix - uAWEventsByGroup - FilterOutAnimals - DamEvent - New way to get the dams of this year and last year if calved on/after 01/01/2013.

Version: V5.2 R7.4

19/12/13 /MK Change - uMediPurch - Changed colour of BatchNo and Expiry Date to required/important field colour.
                                 - Changed colour of Qty. Remaining to WinHerd read only colour.
                                 - Default the Expiry Date to null
          Additional Feature - DairyData - MediPurch.Post - Warning message on Save if Expiry Date is null.
                                           User can click Yes to continue with save the Medicine Purchase without an Expiry Date.
                             - MenuUnit - Added drop-down-menu to Veterinary Purchase button.
          Bug Fix - uDrugsRegisterImport - Default Variable strings in import sequence to blank to start with.
                                         - Allow Variant type date for Expiry and Purchase Date.
                                         - If Batch Number and Expiry Date are both null then this is seen as an invalid purchase record
                                           and will not be imported to the grid to start with.
02/01/14 /MK Change - uDrugWithdrawalMsgDlg - Change to rules - GL - Only show warning with Milk withdrawal date.
03/01/14 /MK Bug Fix - uEventsByGroup - Move validation of combo boxes depending on event type to before UpdateAnimals.
                                      - Add validation for HerdTest if no disease selected.
06/01/14 /MK Bug Fix - HealthFilterU - Withdrawal information left out of group report by mistake.

Version: V5.2 R7.3

02/01/14 /MK Bug Fix - uDrugWithdrawalMsgDlg - FormShow - Rule change by GL to only show warning with Milk Withdrawal regardless of Herd Type.
             Change - uFilters - Show Filter By GroupBox for Herd Admin customers.
                               - Increase height of gbSex and gbOtherEvents to make it look better for beef herds.

Version: V5.2 R7.2

18/12/13 /MK Bug Fix - uCreateEvents - ProcessHealth - Quantity was used instead of RateofApplic.

Version: V5.2 R7.1

16/12/13 /MK Change - uSalesRep - Check new radio group to see whether to show Buyer or Supplier - McDonnell Bros.

Version: V5.2 R7.0

16/12/13 /MK Additional Feature - MenuUnit - New field for DaysToFQAS showing on the main grid.
                                             Only of use to NIreland customers as FQASDate filled by APHIS File.
                                - uMartImportByFile - Removed FQASDays save from Purchase event.
                                              - Added QADate to FMartTable and save this date to AnimalRecord.
                                - uMartImportByFileReview - Hid the FQASDays now showing FQASDate instead for NI herds.
                                - SaleEligbility - Based FQAS calculation on new FQAS Date field. If no FQAS Date then
                                                   calculation based on whether animals is > 90 days on farm.

Version: V5.2 R6.9

12/12/13 /MK Additional Feature - DairyData - New QADate added to AnimalFileByID.
                                            - UpdateAnimals - Allowed for QADate.
                                            - AnimalFileByIDCalcFields - Check for new QADate field and set DaysToFQAS based on DaysToFQAS - today's date
                                                                         if DaysToFQAS > today. If no QADate then based AnimalFileByIDPurchFQAS on old
                                                                         calculation NoDaysOnThisHerd > 90 without check for PurchFQAS days.
                                - uUpdateTables - UpdateAnimals - New QADate added to Animals table.
                                - uPurchases - Removed FQAS Days from Purchase screen.
                                - Check for new QADate field and set DaysToFQAS based on DaysToFQAS - today's date if DaysToFQAS > today.
                                - uEventsByGroup - Give error if no result selected before saving Johnes Event.
             Bug Fix - uEventsByGroup - Unit seems to have lost all the list sources for LookupCombo components since move to Win8 PC.

Version: V5.2 R6.8

09/12/13 /MK Bug Fix - SetupAnimals - ShowForm - Only show HUKI if Pedigree and NIreland/English herd.
                     - MenuUnit - Quality Assured field should only appear for Irish BeefMan Herds.
                     - uKImport - Check for animal no in all herds not just current herd.
                     - uMediPurch - I made the grid invisible if in Add mode.
11/12/13 /MK Additional Feature - uUpdateTables - UpdateGenLook - Remove old Johnes list types and create new High, Medium & Low types.
                                - uEventsByGroup - Added the ability to save Johnes Event.
                                - EventRecording - New event created for Johns Event.
                                - uHerdLookup - Added new a query and datasource for LookupJohnesResult.

Version: V5.2 R6.7

05/12/13 /MK Additional Feature - ActionReminderFilt - Added cbIncludeCullCows to DueService report.
06/12/13 /MK Change - DairyData - AnimalFileByIDBeforePost/CheckForAnimal - check for existing animal no in all HerdId's in new
                                  FHerdIDList array, not just the current herd id.

Version: V5.2 R6.6

03/12/13 /MK Bug Fix - PregDiag - Only show pServeBull if PDDaysInCalf < ServDaysInCalf - GL.
                                              Program was incorrectly saving a service event prior to the last
                                              service event instead of after the last service date.
         /MK Additional Feature - uHerdLookup - Added Query and DataSource of Purchase and Batch Groups.
                                              - Added Lookup Edit Respository for Purchase and Batch Groups.
                                - uMartImportByFile - Added PurchGrpID and BatchGrpID fields to MartTable.
                                                    - Allow animal to be saved to Purchase and/or Batch Group if group selected.
                                - uMartImportByFileReview - Show Purchase and Batch Group columns for Purchases.              
04/12/13 /MK Bug Fix - FertAnalysisRpt - PDProjDate and ServProjDate added to ResetVariables so dates are calculated for each animal correctly.
                                         As dates were not being zeroised, the Due To Calve date was been calculated for animals that should be due.
                                       - If DueToCalveDate and DueToDryOffDate.OnPrint - if Value is "30/12/1899" then Value should be "".
                     - Group - AddToGroup - Only show warning for animal in group if Feed Group.
             Additional Feature - uDrugsRegisterImport - Mark Gmail VetLink file as read on FormCloseQuery if purchases and/or vet treatments are saved.
             Change - uHealth/uMediPurch - Changed VetLink button to cxButton to allow for Drop-Down-Menu ButtonKind.
                                         - If Preference/AutoDownloadMailAttachments then VetLink/ButtonKind = DropDownMenuButton else Standard.
                                         - Show Mailbox if Preference/AutoDownloadMailAttachments on ButtonClick.

Version: V5.2 R6.5

26/11/13 /MK Additional Feature - uFileAttachmentImport - Changed unit to allow VetLink files to be imported.
                                - MenuUnit - actImportVetDrugRegisterExecute - Open KingswoodMailbox if Preference/"Auto Download Mail Attachments" is ticked.
30/11/13 /MK Bug Fix - uGroupSetup - AddToGroup - If Feed Group then allocate feed with FeedRegimeID to FeedEvents table.
             Additional Feature - uGroupSetup - Change lMoveFeedDate to AllocDate and when AddToGroup make sure that deMoveFeedDate has a date.
                                              - If Feed Event then on AddToGroup allocate feed based on deMoveFeedDate but check for purchase date
                                                after deMoveFeedDate or date of birth after deMoveFeedDate.
01/12/13 /MK Additional Feature - uPurchase - Added ComboBox for Feed and Batch Groups.

Version: V5.2 R5.9

26/11/13 /MK Bug Fix - uICBFPCDownloadImporter - Changed AddBull to set Breeding to False if Pedigree but True if Service Bull.

Version: V5.2 R5.8

25/11/13 /MK Bug Fix - uLiveStockInvent - BCostTotal/CCostTotal - Convert to euro on Label Print not before as "Invalid Floating Point" appears for these values.

Version: V5.2 R5.7

18/11/13 /MK Bug Fix - DairyData - CalcCostAndQtyUsed - Exit calculation if PurchMultiplier and DoseMultiplier = 0.
21/11/13 /MK Bug Fix - uHUKIFarmEvents - Old method of MilkState was crashing.
             Additional Feature - uICBFPCDownloadImporter - Import Service Events and bulls for the previous lactation if ICBF Service Date is
                                                            greater than the previous lactation calving date.

Version: V5.2 R5.6

18/11/13 /MK Bug Fix - HealthFilterU - PrintVetPurch - Date labels only apply to Irish Report - Access Violation on NI Report.

Version: V5.2 R5.5

14/11/13 /MK Bug Fix - DairyData - New procedure, DeleteFaultyDryOffEvents, created that will delete drying off events
                                   that were created by the ICBF Milk Recording import in error. These events were appearing
                                   in the current lactation prior to this current lact calving date. Only run this fix for data with version
                                   number prior to V5.2R5.5.
                     - uAIMAnimalMovements - RecordMovementsOn - Allow duplicate NatID's for MovementsIn file.
                     - EventRecording - TEventTableBeforePost - cEventSource_Kingswood already sets ICBF and MPNotifed to True so
                                        this BeforePost should not be setting it back to False.

Version: V5.2 R5.4

14/11/13 /MK Bug Fix - uLiveStockInvent - Totals of Opening and Closing were left out of check for Bord Bia.
             Change - uICBFPCDownloadImport - Pedigree Records - Program will now update the pedigree (name,herdbookno) details
                                                                 of AID record/animal on the ICBF File.
             Additional Feature - uHealth - DrugUsedPropertiesCloseUp - Show warning if drug selected is NA drug.

Version: V5.2 R5.3

12/11/13 /MK Additional Feature - uHFSCalfReg - Some calves were not registering because there is a limit of 30 characters allowed
                                                for the dam name with HUKI. HUKI said that if we fill the DamPrefix field in the XML
                                                with Herd Prefix then we could just show the dam name in the dam name field in the XML.

Version: V5.2 R5.2

06/11/13 /MK Change - DairyData - DeleteEvent which is called by uEventFilter now updates Medicine Stock for Health, DryOff or Vaccination events.
                                - MediPurch - Add OnChange event for DrugID and Quantity fields.
                                              Moved UpdateMedicine from OnPost to OnQuantity Change.
                    - uMedicineSetup - Show Stock Level in Quantity in Stock as Quantity in Stock is DoseUnit quantity remaining where
                                       Stock Level is the Purchase Unit quantity remaining - SP/MK.
07/11/13 /MK Change - DairyData - CalcCostandQtyUsed - Had to change the in DrugQtyUsed calculation to use the PurchUnit as MedicineSetup
                                                       is now showing the Stock Level i.e. PurchQuantity remaining value.
                    - uHealth - Need to use both CalcDrugCost and CalcCostAndQtyUsed procedures in
                                RateApplicChange, xDaysChange and xTimesChange for the below reasons -
                                (1).CalcDrugCost required to calculate correct cost.
                                (2).CalcCostAndQtyUsed required to calc QtyUsed and save PurchUnit and DoseUnit to Health table.

Version: V5.2 R5.1

04/11/13 /MK Bug Fix - BreedingAnalysisFilt - Summary at the end of the report was only showing for Milk Value.
05/11/13 /MK Bug Fix - uAWEventsByGroup - GetAnimals - Do not exclude animals by date of birth >= 01/01/2008 if Dam or Stock Bull Events.

Version: V5.2 R5.0

30/10/13 /MK Bug Fix - CowRepFilt - ScaleDown - re-tag info for N.Ireland -
                                    Assigning value to string was causing Invalid Variant Type error - TGM reported.
31/10/13 /MK Additional Feature - MenuUnit - Show DryingOff Event if Suclker Herd - change caption to Weaning if Suckler herd. 
                                - uHealth - If WinData.EventType = TDryingOff and Country is Ireland and HerdType = Suckler then
                                            on Save of new drying off event create a Weaning event for calf of selected animal.
                                - DairyData - New procedure CreateCalfWeaningEvent to create weaning event for calf after Suckler herd weaning
                                              event saved for dam.
             Change - EventsNewRecord - DairyData - DryingOff - If Suckler herd then event desc defaults to Weaning.
01/11/13 /MK Additional Feature - uEventsByGroup - Allow Weaning/Drying Off events to be saved for Suckler herds.
                                                 - Create weaning event for calf of cow selected.

Version: V5.2 R3.8

18/10/13 /MK Change - MenuUnit - Change AIM "Calf Registration By Email" popup item caption to "Calf Registration Review" - GL.
22/10/13 /MK Bug Fix - HealthFilterU - Added routine to go through single animal records and add correct animal no/natidnum.
                                       Was adding same animal no/natidnum for each singe animal record found of drug.
23/10/13 /MK Change - MenuUnit - FormActivate - Check to see if first install and if so then show download new version prompt.
24/10/13 /MK Change - uAWEventsByGroup - No need to show DamNatID for Dam and Stock Bull Events.
                                       - Only include AFilter animals if WinData.ActiveFilter.
                                       - Only Dams if calved this year.
                                       - Show animals that regardless of InHerd status if EventType = TICBFCalfSurveyEvent or ICBFDamEvent.
25/10/13 /MK Change - uAWEventsByGroup - GetAnimals - Only show calves that were born from 2013.

Version: V5.2 R3.7

17/10/13 /MK Additional Feature - New unit - uUpdateHealthUnits to update health dose unit, purchase unit and costs
                                             by their medicine dose unit, purchase unit and costs - L.Clerkin.
                                - HealthFilterU, MedicalTreatments, MedicalPurchases - Added DateFrom and DateTo to Irish Vet Register and Irish Vet Purchase Report.
          Change - DairyData - Added NoDays&NoTimes As NoOfDoses to CalcCostAndQtyUsed.
                 - uHealth - Use WinData.WinData.CalcCostAndQtyUsed on xDays & xTimes.Change.
          Bug Fix - HealthFilterU - tmpReportTable error if trying to view the report after no records found on first run.
                                  - HFromDate and HToDate was not allowing blank dates - changed to cxDate.

Version: V5.2 R3.6

16/10/13 /MK Bug Fix - HealthFilterU - PDateFrom and PDateTo was not allowing blank dates - changed to cxDate.
                     - FeedPurchaseRep - ReportQuery not checking for blank dates.

Version: V5.2 R3.5

16/10/2013 /MK Bug Fix - HealthFilterU - No need to check for HerdID if viewing purchase reports.
                       - uHealth - DrugUsedCloseUp was closing qDrugList.
	       Change - uMedicineSetup - Allow VPA number to changed if not blank and give warning about Herd Sync problems.
                      - uHealth, uEventsByGroup - Changed columns in DrugUsed to show Name first and then Code.
15/10/2013 /SP Change - Changes in MenuUnit and uHerdSync for Paddy O'Neill VPA problem.

Version: V5.2 R3.4

14/10/2013 /MK Additional Feature - DairyData - New function IsN_A_Drug - check if drug is not available, not applicable or not appropriate.
                                                This is dependant on the either HerdType withdrawal field for drug is 9999.
                                              - Added new N_A_Drug Boolean to Medicine table.
                                              - uUpdateTables - Added new N_A_Drug Boolean to Medicine table.
                                              - uMedicineSetup - Added N/A check box - Check WinData.IsN_A_Drug.
                                                               - No need for Other Withdrawal fields - GL/NKearney.
                           Change - MenuUnit - actReviewMedicineExecute - Sort by Medicine Name not Medicine Code.

Version: V5.2 R3.3

10/10/2013 /MK Additional Feature - uDrugRegImportWithdrawal - Added N/A option.
               Bug Fix - uDrugsRegisterImport - Program was not saving DrugPurchId if drug purchase was found for existing medicines.

Version: V5.2 R3.2

09/10/2013 /MK Bug Fix - uListAnimals - If Events.State In Edit or Insert, when moving to the next AnimalFileByID record,
                                        Events table is naturally posted. If moving to next animal cancel Events updates
                                        before locate of animal.

Version: V5.2 R3.1

07/10/2013 /MK Bug Fix - uDrugsRegisterImport - I accidentally left off the editing for EventDate and Selected grid fields.

Version: V5.2 R3.0

30/09/2013 /MK Bug Fix - HealthFilterU - TotDrugCost calculatation differed to WinData.CalcCostAndQtyUsed calculatation used in single/block health event.
                     - uHealth - Added WinData.CalcCostAndQtyUsed to DrugUsedOnChange and ApplicRate on change to show
                                 DrugCost on screen instead of waiting for value to be posted to table before calculation.
             Additional Feature - HealthFilterU - Calculate total drug cost if EventCount > 1.
02/10/2013 /MK Additional Feature - uDrugRegImportWithdrawal - New Unit to allow user to enter Withdrawal days from uDrugRegisterImport.
                                  - uDrugsRegisterImport - Do not auto save health events.
                                                         - Used new unit, uDrugRegImportWithdrawal, to save new medicine withdrawal days.
                                                         - Allow user to enter NoDays and NoTimes for health event.
                                  - uHerdLookup - New record type for TDrugRegImportWithdrawalRec used in uDrugsRegisterImport.
            MK Change - uMedicineSetup - Added new column Band for Stock Control and moved QtyInStock & CostPerUnit into this band.
                                       - Moved InUse column into Detail Band.
                                       - Organised grid so that it has the same arrangement as top section.
03/10/2013 /MK Bug Fix - uGroupSetup - FormActivate - Change state of table to insert after DBGGroups sort changes state to browse.
                                                    - Only add new record if record not already added by FormType = 3.
                       - DairyData - UpdateMediPurchQty, DrugBatchQtyRemaining - Wrong calculation for Batch Quantity Remaining.

Version: V5.2 R1.6

26/09/2013 /MK Change - uMedicineSetup - Removed Add buttons from Purchase and Dose Unit combos - GL.
                                       - On CloseUp of Purchase or Does Unit don't show Unit Setup screen - GL.
                                       - If no PurchUnit selected and DoseUnit selected then set PurchUnit to DoseUnit.
                                       - Do not allow DrugCode, Name or VPANumber to be edit if not null - GL.
                      - UnitsSetup - Show warning on after form create.
27/09/2013 /MK Additional Feature - uMilkRec - Extract file from DSMember.exe with DynaZip instead of running
                                               exe file as exe file would not run with 64 bit.
               Bug Fix - uICBFEventExport - If ICBF File Directory did not exist and Beef system then program is not
               Change - DairyData - Set RequiredField Boolean to False for field Withdrawal in Medicine table.
                      - uMedicineSetup - Default Milk or Meat dbTextEdit components to clTeal depending on HerdType.
                                       - Depending on HerdType show warning if either Milk or Meat Withdrawal is empty.

Version: V5.2 R1.5

19/09/2013 /MK Change - MenuUnit - Do not show Single Animal Welfare - GL.
                                 - Change Group Animal Welfare to BDP / Welfare.
20/09/2013 /MK Change - MenuUnit - Changed the Bord Bia button within the Veterinary/Feeds to Review Medicines.
                                 - Review Medicines now shows the Medicine Setup screen in Edit mode.
                      - uAWEventsByGroup - Moved the Calf Quality and Calf Docility Events to the Calf Survey Event from Weaning.
                                         - Added colour to BDP Event pages (Calf Survey, Dam and Stock Bull Events).
                      - uICBFEventExport - Export Calf Quality and Docility for new Calf Survey Event.
                                         - Removed export of Calf Quality and Docility for Weaning.
                      - uHerdLookup - Added ICBF Calf Survey Event to mdEventTypes.
               Additional Feature - uAWEventsByGroup - Added Calf Survey Event.
                                                     - CalfSurveyEvent - Only show animals that are greater than 5 months old.
                                  - EventRecording - Added ICBF Calf Survey Event.
                                  - DairyData - New ICBF Calf Survey Event added.
                                  - uUpdateTables - Create new ICBF Calf Survey table.
                                  - uIndexes - Add Index for new ICBF Calf Survey Event.
                                  - GenTypesConst - New TEventType and Const for ICBFCalfSurveyEvent.

Version: V5.2 R1.4

17/09/2013 /MK Additional Feature - DairyData - IsAntibioticDrug - New function to check if DrugID is an Antibiotic.
                                  - HealthFilterU -
                                    - sbView.Click - Show animals that were dosed with an antibiotic drug as separate animals
                                                                   on the Block (non-individual treatment report).
                                    - Added Apply Animal Grid Filter CheckBox to view only animals in filter on report.
                                    - Only show Apply Animal Grid Filter for Veterinary Register.
                                  - MedicialTreatments - Show count of ReportTable.EventCount if BlockReport.
               MK Change - uHealth, uEventsByGroup -
                           - Moved Administer By so its above Prescribed By (Vet).
                           - Changed colour of Administer By and Prescribed By (Vet) to clTeal to show fields are important.
                         - uLiveStockInvent - Do not show Opening and Closing valuations if report ran from Bord Bia screen.
                         - uHeatServiceFilt -
                           - Changed caption of cbIncludeAnimalGridFilter to "Apply Animal Grid Filter".
                           - If checked then colour should be Blue not Red.
                         - uUpdateTables - UpdateGenLook - Change None Medicine Group type to Other - GL.
                         - uHerdLookup - QueryMedicineGroups - Removed order by Name.
                                       - Added check for name to ordered by Antibiotic, then Vaccine and lastly Other.
18/09/2013 /MK Change - uMedicineSetup - Changed Group to Type and changed name of cmboMedicineGroup to Type.
               Additional Feature - HealthFilterU, MedicalTreatmentsScr -
                                    - Added Prescribed By and Admin By Code and Name to bottom of report.
19/09/13 [V5.2 R1.4] /MK Change - HealthFilterU - Default EventDate filter on for BordBia.
                         Bug Fix - uICBFEventExport - SendToICBF - Don't empty table here as needed for MarkAsRegistered.

Version: V5.2 R1.3

16/09/2013 /MK Bug Fix - uMedicineSetup - FormCloseQuery - Cancel if state is dsInsert after post.
16/09/2013 /MK Change - uBordBiaPrint - Added Deaths(Purchase/Sales Analysis Deaths only) and
                                        Sales Summary(Livestock Inventory) reports.
                      - uLivestockSum, StockInHerdFilt -
                        Added AFromBordBia boolean to ShowTheForm to tell if unit is opened from Bord Bia screen.
17/09/2013 /MK Bug Fix - PregDiag - dbceDaysInCalfChange - Only show pServeBull if PDDaysInCalf > ServDaysInCalf - GL/HC.

Version: V5.2 R1.2

11/09/2013 /MK Change - uCrushBarcode - SaveAnimal - NewAnimal - Format tag of irish animals to have an IE to match with AIM Reconcile.
               Additional Feature - SetupAnimals - Add Feed Events page if Beef Herd and Beef Management module.
12/09/2013 /MK Change - SetupAnimals - Print Steer report for all sex types if Beef Herd and Beef Management module
                                       as Feed Events section only added to Steer Report. if Beef Herd and Beef Management module
                                       only Health and Feed Events matter.
               Additional Feature - AnimalPrint - qrSteer - Added Feed Events section and Feed Events select button.
                                                            Only visible if Beef Herd and Beef Management module.
13/09/2013 /MK Bug Fix - uHealth, uEventsByGroup - 
                        - WinData.CheckDrugBatchQtyRemaining - Check for null values before CheckDrugBatchQtyRemaining.
           /MK Additional Feature - DairyData -
                                   - New Types FMainGridSortBy and FMainGridSortOrder to store what Main Grid is sorted by so it can used in other screens.
                                  - uGroupSetup -
                                   - Insert record at start of Group Grid so user can see grid ordered by
                                     last entered record while adding a new record.
                                   - Take sort field and sort order from Menu Unit using WinData.FMainGridSortBy and WinData.FMainGridSortOrder.

Version: V5.2 R1.1

10/09/2013 /MK Additional Feature - uFilters - Allowed Calving and/or Calving Date filter to be added to Status filter.

Version: V5.2 R1.0

30/08/2013 /MK Change - uMediPurch - Execute - If AddRecord then change Height of form to hide grid.
                                   - Allow MedicineID to be passed to allow purchase of medicine from Health event.
                      - uHealth - dbHealthBatchNoPropertiesCloseUp - On "Purchase Medicine" always append new medicine purchase with MedicineID.
               Additional Feature - MenuUnit - Added Purchases to Medicine System Toolbar menu to allow edit of Medicine Purchases.
02/09/2013 /MK Additional Feature - uMedicineSetup - Show confirmation message and append after save of new medicine.
03/09/2013 /MK Additional Feature - uHealth, uEventsByGroup - Change DrugUsed to cxDBLookupCombo and added Add/Edit button beside DrugUsed.
                                  - DairyData, uUpdateTables - Added QtyRemaining Float field to MediPurch table.
                                  - DairyData - New public function DrugBatchNoInUse to check if DrugBatchNo dosed in Health.db.
                                              - Don't allow MediPurch record to be deleted if DrugBatchNoInUse.
                                  - uMediPurch - Added QtyRemaing to screen.
                                               - Show warning if user edits quantity and quantity is less than quantity remaining.
04/09/2013 /MK Additional Feature - uHealth - ApplicRate/BatchNo/Save - Check Quantity Remaing of Batch selected.
05/09/2013 /MK Additional Feature - uEventsByGroup - dbHealthBatchNoOnChange, TempAnimalsDrugBatchNoOnChange -
                                    - Check if quantity remaining of selected batch no is zero.
                                                   - ApplicRateOnChange, TempAnimalsApplicRateOnChange -
                                                     - Check if new quantity after applic rate on change will be less than drug batch quantity remaining.
09/09/2013 /MK Additional Feature - uEventsByGroup -
                                    - Service Events - Show animals in yellow that have been previously diagnosed pregnant.
                                                       If saved then edit existing PD event with a False status.

Version: V5.2 R0.3

04/09/13 /SP Change - uHerdSync - Changes for NI Colours.
                    - uUpdateTables - Added default colours.

Version: V5.2 R0.2

22/08/2013 /MK Bug Fix - HealthFilterU - Moved check for FPurchType to after SetupForm.
23/08/2013 /MK Bug Fix - EventsByGroup - GetDrugExpiryDate - Locate Expiry Date on DrugPurchID.
           /MK Additional Feature - uUpdateTables - Added PurchDoseRate to MediPur table.
                                  - uDrugsRegisterImport - Added DoseRate to import sequence.
                                  -                      - Save DoseRate as part of comment of saved Health events.
                                  - uMedicinePurchaseRepository - CreateMedicinePurchase - Added APurchDoseRate.
                                  - uDrugPurchTagDetails - Added PurchDoseRate from MediPur table to lDrugName.Caption.
                                  - uHealth, uEventsByGroup - On ApplicRateChange change comment to MedicineCode + ApplicRate + DoseRate.
26/08/2013 /MK Change  - uUpdateTables, DairyData, EventRecording -
                          - Added ManualComment field to store if user entered comment manually.
                          - If comment changed manually then don't update the comment by medicine name or applic rate + applic type.
28/08/2013 /MK Change - uHealth, uEventsByGroup -
                          - Store whether comment was changed manually by user or changed by program - medicine + dose rate + dosetype.

Version: V5.2 R0.1

21/08/2013 /MK Bug Fix - uMedicinePurchaseRepository - CreateMedicinePurchase - Saving ExpiryDate as PurchaseDate.

Version: V5.2 R0.0

14/08/2013 /MK Additional Feature - uBordBiaPrint - New unit added.
                                  - MenuUnit - New buttons added to show new Bord Bia form.
                                             - Only show new Bord Bia form buttons if Irish herd.
                                  - uImageStore - Added Printer image to ImageList16x16.

16/08/2013 /MK Change - CowRepFilt - Added ShowTheForm procedure to run with uBordBiaPrint.
                                   - Added code to print report for uBordBiaPrint.PrintAllReports.
                      - FeedPurchaseRep - Added TOutputType to allow report to be viewed or printed.
                                        - Change made to RunReport to pass in TReportOption and TOutputType.
                      - HealthFilterU - New ShowTheForm procedure added. Used in uBordBiaPrint.
                                      - New TPurchType added to differ between to purchase reports. Used in uBordBiaPrint.
20/08/2013 /MK Change - HealthFilterU - Added cbIndividualReport to allow for report to show all animals dosed
                                        with the same drug on the same date to be combined into one line or an Individual Treatment report.
           /MK Bug Fix - MenuUnit - Show ICBF/HUKI button if actICBFEventReg or actHUKIReg Visible.

Version: V5.1 R9.1

12/08/2013 /MK Change - MenuUnit - Show ICBF button for Irish Beef systems.
                      - SetupAnimals - Always show ETDam regardless of pedigree module - GL request.
           /MK Additional Feature - uUpdateTables - Create the ParlourLink table if it does not exist.

14/08/2013 /SP Additional Feature - uAPHISRegistration - Wrong XML Node Name for Birth Confirmation ID.

Version: V5.1 R9.0

08/08/2013 /MK Change - uDrugsRegisterImport
             - Allow for quotations in PurchaseDate, ExpiryDate and VPANum.

            /SP Mod - Hide/Disable email related options if the
                     AIM Client is installed and compatible with latest
                     version of herd.

            /MK BugFix - uHUKIFarmEvents
              - AddQMMSMilkData - Query needs to contain Animals.InHerd field for CheckAnimalExist to work.

Version: V5.1 R8.9

01/08/2013  /SP Added Feature - Animal Welfare Weaning Event
              - When creating the Weaning event the program will now
                create an additional weighing event if the
                WeightOnDate value is specified.
                Requested By - Gerard Brickley

            /SP Mod - Improved Calf Breed Detection at Calving time
              - To determine the correct calf breed we are now looking at the
                Gen Dam Breed (where Service type is Embryo Transfer) during
                creation of calving event (change to calving event screen only -
                not PDA/Farm Sync or other) Requested By - Gerard Brickley

            /SP Mod - Calving Event
              - Ensure calf breed value is cleared if/when no sire is selected.
                Requested by GL

            /SP Bug Fix - Service Event
              - When opening the individual service screen the program was
                checking the bullingEvent.plannedBull value and putting it into
                the service bull field. This is correct for insert mode, but
                not for edit mode. Changed to only populate service bull when
                in insert mode.
                Requested By - Gerard Brickley

            /SP Added Feature - Group Setup
              - The Group grid is now sorted by GroupId (desc).
                This will give the impression of sorting the groups by
                creation date.
                Requested By - Laurence Clerkin

            /SP Mod - ICBF Export
              - Only attempt to send files to ICBF if the email process does not
                report any errors during mail sending process.
                Requested by GL

29/07/2013  /SP Mod - Mail attachements
              - Each herd has now got its own dedicated mail attachment space.
                e.g instead of ../Mail Attachments/ICBF or ../Mail Attachments/Mart
                we now have ../Mail Attachments/X1234567/ICBF or ../Mail Attachments/X1234567/Mart
                Geraldine Carroll


//   iHerdVerNo = 5188; SP - 19/07/2013 / Bug Fix - Health Event - Searching animal by Search Box having undesired results
                                                                   if animal searching on did not contain value for search field.
                                                                   So if default search was by Animal No and the animal didn't have
                                                                   animal no. the health screen nav buttons remained disabled.

                                                                   uListAnimals.pas updated to ensure that nat id no is displayed in
                                                                   case's where animalno is unavailable.

                                        / Bug Fix - Health Event - The dbHealthBatchNoPropertiesEditValueChanged event did not contain
                                                                   a check to ensure Health table was in editmodes before changing field
                                                                   value. This problem occurred when switching between animals via Search Box.

//   iHerdVerNo = 5187; SP - 22/07/2013 / Bug Fix - Single Health - Incorrectly displaying error "Reason not Selected" - for ROI herds.
                                                    Block Health - Permitting save of event even if Reason is not selected - for NI Herds.

                                        / Bug Fix - Health Event - throwing error if no data for the detail table entered
                                          e.g. Drug, Health Code etc.



//   iHerdVerNo = 5186; SP - 19/07/2013 - Import of movements from AIM.
                                        - Introduction of AIM/ICBF Menu.

//   iHerdVerNo = 5185; //  15/07/13 [V5.1 R8.5] /MK Bug Fix - uSalesDeaths - CustomersChange - No locate of Customers.Value. Always set to first customer deduction + transport.
                        //  16/07/13 [V5.1 R8.5] /MK Change - uNIVetTreatments - Changes to report requested by TGM.
                        //  17/07/13 [V5.1 R8.5] /MK Change - uEventsByGroup - Allow Disease to be selected in MultiDrug Vaccination.
                        //  18/07/13 [V5.1 R8.5] /MK Change - uHealth - Changes to look of screen if THerdVaccination.

//   iHerdVerNo = 5184; //  12/07/13 [V5.1 R8.4] /MK Additional Feature - uHeatServiceFilt - Added Apply Animal Grid Filter check box to the report.

//   iHerdVerNo = 5183; //  11/07/13 [V5.1 R8.3] /MK Bug Fix - MenuUnit - ShowFeedPurchEvent - Program not checking if mode of database is in Insert or Edit Mode after FdStkEvents was posted.
                        //                       /MK Change - uDrugsRegisterImport - Changes made to either save purchase only or save both purchase and treaments automatically.
                        //                                                         - Changes made to allow treatment events to be modified before their saved.
                        //  12/07/13 [V5.1 R8.3] /MK Change - MenuUnit - Removed the word "Import" from each of the pmImportOptions items - GL.
                        //                                  - uDrugsRegisterImport - Changed caption of the form to Vet Link - GL.
                        //                                  - uHealth - Added VetLink button to Toolbar to open uDrugsRegisterImport.
                        //                                  - uMediPurch - Added VetLink button to Toolbar to open uDrugsRegisterImport.

//   iHerdVerNo = 5182; //  09/07/13 [V5.1 R8.2] /MK Change - MenuUnit - ShowParlourLinkScreen - Changes made for new Dairymaster Network Link in ParlourLink.
                        //                                  - uUpdateTables - Add UpdateParlourLink for use with Moo Monitor Events.
                        //  10/07/13 [V5.1 R8.2] /SP Change - DairyData - EventsBeforePost - Allow Services to be saved after sale event date.

//   iHerdVerNo = 5181; //  02/07/13 [V5.1 R8.1] /MK Bug Fix - uAnimalCart - Changes to count of Services1,2,3 and 4ormore.
                        //  08/07/13 [V5.1 R8.1] /MK Change - uDrugsRegisterImport - Added code to save Health event for animal with TagNoDesc from file.   

//   iHerdVerNo = 5180; //  01/07/13 [V5.1 R8.0] /MK Additional Feature - uFilters, uSQLFilters, MenuUnit - Changes for new filter by service count.
                                                                        - uUpdateTables - Added ServedCount to FilterTable.

//   iHerdVerNo = 5177; //  28/06/13 [V5.1 R7.7] /MK Bug Fix - uHerdStatistics - Checking for TempTechnician.RecordCount when the TempTechnican temp wasn't created.

//   iHerdVerNo = 5176; //  27/06/13 [V5.1 R7.6] /MK Bug Fix - Code left in Setup Animals to change Quality Assured that should not have been left.

//   iHerdVerNo = 5175; //  19/06/13 [V5.1 R7.5] /MK Change - uEventsByGroup - DrugUsedCloseUp - Change TempEventsEventDesc to Health + DrugCode.
                        //                                                   - Set new boolean FManualHealthComment if TempEventsEventDesc changed by user
                        //                                                     so program does not update TempEventsEventDesc with Health + DrugCode.
                        //  20/06/13 [V5.1 R7.5] /MK Change - uEventFilter - Change btnFilterByDate Caption to Apply Date Filter and removed icon.
                        //                                  - SetupAnimals - SexComboChange - If user changes animal sex from female to bull and animal has LactNo
                        //                                  - GenTypesConst - Changed NMR Download URL to http://www.nmr.co.uk/data-download/ - TGM Request.
                        //                                                                    greater than 0 then do not allow the sex to be changed.
                        //                                  - DairyData - OwnerFileUKMilkRecorder - If changed to "NMR" then update Milk Recording RegValue to "NMR".
                        //                           Additional Feature - DairyData - Save and Load new MartSaveSourceNameAsComment Preferences.
                        //                                              - GenTypes - New boolean variable for MartSaveSourceNameAsComment.
                        //                                                         - New Global Preference's Consts for MartSaveSourceNameAsComment.
                        //                                              - uGlobalSettings - New checkbox in Mart Files to store whether Mart Source is saved as Purchase/Sale Comment.
                        //                                              - uMartImportByFile - Check if GlobalSettings.MartSaveCommentAsSourceName then change Event Comment to Supplier/Customer Name.
                        //                                              - uWeighingFilt - Added Mean Weighing Date to Interval Report.
                        //  24/06/13 [V5.1 R7.5] /MK Change - uCalvingHistoryEntry - CalvingLactNo - Change to SQL to find next lactno.
                        //                                                       - FormCloseQuery - Allow calving to be saved if date is less than 335 days since last calving.
                        //                                  - DairyData - AnimalFileByIDBeforePost - If HerdType is Beef then don't create NewID event on change of AnimalNo.
                        //                                  - uKImport - If animal has AnimalNo then, if Beef Herd, don't create NewID event.
                        //  25/06/13 [V5.1 R7.5] /MK Change - uHerdStatistics - Don't run Calving Indices automatically - added button to run Calving Indices and show panel.
                        //                                                    - Don't run Herd Statistics when form opens - added button to run Herd Statistics.
                        //  25/06/13 [V5.1 R7.5] /MK Additional Feature - uUpdateTables - AddVaccinationDiseaseCode - Added Schmallenberg to list of diseases
                        //  26/06/13 [V5.1 R7.5] /MK Additional Feature - uCTSBirthReg - Added link to Calves Registered.
                        //                                              - uCalfRegReview - Show CTS Registered calves if Defaults.DefaultCountry is England.
                        //                                              - uElectWeigh - CreateExportFile - If TruTest allow file name to be entered by the user.
                        //                           Change - uMilkRec - ConvertDSMember - If DSMemberExeFileName is not on the C:\ drive then copy it to a temp directory.

//   iHerdVerNo = 5174; //  18/06/13 [V5.1 R7.4] /MK Additional Feature - uHerdStatistics - Created new Inseminator Rates based on None Return Rates.
                        //                                              - uDrugPurchTagDetails - New unit to show user tag description from Vet Purchase file.
                        //                                              - uEventsByGroup - dbcbDrugBatchNoPropertiesCloseUp - Show uDrugPurchTagDetails.
                        //  18/06/13 [V5.1 R7.4] /MK Additional Feature - StockInHerdFlt/uStockOnHandReport - If HerdType is Beef and
                                                                          Def.Defintion.dUseBeefMan then change last calving date to Quality Assured.

//   iHerdVerNo = 5173; //  22/05/13 [V5.1 R7.3] /SP Additional Feature - uAPHISRegistration - Changes for TGM.
                        //                       /MK Change - uCalvings - Only show compliance cert labels and checkbox if AIM does not exist.
                        //  04/06/13 [V5.1 R7.3] /MK Additional Feature - SetupAnimals - Added Quality Assured dbCheckBox for Beef Herd with BeefMan Module.
                        //                                              - AnimalPrint - New Quality Assured labels added to reports.
                        //                           Change - MenuUnit - Show QualityAssured Column if Definition.BeefMan and HerdType is Beef.
                        //  06/06/13 [V5.1 R7.3] /MK Bug Fix - uHerdLookup - GetEventDetails SubQuery crashing on SQL.Add. Added SQL.Clear and SQL.Text.
                        //                                   - ActionReminderFlt - BuildDueToPD - If PregDiag already exists then don't include animal if not service event exists.
                        //  11/06/13 [V5.1 R7.3] /MK Bug Fix - uMartImportByFile - PostPurchases - FMartTable not in Edit Mode to store price change after vat calc.

//   iHerdVerNo = 5172; //  20/05/13 [V5.1 R7.2] /SP Additional Feature - uHerdSync - Added changes for Purchases and MedicinePurchases.
                                                                        - MenuUnit - Changes to import new uHerdSync changes.

//   iHerdVerNo = 5171; //  07/05/13 [V5.1 R7.1] /MK Additional Feature - uHerdSync - Added HerdPreFix for FHerdNode.
                        //                           Bug Fix - uLivestockSum - Only run lactation check for animals that are in herd.
                        //                                   - uAWEventsByGroup - Added OnCloseUp Event to deEventDate - UpdateRecord only
                        //                                                        updates for animals that are selected.
                        //  08/05/13 [V5.1 R7.1] /MK Additional Feature - uMartImportByFile - PostFileDetails - Check whether GlobalSettings.ReviewMartFiles for mftXML File Types.
                        //                                              - DairyData - Save and Load new ReviewMartFiles & ShowBlockTempMovements Preferences.
                        //                                              - GenTypes - New boolean variable for ReviewMartFiles & ShowBlockTempMovements.
                        //                                                         - New Global Preference's Consts for ReviewMartFiles & ShowBlockTempMovements.
                        //                                              - uGlobalSettings - New tabs added to Event Defaults for Mart Files and Temp Move.
                        //  09/05/13 [V5.1 R7.1] /MK Additional Feature - MenuUnit - SetupForm - Check WinData.GlobalSettings.ShowBlockTempMovements
                        //                                                                       to show/hide Block Temp Movements.
                        //                                                       - BuildOnFarmEventsMenu - Check WinData.GlobalSettings.ShowBlockTempMovements
                        //                                                                                 to show/hide Temp Movements.
                        //                           Change - uUpdateTables - Changed LBirthType Descriptions in GenLook to include LookupCode as part of description.
                        //                                  - DairyData, uAIMAnimalRegistration, KRoutines - Change all references to LBirthType descriptions to new descriptions.
                        //  13/05/13 [V5.1 R7.1] /MK Additional Feature - uAWEventsByGroup - Added Dam and Stock Events for ICBF new Beef Data Program.
                        //                                              - uICBFEventExport - Added export of new ICBF Cow and Stock Bull events.
                        //                                              - DairyData - Events - Added code to allow for new ICBFDam and ICBFStockBull events.
                        //  15/05/13 [V5.1 R7.1] /MK Additional Feature - uHerdLookup - Added ICBFDam and ICBFStockBull events to mdEventTypes.
                        //                           Bug Fix - MenuUnit - EventGridAnimalEventsViewDblClick - Error if event deleted when GoToBookmark.
                        //  17/05/13 [V5.1 R7.1] /MK Additional Feature - MenuUnit - Added Q.A field to main grid for IAD to print/filter.

//   iHerdVerNo = 5170; //  24/04/13 [V5.1 R7.0] /MK Additional Feature - DairyData - Added new string field to Suppliers for BTEHerdNo.
                        //  25/04/13 [V5.1 R7.0] /MK Additional Feature - KRoutines - New function to get HerdID from String.
                        //                                              - uUpdateTables - Added BTEHerdNo to SuppliersBreeders.
                        //                                              - uSuppliers - Added BTEHerdNo.
                        //  03/05/13 [V5.1 R7.0] /MK Additional Feature - MenuUnit - pmImportOptions - Added item for new uDrugsRegisterImport.
                        //                                              - New unit uDrugsRegisterImport.
                        //                        Bug Fix - DairyData - CreateMooMonitorEvents - Program was re-importing Bulling Events from service events
                        //                                                                       that were sent to Dairymaster through ParlourLink.
                        //                        Change - MenuUnit - ShowDraftGroupsMenu - Changed check for Dairymaster Milk Manager instead C:\Drafter\Drafter.exe

//   iHerdVerNo = 5164; //  24/04/13 [V5.1 R6.4] /SP Additional Feature - uHerdSync - Changes for syncing calves to the server.

//   iHerdVerNo = 5163; //  12/04/13 [V5.1 R6.3] /MK Additional Feature - DairyData - Added check for duplicate TranpsonderNo's.
                        //                                              - MenuUnit - Added search by TransponderNo for Parlour Link users.
                        //                           Bug Fix - MenuUnit - Added TBookMark to store cursor position on EventGridAnimalEventsViewDblClick.
                        //  17/04/13 [V5.1 R6.3] /MK Change - uHealth - ShowHealth - If amending then show all Medicine's. If adding show In Use medicines.
                        //  19/04/13 [V5.1 R6.3] /MK Additional Feature - MenuUnit - Added TransponderNo Column for Parlour Link users.

//   iHerdVerNo = 5162; //  09/04/13 [V5.1 R6.2] /MK Bug Fix - StockInHerdFlt - Animals with blank breeds not appearing Purch/Sales Analysis.
                        //                       /SP Change - uHerdSync - Changes for Veterinary App.
                        //                       /MK Additional Feature - DairyData - New Public Function to get Last Preg Diag Calf Type.
                        //                                              - uCalvings - New label added to show Projected Calf Sex from PD.
                        //  10/04/13 [V5.1 R6.2] /MK Change - uEventsByGroup - If MultiDrug and EventType is DryOff then create Health Event for second drug.

//   iHerdVerNo = 5161; //  02/04/13 [V5.1 R6.1] /MK Additional Feature - uUpdateTables - New field - QualityAssured - added to Animals table added for IAD use.
                        //                                              - DairyData - New field - QualityAssured - added to Animals table added for IAD use.
                        //  03/04/13 [V5.1 R6.1] /MK Additional Feature - uCrushBarcode - Added Quality Assured Yes/No combo for IAD.
                        //                                              - DairyData - LoadPreferences - Default DownloadMailAttachments on if DefaultMailClient is Gmail.
                        //  04/04/13 [V5.1 R6.1] /MK Additional Feature - uPreSale - Added button to import last weight from last weighing event.
                        //                           Bug Fix - Weighing - EditWeight.OnExit caused "Invalid Variant Type" error if blank weight.
                        //                           Change - uDanRyanImport - Create PregDiag event for all EventGroups from DanRyan.

//   iHerdVerNo = 5155; //  19/04/13 [V5.1 R5.5] /MK Change - uCalvings - sbSaveCalvings - No need for "This event cannot be deleted once saved".
                        //                        Bug Fix - DairyData - CreateMissingCalvingsForDams - Don't add calving if calving found in last 3 months.

//   iHerdVerNo = 5154; //  26/03/13 [V5.1 R5.3] /MK Additional Feature - DairyData - AddVaccinationDiseaseCode - Added RSV and Ringworm to list of diseases.
                        //                           Change - uHerdLookup - qHerdVaccineType - Removed check for codes KH1-KH6 in SQL.
                        //  28/03/13 [V5.1 R5.4] /MK Change - uHUKIFarmEvents - If CIS or NMR export PedigreeBreedCode.
                        //                                  - uEventsByGroup - PregDiag - OnChange of PDStatus changes.
                        //                                  - DueToCalve - Moved PDStatus to the left to stop it from being squashed against CalfType.
                        //                                  - ActionReminderFilt - PdScr - LastBullColumn overwriting ServiceType - Change qrlLastBull not AutoSize adjusted width.
                        //                           Additional Feature - DairyData - New procedure to ClearAllBullsInUse.
                        //                                              - MenuUnit - Added new utility item to MenuBar for RemoveAllBullsInUse.
                        //                                              - HerdPassword - Added new TPasswordAction for BullsInUse - call WinData.ClearAllBullsInUse.
                        //                                              - DairyData - New DataSource and Query for LookupCustomers, LookuSuppliers & LookupBuyers.
                        //                           Change - uSalesDeaths, uPurchases, uBBPurchScr, uCrushSalesGroup, uKImport, uGroupSetup, StockInHerdFilt,
                        //                                    uSalesReport  -
                        //                                    - Changed combo's LookupSource to new DairyData DataSource's for customers, suppliers and buyers.
                        //  02/04/13 [V5.1 R5.4] /MK Bug Fix - uHUKIFarmEvents - AddLeftHerdData was at end of block of events - J.W CIS.

//   iHerdVerNo = 5153; //  14/03/13 [V5.1 R5.3] /MK Change - uICBFPCDownloadImporter - Finished off the coding for Pedigree Import.
                        //  15/03/13 [V5.1 R5.3] /MK Additional Feature - DairyData - FdStkEvents - Added check for FeedType and Purchase Date before post.

//   iHerdVerNo = 5152; //  12/03/13 [V5.1 R5.2] /MK Bug Fix - BrowseRegisterU - AnimalFileAdd - Not updating Breeding or AnimalDeleted in AnimalFileByID.
                        //                                   - MenuUnit - Clear FFilter.AIBullSQL after Clear Select.
                        //                                   - uFeedPurch - Append new record after Post.
                        //                                   - DairyData - Events added to FdStkEvents table.
                        //                            Change - uIndexes - Added index to FdStkEvents.ID.
                        //                                   - uHerdRec - Added QuickReportFilters for Web, CSV, XL, Word and Text.

 //   iHerdVerNo = 5151; //  08/03/13 [V5.1 R5.1] /MK Bug Fix - uDanRyanImport - Not working for multiple herds in the same database.

 //   iHerdVerNo = 5150; //  06/03/13 [V5.1 R5.0] /MK Bug Fix - FertAnalysisRpt - Fix for CalveToConception always showing zero.
                         //                                   - BreedingAnalysisFilt - Not showing Feed Margins from calculation SQL if null Feed Margin.
                         //                                   - BestCowsInHerd - Removed OnPrint for FeedMargin and Milk Value as SQL already allows for null Feed Margin.
                         //                                   - MenuUnit - Changes to pmAIMMovements as requested by GL.  

 //   iHerdVerNo = 5149; //  05/03/13 [V5.1 R4.9] /MK Bug Fix - MenuUnit - Removed OnGridLayoutChange code as it was causing errors on main grid.
                         //                        MK Change - DairyData - Added check to CheckForRelinkCalvesToDam for missing events for dam.
                         //                                  - uMedicineSetup - Set Properties.MaxLength to 3 of all Withdrawal Fields.
                         //  06/03/13 [V5.1 R4.9] /MK Change - uGlobalSettings - Moved cbUseNatIDAnimalNo from General table to Event Defaults/Calvings.
                         //                                  - DairyData - New global boolean FRequiredCalvingFix.
                         //                                  - MenuUnit - ShowCalfReg - Check for WinData.FRequiredCalvingFix.

//   iHerdVerNo = 5148; //  01/03/13 [V5.1 R4.8] /MK Change - DairyData - Change made to MissingCalvingEventsFound - beter logic.

//   iHerdVerNo = 5147; //  27/02/13 [V5.1 R4.7] /MK Bug Fix - uMartImportByFile - PostPurchases - BuyerID was not being set by FMartTable if BuyerID exists in FMartTable.
                        //                                   - MenuUnit - New Boolean FAnimalSearching checked for reseting of SearchColumn Items.
                           
//   iHerdVerNo = 5146; //  20/02/13 [V5.1 R4.6] /SP Change - MenuUnit - Rebuild Search Column List on Name Column Visible.
                        //                                             - Remove second prompt on New Version download.
                        //                                  - uMilkRec - New logic for importing Drying Off events.
                        //                                  - uCalvings - Allow text from Calf Name to search in Ped Name.
                        //                                  - uPedName - Allow search from uPedName show.

//   iHerdVerNo = 5145; //  20/02/13 [V5.1 R4.5] /MK Change - uElecWeigh - Allow for different TruTest File types where NatID is different in each file.

//   iHerdVerNo = 5144; //  19/02/13 [V5.1 R4.4] /SP Change - uAIMAnimalRegistration - New logic for dead calves.

//   iHerdVerNo = 5143; //  18/02/13 [V5.1 R4.3] /MK Bug Fix - PregDiag - Wrongly only posting to PregDiag if Service Bull was entered.
                        //                           Change - uCrushXML - Added code back in for Purchase Group or AnimalGroup.

//   iHerdVerNo = 5142; //  14/02/13 [V5.1 R4.2] /SP Change - uHerdSync - Pedigree Name sync.

//   iHerdVerNo = 5141; //  06/02/13 [V5.1 R4.1] /MK Additional Feature - MenuUnit - SetupForm - GL asked me to add pmiHeifers for Dairy Herds before Dairy & Beef Heifers.
                        //                                                         - Changed captions of Movements In and Out buttons.
                        //  08/02/13 [V5.1 R4.1] /MK Additional Feature - Made sure SQLFilters temp tables are cleared on program close.
                        //  09/02/13 [V5.1 R4.1] /MK Additional Feature - uCTSBirthReg - Check to see if RelinkCalvesToDams needs to run.
                        //                                              - uAPHISRegistration - Check to see if RelinkCalvesToDams needs to run.
                        //                                              - DairyData - Procedure added to check to see if RelinkCalveToDams needs to run.
                        //                           Change - DairyData - RelinkCalvesToDams - Update Calvings coded added.
                        //                                  - uICBFEventExport - Check to see if RelinkCalvesToDams needs to run.
                        //                                  - uCalfRegFlt - Check to see if RelinkCalvesToDams needs to run.
                        //                                  - uAIMAnimalRegistration - Check to see if RelinkCalvesToDams needs to run.
                        //                                  - DairyData - RelinkCalvesToDams - Period can be 1 month or 3 months.
                        //  11/02/13 [V5.1 R4.1] /MK Additional Feature - GenTypesConst - Added New Breeds.
                        //                           Change - GenTypesConst - Changed Breed Code of Blue Galloway to BY instead of BG.
                        //  12/02/13 [V5.1 R4.1] /MK Bug Fix - uUpdateTables - AddVaccinationDiseaseCode - Exit procedure if Vaccine List Type found.
                        //  13/02/13 [V5.1 R4.1] /MK Additional Feature - DairyData - Functions created to check Animals and Events table for Calvings.
                        //                                              - MenuUnit - Check for Invalid Calvings on Calf Reg click.

//   iHerdVerNo = 5140; //  30/01/13 [V5.1 R4.0] /MK Additional Feature - uEventsByGroup - Allow PregDiag to update existing negative PregDiag event.
                        //                                              - DairyData - UpdatePregDiagEvent - New procedure to update existing PD Event.
                        //  31/01/13 [V5.1 R4.0] /MK Additional Feature - uEventsByGroup - Change EventDesc if Pregnant and DaysInCalf > 0.

//   iHerdVerNo = 5139; //  22/01/13 [V5.1 R3.9] /MK Additional Feature - uFilters - Added Filter by RationCalc 7 Day Milk Average - TGM.
                        //                                                         - uUpdateTables - UpdateFilterdb - Added RatCalcMilkYield boolean.
                        //                                              - MenuUnit - SetUpQuery - Code added to filter by RationCalc 7 Day Milk Average.
                        //                                              - uHerdLookup - New Function to GetAnimalsWithRatCalcMilkYieldBetween.

//   iHerdVerNo = 5138; //  11/01/13 [V5.1 R3.8] /MK Additional Feature - MenuUnit - Added new submenus for Medicines and Feeds to System Files menu.
                        //                                              - HealthFilterU - Added PrescribedBy fields.
                        //                                              - MedicalTreatments - Added PrescribedBy to the report.
                        //                           Change - uEventsByGroup - Health - Moved Administered By before Prescribed By.
                        //  15/01/13 [V5.1 R3.8] /MK Additional Feature - uMedAdminSetup - Added type for FAdminType. Change caption to Adminstrator or Prescrbied by depending.
                        //                                              - uMPEvents, uHealth, uEventsByGroup, MenuUnit - Added AdminType to uMedAdminSetup.ShowTheForm.
                        //                       /MK Bug Fix - actShowAllHeadersExecute - Second SQL to bring to only show non-completed loads did not contain GroupID field.
                        //  16/01/13 [V5.1 R3.8] /MK Additional Feature - uCrushSalesGroup - Add Report Title of Group Name on print of Active Headers.
                        //  17/01/13 [V5.1 R3.8] /MK Additional Feature - SetupAnimals - Changed Dam and ETDam components to DBLookupComboBoxes.
                        //                                              - Services - Changed Donor Dam component to DBLookupComboBox.
                        //                           Change - ActionReminderFlt - BuildDueFirstService - Don't restrict by 0 lact animals that are less than a year old.
                        //                                  - DueFirstService - Changed left of AnimalNumber qrlabels and qrdbtexts to look better on the report.
                        //                                  - HealthFilterU - QRLabel9 - Changed caption to Comment to match Single & Group Health screens.
                        //  18/01/13 [V5.1 R3.8] /MK Bug Fix - uReports - Fixed problem where user can't turn off ReportFilters.
                        //                       /MK Change - uAPHISRegistration - Create APHIS File is now non existent - TGM.
                        //  21/01/13 [V5.1 R3.8] /MK Change - uHerdLookup - THealthWithDrawalInfo - Added separate dates for Meat, Milk, Other & Organic Meat, Milk, Other.
                        //                                  - uDrugWithdrawalMsgDlg - Check for Milk Withdrawal is after calving date but before Meat and Other Withdrawal dates.
                        //                                  - ActionReminderFlt - DueToCalve - Check for Milk Withdrawal is after calving date but before Meat and Other Withdrawal dates.

//   iHerdVerNo = 5137; //  07/01/13 [V5.1 R3.7] /MK Change - uBeefAISireRegister - Change of rules for downloading file.
                        //  08/01/13 [V5.1 R3.7] /MK Additional Feature - ActionReminderFilt - DueFirstService - Add counts to report if no animal numbers or no breeding history.
                        //                                              - DueFirstService - Add counts to report if no animal numbers or no breeding history.
                        //                       /MK Bug Fix - uEventFilter - EventGridDoubleClick - Not able to edit Milk Temperament events.
                        //                                   - FertAnalysisRpt - BullCode was overwriting PDStatus if very long BullCode.
                        //                                   - uKImport - AnimalDataGridManualNatIDNumValidate - New checked added for AllowDuplicateNatID's.  
                        //  09/01/13 [V5.1 R3.7] /MK Change - uEventsByGroup - LoadLastYearsMilkTempScore - No need for date restriction.
                        //                                  - uSalesDeaths - Deaths - show the Deductions field and change label caption to "Knackery Costs'.
                        //                                  - GenTypesConst - Added new list type for LVaccination_DiseaseCode.
                        //                                  - uHerdLookup - qHerdVaccineTypeBeforeOpen - Changed Param to look at new LVaccination_DiseaseCode ListType.

//   iHerdVerNo = 5136; //  19/12/12 [V5.1 R3.6] /MK Additional Feature - uFilters - Added gbMilkYield & added MilkYield fields to FilterTable.
                        //                                              - uHerdLookup - New Function to GetAnimalsWithMilkYieldBetween.
                        //                                              - MenuUnit - SetUpQuery - Code added to filter by 305 day Milk Yield.
                        //                                              - uUpdateTables - Added 305 day Milk Yield fields to flt table.
                        //  03/01/13 [V5.1 R3.6] /MK Bug Fix - uMilkDiskReview - Report shows 1 decimal place for BFat and Prot where they should always be 2 decimals.
                        //                                   - uHerdLookup - GetAnimalsWithMilkYieldBetween - Show Yield of Current Lactation not last completed lactation.
                        //                                                                                  - Show Daily Yield instead of 305Yield
                        //  04/01/13 [V5.1 R3.6] /MK Change - uFilters - Change gbMilkYield Caption to Last Test Yield to match change to HerdLookup SQL. 

//   iHerdVerNo = 5135; //  05/12/12 [V5.1 R3.5] /MK Bug Fix - StockInHerdFilt - LoadOtherData - Program was displaying the wrong LactNo for historical stock date.
                        //                                   - uEventsByGroup - uMedicineSetupClick - Check if DrugUsed.KeyValue is ''. If so then uMedicineSetup.ShowForm on 0.
                        //                                                    - GroupListing.DisplayEmpty changed to <Add>.
                        //                                   - uVaccineDueOn - deNewEventDate - Close table and then execute query instead of execute query and refresh table.
                        //                                   - GroupListing.DisplayEmpty changed to <Add>.
                        //  11/12/12 [V5.1 R3.5] /MK Change - uCalvings - CheckAnimal - Removed this DryOff message as message already in MenuForm and uPhoneLinkEventsReview.
                        //                       /MK Bug Fix - PregDiag - dbceDaysInCalfPropertiesChange - Error if no Service Days In Calf found.
                        //                       /MK Additional Feature - MenuUnit - Added Drafting to Cart Menu.
                        //  13/12/12 [V5.1 R3.5] /MK Bug Fix/Change - uVaccineDueOn - Various changes to screen.
                        //  14/12/12 [V5.1 R3.5] /MK Additional Feature - uKImport - Added the TransponderNo to the Import and Export XML procedures.
                        //                       /MK Change - MenUnit - On Cart/Drafting/Draft Group Click open ParLink with selected draft group from Cart.
                        //                                  - uCallToExternalProgram - Changes made to ParLink program call.
                        //  18/12/12 [V5.1 R3.5] /MK Change - uEventsByGroup - OnPageChange - set dbseDaysToRemind.Enabled to False.
                        //                                                   - Moved OnPageEnter commands to OnPageShow.
                        //                                  - uHealth - Various changes made when amending Vaccination Event.
                        //                                  - uVaccineDueOn - Changes to grid if Vaccine or Health Event.
                        //                                  - uStartupReminders - ProActive Breeding Due to Reports only show if reports are enabled.
                        //                           Bug Fix - uElecWeigh - Program matching on null animal no.
                        //  19/12/12 [V5.1 R3.5] /MK Additional Feature - uElecWeigh - If DigiStar then read individual event dates from each animal line.
                        //  20/12/12 [V5.1 R3.5] /MK Bug Fix - uMedicineSetup - On Exit Button click change.
                        //                                   - uVaccineDueOn - If Health/Dosing Review and no Health Code review screen shows blank.

//   iHerdVerNo = 5134; //  05/12/12 [V5.1 R3.4] /MK Bug Fix - uHealth - Program was wrongly repeating the batch number, if manually entered, on the drop-down-list.

//   iHerdVerNo = 5133; //  04/12/12 [V5.1 R3.3] /MK Additional Feature - uWeighingFlt - Added new Target Weights Report for Latest Weighings.
                        //                                              - DairyData - New TargetWeights table.
                        //                                              - uUpdateTables - New TargetWeights table.

//   iHerdVerNo = 5132; //  21/11/12 [V5.1 R3.2] /MK Additional Feature - uICBFPCDownloadImporter - Added import of Weighing Events for zero lact in herd animals.
                        //                                              - ICBFPCDownload - Added class for Weighing Events.
                        //                                              - uTagReplacements - Added field for SortNatID.
                        //                                              - uTagReplacementForm - Added field for SortNatID.
                        //  27/11/12 [V5.1 R3.2] /MK Change - uLivestockSum - Moved date validation to sbViewOnClick.
                        //  28/11/12 [V5.1 R3.2] /MK Change - uCrushXML - Allow SalesDeath.Sold to be import/exported by XML.
                        //                                  - uMartImportByFile, DairyData, uKImport, uRemittanceRecord, and uBBPPurchScr
                        //                                    Changes made in these forms for SaleDeath.Sold boolean.

//   iHerdVerNo = 5131; //  30/10/12 [V5.1 R3.1] /MK Additional Feature - New unit - uStartupReminders.
                        //                       /MK Change - MenuUnit - Removed sections of code that were added to uStartupReminders.
                        //                                  - uGlobalSettings - Added StartupReminders.
                        //  14/11/12 [V5.1 R3.1] /MK Additional Feature - New unit uCrushXML added to project.
                        //                                              - uMartImportByFile, DairyData, uKImport, uRemittanceRecord, and uBBPPurchScr
                        //                                                changes made to add Sales or Purchases to XML Files for Crush users.
                        //                                              - uDataBackup - Changes made to import Crush Purchase or Sales XML Files for Crush users.
                        //                                              - MenuUnit - Added MenuItem for Import Office XML Files for Crush users like IAD.

			
//   iHerdVerNo = 5113; //  30/11/12 [V5.1 R1.3] /MK Change - uKImport - Sort qCustomers by Name.

//   iHerdVerNo = 5112; //  22/11/12 [V5.1 R1.2] /MK Bug Fix - PregDiag - Forgot to move Cull Cow button after adding the pServeBull panel.
                        //  23/11/12             /MK Bug Fix - uMilkRec - ProcessMMRFile - Change MatchField and CurrAnimalSearch to AnimalID of live duplicate NatIDNum if one found.
                        //                                   - uEventsByGroup - Vaccination Event - SelectAllOnClick rule changed. Now check Disease on Save not SelectAll.
                        //                                   - uGroupSetup - deMoveDate - Program allowed sale date to be entered in the future.
                        //                                   - uAWEventsByGroup - UpdateAnimals - WeaningDate was never being set. Code was for MealFeedingDate even though MealFeedingDate is already set.
                        //                                   - uFeedAlloc - StopFeedForAnimal - When code was added to update FeedStockQuantity the end date of the FeedEvent was never updated.
                        //                                   - uAPHISRegistration - sbCreateXMLFile Caption was not changing as code for changing caption was RegistrationPages.OnChanging and not OnChange.
                        //                                   - uFeedEventFilter - Code put in place to delete Feed Regime aswell as events but code was never implemented.

//   iHerdVerNo = 5111; //  15/11/12 [V5.1 R1.1] /MK Change - uTempMovementsIn - New way to find Movements by Object of GroupID.

//   iHerdVerNo = 5110; //  14/11/12 [V5.1 R1.0] /MK Additional Feature - DaysInCalfOnChange - PregDiag - If DiffDaysInCalf > 21 then show Service Bull option.

//   iHerdVerNo = 5109; //  12/11/12 [V5.1 R0.9] /MK Bug Fix - MenuUnit - GetAnimalIdsBySqlFilter - If AWhatSQL in cAllHeifersThisYear,cAllHeifersLastYear then don't do BreedingStockSQL.
                        //                           Additional Feature - uSQLFilters - Changes to OpenSQL for AllHeifers Animal Category Select.

//   iHerdVerNo = 5108; //  06/11/12 [V5.1 R0.8] /MK Bug Fix - uElecWeigh - Check if file has leading zero's before TempTable is filled with animals.
                        //                                   - ActionReminderFlt - DueToPD - DueToPDDate was showing null date of 30/12/1899.
                        //  07/11/12 [V5.1 R0.8] /MK Bug Fix - MenuUnit - SetupQuery - Program was not setting FSQLFilter.SQLOp for BornIntoHerd.

//   iHerdVerNo = 5107; //  30/10/12 [V5.1 R0.7] /MK Bug Fix - uMilkTank - Fixed up some textual differences for Gerry.
                        //  31/10/12 [V5.1 R0.7] /MK Bug Fix - uActionWarningReminders - CalcDueDryOffCalve- If IsPreg is "No" then DueCalveDate = 0.
                        //                       /MK Change - uHealth/uEventsByGroup - If Adding a Health or DryOff then if Country is England then DaysToRemind is 7 else DaysToRemind is 0.

//   iHerdVerNo = 5106; //  25/10/12 [V5.1 R0.6] /MK Bug Fix - uHealth - Fix for qDrugBatchNo. Drop-down-menu datasource being set with query closed.

//   iHerdVerNo = 5105; //  19/10/12 [V5.1 R0.5] /MK Change - uMilkTank - Changed layout of Filter options - program now allows for both filter of statement and tank.
                        //  22/10/12 [V5.1 R0.5] /MK Change - ConvertDSMember - Delete Exe and Dat files after file is read to converted.

//   iHerdVerNo = 5104; //  16/10/12 [V5.1 R0.4] /MK Bug Fix - StockInHerdFlt - LoadOtherDate - Removed ( not(cbUseFilter.Checked) ).
                        //                                     - uFilters - Set whether StockDate is enabled or not on Form Activate.
                        //                       /MK Additional Feature - uKImport - Customers drop down now shows Herd Number after name.
                        //  17/10/12 [V5.1 R0.4] /MK Additional Feature - PregDiag - Create Service Event from Bull Used and Days In Calf.
                        //                                              - uHealth - Added check for active medicines.
                        //                                              - DairyData - New public property to check for active medicines.
                        //                                              - uEventsByGroup - Added check for active medicines for Health, DryOff and Vaccination events.
                        //  18/10/12 [V5.1 R0.4] /MK Additional Feature - uBeefAISireRegister - LoadFile - Set WinData.BeefAISireFile to nil if file does not exist on hard drive.
                        //                       /SP Change - Added support in uHerdSync.pas for Remedy & Dry off events.
                        //                       /MK Change - uEventsByGroup - dbcbCalfType - Added an OnCloseUpEvent to Update Animals.

//   iHerdVerNo = 5103; //  10/10/12 [V5.1 R0.3] /MK Change - uLiveStockInvent - QRLabel56 not enabled anymore.
                        //                       /MK Bug Fix - uEventsByGroup - Added UpdateGrid procedure to fix Martin Brosnan Weighing problem.
                        //                                   - uMilkTank - Prompt save of database after import.
                        //  11/10/12 [V5.1 R0.3] /MK Change - uKImport ExportToXML - Introduced new logic to save multiple files if AnimalCount is more than FMaxAnimalsInXMLExport.
                        //  12/10/12 [V5.1 R0.3] /MK Additional Feature - uEventsByGroup - User can now enter Batch Number manually.

//   iHerdVerNo = 5102; //  05/10/12 [V5.1 R0.2] /MK Additional Feature - uCreateEvents - Created ProcessTempMovements.
                        //  05/10/12 [V5.1 R0.2] /MK Change - DairyData - Created UpdateTempMovementEvents procedure.
                        //                                  - uTempMovementsIn - Chanaged to WinData.UpdateTempMovementEvents.
                        //                                  - uElecWeigh - Change made to export animals from AFilters table.
                        //                       /MK Bug Fix - uFilters - Fix for if FromLactNo = 0 and ToLactNo = 0 No filter is being applied.
                        //  08/10/12 [V5.1 R0.2] /MK Change - uEventsByGroup - Changed to MultiLine layout.
                        //                       /MK Additional Feature - uCrushSalesGroup - Changes as requested for IAD.
                        //                       /MK Bug Fix - uCrushBarcode - Added OnExit event for teNatIdNo so imgOK appears if tag typed.
                        //                                   - uCrushSalesGroup - Remove animal was not removing event records for weighings or pre-sale.
                        //                                   - DairyData - CTSBirthRegCount - Function was checking for animals with null tag numbers.

//   iHerdVerNo = 5101; //  02/10/12 [V5.1 R0.1] /MK Additional Feature - uEventsByGroup - Added Planned Bull Event.
                        //                                                               - Services - Default Bull to Planned Bull.
                        //                                              - Services - FormShow - If PlannedBull Event Exists then Default Service Bull to Planned Bull.
                        //                                              - DairyData - New Function to GetPlannedBull for Animal selected.
                        //                       /MK Change - Bullings - New TAddOrAmendBulling Type for AmendPlannedBull to change Form Caption to Planned Bull.
                        //  03/10/12 [V5.1 R0.1] /MK Bug Fix - uCrushSalesGroup - HeaderGridDBTableViewPrintLoad - Component of AnimalGridPrintLink was lost by Delphi.

//   iHerdVerNo = 5100; //  25/09/12 [V5.1 R0.0] /MK Bug Fix - uEventsByGroup - btnSelectAll - If HerdVaccination then check that disease is selected before Select All.
                        //  27/09/12 [V5.1 R0.0] /MK Change - DairyData - Write Preferences to Registry - Do not display Getting Started by Default.
                        //  28/09/12 [V5.1 R0.0] /MK Additional Feature - MenuUnit - FormActivate - If Vaccination Events then show Herd Vaccination Report.
                        //                                              - DairyData - New function to check if Vaccination Events exist.
                        //                                              - uTempMovementsIn - Allow animals to be deselected and not saved.
                        //  01/10/12 [V5.1 R0.0] /MK Additional Feature - uVaccineDueOn - Added Options button to chose Run on Program Startup.
                        //                                              - uPreferences - Added ShowVaccineRemindersOnStartup registry Item.
                        //                                              - DairyData - Save ShowVaccineRemindersOnStartup registry Item.
                        //                                              - MenuUnit - Read ShowVaccineRemindersOnStartup.

//   iHerdVerNo = 5099; //  11/09/12 [V5.0 R9.9] /MK Change - uMartImportByFile - PostPurchases - Post purchase if animal exists without a purchase.
                        //  12/09/12 [V5.0 R9.9] /MK Bug Fix - MenuUnit - SetupForm & CheckMods - Changes made for switching Country while program is open.
                        //                                   - uEventsByGroup - Set BVDTest and MilkTemperament TabVisible if HerdType = Beef.
                        //                       /MK Change - MenuUnit - Changes to grid header font style.
                        //  13/09/12 [V5.0 R9.9] /MK Change - uDanRyanImport - Get twins if event code shows two calf sex with space in the middle.
                        //                       /MK Bug Fix - uFertIndicesRpt - Fixed MessageDlg new line problem and null date showing on report.
                        //  14/09/12 [V5.0 R9.9] /MK Additional Feature - GenTypesConst - Added New EventType and Constant for HerdTest and Vaccination.
                        //  17/09/12 [V5.0 R9.9] /MK Additional Feature - uUpdateTables - Added new health, non-user-can-delete, codes for Herd Vaccine's.
                        //                                              - uHerdLookup - Added new Query, DataSource and EditRepository for Herd Vaccine Type.
                        //                                              - uEventsByGroup - Added Herd Test and Vaccine events plus other changes.
                        //                       /MK Change - DairyData - Changes made to allow for new HerdVaccination EventType.
                        //                                  - MenuUnit - Changes made to allow for new HerdVaccination EventType.
                        //                                  - uHealth - Changes made to allow for new HerdVaccination EventType.
                        //                                  - HealthFilterU - ViewBtnClick - Check for HerdVaccination event when checking for Health.
                        //  18/09/12 [V5.0 R9.9] /MK Bug Fix - uHFSCalfReg - AddErrorCode - Try/Except added to stop Integer error appearing.
                        //                                   - uWeighingFlt - Report always sorted by Animal Number if Number Select is Animal Number.
                        //                       /MK Additional Feature - New Unit - uVaccineDueOn - Lists date of last vaccination, total animals and its due date.
                        //  20/09/12 [V5.0 R9.9] /MK Additional Feature - uEventsByGroup - Added Report ID/Reminder Type do Health, DryOff and Herd Vaccination Events.
                        //                                              - uUpdateTables - Added Default Vaccination Report Description Types.
                        //                       /MK Bug Fix - MenuUnit - If Beef Herd and BeefMan Module then don't show Milk Rec or Bulk Tank.
                        //                       /MK Change - uFertilityTreatmentsReport - If EventType is HerdVaccinaton then To Date should be 6 months from today.
                        //  21/09/12 [V5.0 R9.9] /MK Bug Fix - MenuUnit - Delphi lost drop-down-menu from btnMovementPermits Properties - now coded.
                        //  24/09/12 [V5.0 R9.9] /MK Bug Fix - ActionReminderFlt Reports - Access Violation on print after preview.

//   iHerdVerNo = 5098; //  05/08/12 [V5.0 R9.8] /MK Additional Feature - New Unit - uTempMovementsIn.
                        //                                              - MenuUnit - Added new buttons to pBlockMovementsContainer for Temp Movements In & Out.
                        //                                                         - Added actions and procedures for Temp Movements In & Out.
                        //                       /MK Change - uEventsByGroup - FormActivate - If Temp Movement Event then all other pages are not visible.
                        //  07/09/12 [V5.0 R9.8] /MK Change - PregDiag - NoCalvesOnChange - Changed from adding items in code to switching RepositoryItems.
                        //                       /MK Additional Feature - uEventsByGroup - Added CalfType to PregDiag.
                        //                                              - uHerdLookup - Added Repository Items Combo's for PregDiag CalfType Items.
                        //                                              - Added MilkTemperament Event.
                        //                       /MK Change - uEventsByGroup - Changes OnFormActivate and removed separate DataSource Update procedures.
                        //  10/09/12 [V5.0 R9.8] /MK Change - uEventsByGroup - MilkTemperament - first load last years Score's. 

//   iHerdVerNo = 5097; //  03/08/12 [V5.0 R9.7] /MK Additional Feature - ActionReminderFilt - Added Cart button to report.
                        //                                                                   - PDScr - Add animals from detail band to cart array.
                        //                                              - DueFirstService - Add animals from detail band to cart array.
                        //                                              - DueForDryingOff - Add animals from detail band to cart array.
                        //                                              - DueToCalve - Add animals from detail band to cart array.
                        //                                              - MenuUnit - Reports.OnClick - If animals added to cart by ActionReminderFilt then Filter cart.
                        //                                              - DairyData - New public boolean - FReportAnimalsInCart - to store whether animals added to cart by report.

//   iHerdVerNo = 5096; //  30/08/12 [V5.0 R9.6] /MK Additional Feature - EventRecording - New variable for FCalfType in TPregDiagEvent.
                        //                                                               - New class - TFertilityCheckEvent.
                        //  30/08/12 [V5.0 R9.6] /MK Additional Feature - New Unit - uDanRyanImport.
                        //  30/08/12 [V5.0 R9.6] /MK Additional Feature - MenuUnit - Drop-down-menu added to Import for ICBF and Dan Ryan.

//   iHerdVerNo = 5089; //  27/09/12 [V5.0 R8.9] /MK Additional Feature - Added new TCountry and Country to WinData.qCountry for NewZealand.
                        //  27/09/12 [V5.0 R8.9] /MK Bug Fix - uEditInfo - Delphi lost DataSource.DataSet.
                        //  27/09/12 [V5.0 R8.9] /MK Change - Add ElectronicID from PDA Calving Events.
                        //  28/09/12 [V5.0 R8.9] /MK Change - uReports - Added Herd Report Generator to Cattle Margins menu.

//   iHerdVerNo = 5088; //  24/09/12 [V5.0 R8.8] /SP Bug Fix - uAIMAnimalRegistration - Fix for animal colour problem with Calf Registration.

//   iHerdVerNo = 5087; //  30/08/12 [V5.0 R8.7] /MK Additional Feature - uDeptLinkAdvert - New unit.
                        //                                              - uPreferences - Added new reg key cGSDeptLinkDisplay.
                        //                                              - DairyData - LoadPreferences - Check for new reg key cGSDeptLinkDisplay.
                        //                                              - MenuUnit - FormActivate - Show new unit uDeptLinkAdvert.
                        //                       /MK Bug Fix - SetupAnimals - AnimalPages.OnPageChanging - On tsCurrFert HoldLactInfo table was not being refreshed.

//   iHerdVerNo = 5086; //  20/08/12 [V5.0 R8.6] /MK Change - uMilkTankRead - Read file to StringList and then process.

//   iHerdVerNo = 5085; //  08/08/12 [V5.0 R8.5] /MK Change - uWeighingsFlt - Moved headings of IntervalAnalysisRpt above data as per Gerry's request.
                        //                       /MK Bug Fix - uWeighingFlt - BuildWeighings - Latest Weighing & Weight Gain were never filtering by Weighing Date.
                        //  09/08/12 [V5.0 R8.5] /MK Bug Fix - uWeighingFlt - If Weight Gain report then sort by Weight Gain Per Day field.
                        //  14/08/12 [V5.0 R8.5] /MK Additional Feature - uFilters - Disable features if Beef herd type.
                        //  14/08/12 [V5.0 R8.5] /MK Bug Fix - Calf Reg & ICBF Event Reg. were showing for Beef herd type.
                        //  15/08/12 [V5.0 R8.5] /MK Change - uElecWeigh - Added changes to Digi-Star link to bring in new Header count and AnimalNo.
                        //  15/08/12 [V5.0 R8.5] /Additional Feature - Def - New ElecWeigh Module.
                        //  16/08/12 [V5.0 R8.5] /MK Change - uElecWeigh - Look for new ElecWeigh Module if Producer or ProducerPath preference does not exist.
                        //  16/08/12 [V5.0 R8.5] /MK Bug Fix - uBreedingDataHelper - GetBullingInfo - If PlannedBull is null error appears.
                        //  16/08/12 [V5.0 R8.5] /MK Bug Fix - uAWWeaningEventValidator - New rule for max amount of animals in first group.

//   iHerdVerNo = 5084; //  03/08/12 [V5.0 R8.4] /MK Bug Fix - uHealth - LookupBatchNo - Incorrect SQL statement for BatchNo's added manually.

//   iHerdVerNo = 5083; //  31/07/12 [V5.0 R8.3] /MK Change - MenuUnit - AllEventsClick - Quicker way to show ServiceDate on grid by changing logic.
                        //                                  - DairyData - GetEventLookupData & AddToEventLookupData - Services - Change of logic.
                        //  01/08/12 [V5.0 R8.3] /MK Change - uGroupReport - GetWeighingEventDetails - Purchase Weight should always be the last weighing event found.
                        //                                  - uBBPPurchScr - GetWeighingEventDetails - Purchase Weight should always be the first weighing event found.
                        //                                  - DairyData - GetWeighingEventDetails - Allow locate on first or last weighing event.
                        //  02/08/12 [V5.0 R8.3] /MK Bug Fix - uHealth - ShowHealth - FindExpiryDate should be opened after dbHealthBatchNo.DataBinding is set.

//   iHerdVerNo = 5082; //  30/07/12 [V5.0 R8.2] /MK Additional Feature - uFilters - Added EBI Range.
                        //                                              - MenuUnit - SetupQuery - Added Check for EBI Range.
                        //                                              - uUpdateTables - Filter Table - Added EBI fields.
                        //                                              - uHerdLookup - Added Function to return AnimalId's in EBIRange.
                        //  30/07/12 [V5.0 R8.2] /MK Bug Fix - MenuUnit - Setting GridFilter to '' was setting btnClearSelect.Visible to False.
                        //  30/07/12 [V5.0 R8.2] /MK Change - uConformationGradeAnalysis - MessageDLG to show valid and invalid counts changed to Panel below grid.   

//   iHerdVerNo = 5081; //  26/07/12 [V5.0 R8.1] /MK Change - DairyData - SortByNatIDByFarmNo - If Tag numer is neither IE or UK 9 then create sort by last 4 digits.
                        //  26/07/12 [V5.0 R8.1] /MK Change - uConformationGradeAnalysis - Changes as requested by James Feighery.
                        //  27/07/12 [V5.0 R8.1] /MK Bug Fix - uWeighingFlt - If LatestWeighingDate, LatestWeight or WeightGain is zero then report label should blank.

//   iHerdVerNo = 5080; //  16/07/12 [V5.0 R8.0] /SP Update - uHerdSync to import calvings/animal registrations from Kingswood Farm database.
                        //  16/07/12 [V5.0 R8.0] /SP New - AIM Animal Registration
                        //  24/07/12 [V5.0 R8.0] /MK Bug Fix - ActionReminderFlt - BuildDueToCalve - Gestation days not calculated if PD found and DueToCalve date calculated from PD Date.

//   iHerdVerNo = 5078; //  13/07/12 [V5.0 R7.8] /MK Change - uSQLFilters - Added Query's For AllCows, Replacements & Heifers So Filter Can Be Applied On Top Of Existing Animal Select.
                        //  13/07/12 [V5.0 R7.8] /MK Change - MenuUnit - Added Column For Days In Milk.
                        //  13/07/12 [V5.0 R7.8] /MK Change - uFilters - Greyed Out Buttons Depending On If MenuForm.FQuickFilter <> qfNone.
                        //  13/07/12 [V5.0 R7.8] /MK Change - DairyData - Changes Added For Days In Milk And Dry Off Date.

//   iHerdVerNo = 5077; //  10/07/12 [V5.0 R7.7] /MK Additional Feature - uSelectBuyer - New Unit To Allow uMartImportByFile To Select A Buyer.
                        //  10/07/12 [V5.0 R7.7] /MK Additional Feature - uMartImportByFile - Added Buyer To Purchase Event Dependent On Conditions.
                        //  10/07/12 [V5.0 R7.7] /MK Bug Fix - uMilkRec - FormActivate - Made sure miUseICBFFormat was not visible if Country <> Ireland.

//   iHerdVerNo = 5076; //  06/07/12 [V5.0 R7.6] /MK Bug Fix - uAnimalCartView - Added Comment Field If GlobalSettings.AnimalCommments Is On.
                        //  06/07/12 [V5.0 R7.6] /MK Bug Fix - uHerdStatics - Fixed problems with NRR Rate.

//   iHerdVerNo = 5075; //  05/07/12 [V5.0 R7.5] /MK Bug Fix - uMilkTankRead - Fixed Problem With The FromYear And ToYear Not Showing Current Years From Database.

//   iHerdVerNo = 5074; //  27/06/12 [V5.0 R7.4] /MK Bug Fix - uCalvings - cbDeleteCalving.OnClick Was Still Available. Set cbDeleteCalving.Visible To False If Adding Event.
                        //  27/06/12 [V5.0 R7.4] /MK Change - uHerdSetup - Hide SearchOn Label And ComboBox As SearchOn Now Being Set From MenuUnit.SearchColumnChange.
                        //  27/06/12 [V5.0 R7.4] /MK Change - DairyData - LoadPreferences - Default DisplayCrushScreen On.
                        //  02/07/12 [V5.0 R7.4] /MK Change - MenuUnit - cmboSearchColum.OnChange - Set WinData.SearchNatID To FieldName Of cmboSearchColumnItemIndex.
                        //  02/07/12 [V5.0 R7.4] /MK Change - uAnimalBrowser - FromCreate - Changed From Defaults.SearchOn To WinData.SearchField i.e. Owners.SearchField.
                        //  02/07/12 [V5.0 R7.4] /MK Change - uHerdStatistics - Added Non Return Rates.
                        //  02/07/12 [V5.0 R7.4] /MK Change - uFertIndicesRpt - LCalv2Serv.AutoSize := True.
                        //  03/07/12 [V5.0 R7.4] /MK Bug Fix - uHerdStatistics - Services Section Should Be Calculated By No. Of Services / No. Cows Served.
                        //  03/07/12 [V5.0 R7.4] /MK Additional Feature - uEventsByGroup - If EventType = Health Buttons Show For Veterinary Due To And Scc Current Lactation.
                        //                                                               - If EventType = Service Or Bull Button Appears For Breeding Statistics.

//   iHerdVerNo = 5073; //  19/06/12 [V5.0 R7.3] /MK Additional Feature - uElecWeigh - Added New Producer And File Read Params For Digi-Star Weighing.
                        //  19/06/12 [V5.0 R7.3] /MK Additional Feature - MenuUnit - New DropDownItem Added To Weighing DropDownMenu For Link To Weighing Scale.

//   iHerdVerNo = 5072; //  14/06/12 [V5.0 R7.2] /MK Bug Fix - uAnimalBrowser - SetupTabSheet - New Procedure To Setup Tab Sheets Depending On Sex.
                        //  14/06/12 [V5.0 R7.2] /MK Bug Fix - uNewServiceEvent - BullQuery.Active On FormCreate And Not Active On FormClose.
                        //  14/06/12 [V5.0 R7.2] /MK Bug Fix - uNewUIHealthEvent - Set qHealthCodes.Active On FormCreate And Not Active On FormClose.
                        //  18/06/12 [V5.0 R7.2] /MK Additional Feature - uHeatServiceFilt - Changes For Interval To Be Added As Standard To Service Panel.
                        //  18/06/12 [V5.0 R7.2] /MK Additional Feature - uHeatServiceScr - Changes For Interval To Be Added As Standard To Service Panel.
                        //  18/06/12 [V5.0 R7.2] /MK Additional Feature - uReports - Show Warning If Favourite or Most Used Reports Don't Exist.
                        //  18/06/12 [V5.0 R7.2] /MK Additional Feature - uReportFilters - FreeAndNil Instead Of Just Free After FormCreate.
                        //  19/06/12 [V5.0 R7.2] /MK Additional Feature - DairyData - New Public Procedure - RepFavouritesOrMostUsedExist - To Check If Favourite Or Most Used Reports Exist.
                        //  19/06/12 [V5.0 R7.2] /MK Bug Fix - uReports - Changes To cmboReportFilters - Changed Coded From OnChange To OnClick.
                        //  19/06/12 [V5.0 R7.2] /MK Bug Fix - uReportFilters - Changes So That Form Doesn't Open Twice.

//   iHerdVerNo = 5071; //  12/06/12 [V5.0 R7.1] /MK Additional Feature - ActionReminderFilt - DueToCalve/DueToDry - Changed Blank Entry Form To Recording Sheet RadioGroup.
                        //  12/06/12 [V5.0 R7.1] /MK Additional Feature - DueForDryingOff - Added Changes To Allow Customers To Preview Recording Sheet As Well As Print.
                        //  12/06/12 [V5.0 R7.1] /MK Additional Feature - DueToCalve - Added Changes To Allow Customers To Preview Recording Sheet As Well As Print.
                        //  12/06/12 [V5.0 R7.1] /MK Additional Feature - MenuUnit - Added New Type For TAddToCartType.
                        //                                                         - Depending On What The TAddToCartType Is Set Focus To SearchText Or Animal Grid.
                        //  12/06/12 [V5.0 R7.1] /MK Bug Fix - ActionReminderFilt - DueToDryingOff - Program Was Not Showing Total Animals If Blank Report.
                        //  13/06/12 [V5.0 R7.1] /MK Change - ActionReminderFilt - DueToService - Changed Layout Of Report To Match New Layout Of The Other Due To Reports.

//   iHerdVerNo = 5070; //  22/05/12 [V5.0 R7.0] /MK Additional Feature - uKImport - Added Grade Field For Sale Event Only.
                        //  24/05/12 [V5.0 R7.0] /MK Bug Fix - uKImport - FindAnimal Defaults AnimalNo To Null So Search Can Work With Or Without AnimalNo.
                        //  24/05/12 [V5.0 R7.0] /MK Additional Feature - uKImport - If Not MultiHerd Database Then Set HerdLookup To DefaultHerdID.
                        //                                                         - All Manual Entry Of Purchased Animals.
                        //  28/05/12 [V5.0 R7.0] /MK Additional Feature - DairyData - CreateMooMonitorEvents - Added Insemination Events To MooMonitor Event Downloads.
                        //                                                                                   - If Insemination Bull Not Found Then Program Adds From Sires.db Or Add FR Bull.
                        //  30/05/12 [V5.0 R7.0] /MK Bug Fix - MenuUnit - On New Version Prompt Look At New Download Procedure Instead Of Old uDownload Form.
                        //  31/05/12 [V5.0 R7.0] /MK Bug Fix - uKImport - Fixed Tab Order Of Panels.
                        //  07/06/12 [V5.0 R7.0] /MK Additional Feature - MenuUnit - btnClearSelectClick - Set QuickFilter Back To None.
                        //  11/06/12 [V5.0 R7.0] /MK Additional Feature - ActionReminderFilt - DueToPD - Added Option For Recording Sheet.

//   iHerdVerNo = 5062; //  10/07/12 [V5.0 R6.2] /MK Change - uUpdateTables - Always add these UKMilkRecorder Genlook items regardless of the Country.
                        //  06/06/12 [V5.0 R6.2] /MK Bug Fix - uUpdateTables - Check If Defaults.UpdateBatchNo Boolean Is False Then Run UpdateBatchNo's And Then Set Defaults.UpdateBatchNo Boolean To True.  

//   iHerdVerNo = 5061; //  13/06/12 [V5.0 R7.1] /MK Bug Fix - Program Had Some Remains Of WinData.ProfitMonitorData Table For Changes That Nick Kearney
                        //                                     Asked For In The Profit Monitor Report That Gerry Then Asked To Be Removed.

//   iHerdVerNo = 5060; //  23/05/12 [V5.0 R6.0] /MK Change - uMilkTankRead - Bulk Tank Footers From Fat Onwards Should Be Averages Not Totals.
                        //  28/05/12 [V5.0 R6.0] /MK Additional Feature - uMilkDiskReview - Removed Sorting For Calc Fields.
                        //                                                                - Add Footers For Calc Fields.
                        //  30/05/12 [V5.0 R6.0] /MK Bug Fix - uMartImportByFile - ImportFromNIMovementsIn - Parsers Not In The Right Order.
                        //  30/05/12 [V5.0 R6.0] /MK Bug Fix - uAWEventsByGroup - UpdateWeaningCmbo - New Procedure To Update Fields In TempAnimal Table On CloseUp.
                        //  31/05/12 [V5.0 R6.0] /MK Bug Fix - uEventsByGroup - PD - Fixes For PD.ItemIndex = -1.
                        //  31/05/12 [V5.0 R6.0] /MK Change - uMPEvents - Changed illnessCode.LookupDisplay To Only Show Description As Null LookupCodes Were Appearing.
                        //  31/05/12 [V5.0 R6.0] /MK Bug Fix - uCalvings - cmboNatIDNum.Top Set To Same As CalfNatID.
                        //  31/05/12 [V5.0 R6.0] /MK Bug Fix - uMilkTankRead - BulkNav Not Being Enabled.
                        //  31/05/12 [V5.0 R6.0] /MK Change - uMilkTankRead - Changes To The Grids On Manual - No Need To Save As Grid Automatically Posts To The Table.
                        //  01/06/12 [V5.0 R6.0] /MK Bug Fix - HealthFilterU - LoadReportDefaults - If UK Country And VetTreatments.ReportOn = 0 Then VetTreatmentsDefs.ReportOn := 2.
                        //  06/06/12 [V5.0 R6.0] /MK Bug Fix - uUpdateTables - Add All BatchNo's From DrugPurchTable To HealthTable If HealthBatchNo Is Null.
                        //  06/06/12 [V5.0 R6.0] /MK Change - uMilkDiskReview - Changed Grid.DisplayFormat of DailyYield, DailyBFat, DailyProt, CumBFat, CumProt to 0.00 instead of 0.0

//   iHerdVerNo = 5059; //  18/05/12 [V5.0 R5.9] /MK Additional Feature - uMilkDiskReview - Added Calc Fields For Solids And Total Solids In Daily And Cummulative.
                        //  18/05/12 [V5.0 R5.9] /MK Bug Fix - uMedicineSetup - Cancel InsertMode On Start Of Search.
                        //  18/05/12 [V5.0 R5.9] /MK Bug Fix - DairyData - MedicineDrugCodeValidate - If State Not In InsertModes Then Exit Validate.
                        //  18/05/12 [V5.0 R5.9] /MK Bug Fix - MenuUnit - AllEventsClick - Create A BookMark To Store Current Animal On Grid.
                        //  21/05/12 [V5.0 R5.9] /MK Change - uMilkTankRead - Changes To Fix Filtering Problems In Statements And Tank Reading On Manual Entry.

//   iHerdVerNo = 5058; //  17/05/12 [V5.0 R5.8] /MK Bug Fix - DairyData - AddToEventLookupData - Service And Calving Query Not Being Free'd And Closed.
                        //  17/05/12 [V5.0 R5.7] /MK Bug Fix - uDataBackup - Delete And Rebuild Indexes.

//   iHerdVerNo = 5057; //  16/05/12 [V5.0 R5.7] /MK Additional Feature - uUpdateTables - UpdateReportsTable - Added The New SortID And ReportGen Fields.
                        //  16/05/12 [V5.0 R5.7] /MK Additional Feature - DairyData - Added ReportGen And SortID Fields To Reports Table.
                        //                                                          - AddReport Now Adds If ReportGen.
                        //  16/05/12 [V5.0 R5.7] /MK Additional Feature - uReports - Added ReportGen Item To ReportType Combo.
                        //  16/05/12 [V5.0 R5.7] /MK Additional Feature - uReportFilters - Checks For New ReportGen ReportType.

//   iHerdVerNo = 5056; //  11/05/12 [V5.0 R5.6] /MK Bug Fix - WinHerd.dpr Did Not Have Changes For Shortcut Problem.

//   iHerdVerNo = 5055; //  11/05/12 [V5.0 R5.5] /MK Bug Fix - uHerdLookup - New Querys For Bullings Bull Listing.
                        //  11/05/12 [V5.0 R5.5] /MK Bug Fix - Bullings - New Querys For Bullings Bull Listing.
                        //  11/05/12 [V5.0 R5.5] /MK Bug Fix - uEventsByGroup - Bullings And Service Bull Query's Not Set To HerdLookup Querys.
                        //  11/05/12 [V5.0 R5.5] /MK Bug Fix - uEventsByGroup - MultiDrugGrid ApplicMethod DataBinding Not Set.
                        //  11/05/12 [V5.0 R5.5] /MK Change - uCalfRegReview - Changed CardReceived Back To Single-Click Not Double-Click - Added Warning On First Change. 
                        //  11/05/12 [V5.0 R5.5] /MK Additional Feature - MenuUnit - Clear Search Text On Clear Select.
                        //  11/05/12 [V5.0 R5.5] /MK Bug Fix - Services - BullUsedChange - If User Changes Their Mind On The Bull The Comment Saves Both Bulls.
                        //  11/05/12 [V5.0 R5.5] /MK Bug Fix - uEventsByGroup - Services - Straw Used Not Being Saved.

//   iHerdVerNo = 5054; //  08/05/12 [V5.0 R5.4] SP - Fix for Due PD/ Due Service reports. Null value for bull used/ planned bull
                        //                            causing message Invalid value for field "ID"

//   iHerdVerNo = 5053; //  03/05/12 [V5.0 R5.3] SP - Farm Sync Incorporated into program.
                        //  03/05/12 [V5.0 R5.3] SP - Marking bulls out of use from context menu on the animal grid
                        //                            was reloading AnimalFileByID twice - fixed.
                        //  03/05/12 [V5.0 R5.3] SP - Further check on program startup that if params exists they are matching expected params for sync operations.

//   iHerdVerNo = 5052; //  23/04/12 [V5.0 R5.2] /MK Change - uFilters - cbSales.Enabled Always.
                        //  23/04/12 [V5.0 R5.2] /MK Change - MeunUnit - Various Changes To Put CTS Buttons With Register/Calf Reg For England.
                        //  23/04/12 [V5.0 R5.2] /MK Change - MeunUnit - Changed Register/Calf Reg To CTS Registration For England.

//   iHerdVerNo = 5051; //  19/04/12 [V5.0 R5.1] /MK Additional Feature - uGroupSetup - If ParlourType Is DairyMaster Then Allow Draughting Group Type.
                        //  19/04/12 [V5.0 R5.1] /MK Additional Feature - DairyData - GroupTypeValidate - Allow For Draughting Group Type.

//   iHerdVerNo = 5050; //  18/04/12 [V5.0 R5.0] /MK Bug Fix - uGroupSetup - AnimalGrid - ColumnIndex Not Changed To Take In Account When FQAS Filed Was Added.
                        //                                                 - Program Was Not Taking Animals That Were In The Cart.

//   iHerdVerNo = 5049; //  15/04/12 [V5.0 R4.9] /MK Additional Feature - uReportFilters - New Unit For New Report Filters.
                        //  15/04/12 [V5.0 R4.9] /MK Additional Feature - uReports - New Unit For New Report Filters Added.
                        //  16/04/12 [V5.0 R4.9] /MK Change - MenuUnit - LoadAllAnimals - Added Check If Multi Herd For All Herds.
                        //  16/04/12 [V5.0 R4.9] /MK Bug Fix - MenuUnit - SetupForm - Added Check If All Herds.

//   iHerdVerNo = 5048; //  02/04/12 [V5.0 R4.8] /MK Bug Fix - DairyData - AnimalFileByIDBeforePost - Check If Herd Is None & Sex Is Bull Then Animal No Should Be Entered.
                        //  10/04/12 [V5.0 R4.8] /MK Bug Fix - uHealth - LookupBatchNo - Need To Check If DrugUsed Is Not Blank Or Zero.
                        //  11/04/12 [V5.0 R4.8] /MK Bug Fix - uGettingsStarted - btnReportsClick - Access Violation On Exit Of Reports.
                        //  11/04/12 [V5.0 R4.8] /MK Additional Feature - DairyData - New Function For Import Of MooMonitor Bulling Events.
                        //  11/04/12 [V5.0 R4.8] /MK Additional Feature - MenuUnit - ShowParlourLinkScreen - Added Check/Import For DairyMaster MooMonitory Events.
                        //  11/04/12 [V5.0 R4.8] /MK Additional Feature - uEventDataHelper - New Function For CheckEvents For AnimalID, LactNo, EventType & EventDate.

//   iHerdVerNo = 5047; //  10/04/12 [V5.0 R4.7] /MK Bug Fix - uHealth - LookupBatchNo - Need To Check If DrugUsed Is Not Blank Or Zero.

//   iHerdVerNo = 5046; //  03/04/12 [V5.0 R4.6] /MK Bug Fix - uHUKIFarmEvents - CheckValidAnimalNo - No Else Check Added If Length(AnimalNo) In [1..4] And Sold.

//   iHerdVerNo = 5045; //  21/03/12 [V5.0 R4.5] /MK Change - uKImport - CustomerCloseUp - Re-Open Query To Get New Customer Entry.
                        //  21/03/12 [V5.0 R4.5] /MK Change - uTagReplacementForm - Disable btnNext On FormCreate & Enable btnNext OnNewRecord Event Of mdReplacementTagList.
                        //  21/03/12 [V5.0 R4.5] /MK Change - StockInHerdFilt - HerdReconciliation1Click - New Boolean Check For Reconcile By Cards Checked Here.
                        //  21/03/12 [V5.0 R4.5] /MK Change - uHerdRec - CreateAndShow - New Boolean Check For Reconcile By Cards Checked Here.
                        //  21/03/12 [V5.0 R4.5] /MK Change - MenuUnit - Checks For uHerdRec Now Look At New Boolean For ReconcileByCards.
                        //  21/03/12 [V5.0 R4.5] /MK Change - uReports - Checks For uHerdRec Now Look At New Boolean For ReconcileByCards.
                        //  22/03/12 [V5.0 R4.5] /MK Change - uWeighingFilt - Changes Made To Calc Weight Gain From BirthWeight and Purchase Weight If Birth Weight Exists.
                        //  22/03/12 [V5.0 R4.5] /MK Change - uCalvings - sbDeleteCalving - New SubProcedure To Delete Weighing Event If Weighing Event Date Is DateOfBirth Date.
                        //  22/03/12 [V5.0 R4.5] /MK Bug Fix - DairyData - EventsAfterPost - NewCalves - Create Weighings - Moved This Code From New Calf To All Calves To Fix Bug If Calf Is Undeleted.
                        //  26/03/12 [V5.0 R4.5] /MK Change - DairyData - FFilterByNotInGroup New Variable For Not In Group Within Group Grid.
                        //  26/03/12 [V5.0 R4.5] /MK Change - MenuUnit - SetupQuery - Checks For New Option Not In Group Within Group Grid.
                        //  26/03/12 [V5.0 R4.5] /MK Change - uFilters - New Option For Not In Group Within Group Grid.
                        //  27/03/12 [V5.0 R4.5] /MK Change - uEventsByGroup - Added Check For Dry Off Event If LastCalvingDate > DryOff Date Entered.

                        {
                        //  -------------------------------------------------------------------------------------------------------------------------------------------------------
                        //  15/03/12 [V5.0 R4.5] /GL  *** Not Using This New uAccsDairyParams Unit Until More Info From Nick Kearney. ***
                        //  15/03/12 [V5.0 R4.5] /MK Additional Feature - DairyData - New Table Added - ProfitMonitor - To Store Profit Monitor DairyParams.
                        //  15/03/12 [V5.0 R4.5] /MK Additional Feature - uUpdateTables - Added CreateProfitMonitorTable Function To Create New ProfitMonitor Table In DairyData.
                        //  15/03/12 [V5.0 R4.5] /MK Additional Feature - uIndexes - Added Index For New ProfitMonitor Table.
                        //  15/03/12 [V5.0 R4.5] /MK Additional Feature - SampleAccounts - New Properties Added For DairyData.ProfitMonitor Params.
                        //  15/03/12 [V5.0 R4.5] /MK Additional Feature - uAccsDairyParams - New Unit Created To Add Data To DairyData.ProfitMonitor.
                        //  15/03/12 [V5.0 R4.5] /MK Additional Feature - uAccsReps - Added New Unit, uAccsDairyParams, To DoPreliminaryChecks Procedure.
                        //  15/03/12 [V5.0 R4.5] /GL  *** Not Using This New uAccsDairyParams Unit Until More Info From Nick Kearney. ***
                        //  -------------------------------------------------------------------------------------------------------------------------------------------------------
                        }

//   iHerdVerNo = 5044; //  13/03/12 [V5.0 R4.4] /MK Additional Feature - DairyData - New BVDDate Field Added to AnimalFileByID And UpdateAnimals.
                        //  13/03/12 [V5.0 R4.4] /MK Additional Feature - SetupAnimals - New Components Added For BVDTestDate.
                        //  13/03/12 [V5.0 R4.4] /MK Additional Feature - uEventsByGroup - New Event For BVDTestDate.
                        //  13/03/12 [V5.0 R4.4] /MK Additional Feature - GenTypesConst - New TEventType - TBVDTest - Added.
                        //  13/03/12 [V5.0 R4.4] /MK Additional Feature - EventRecording - TAnimalRecord - BVDTest Added.
                        //  13/03/12 [V5.0 R4.4] /MK Additional Feature - MenuUnit - New Column Added To AnimalGrid For BVDTestDate.
                        //  13/03/12 [V5.0 R4.4] /MK Change - DairyData - Changes For AIM XMLWriter Problem.

//   iHerdVerNo = 5043; //  12/03/12 [V5.0 R4.3] /MK Additional Feature - DairyData - Added New Field To Defaults For ShowAllEvents.
                        //  12/03/12 [V5.0 R4.3] /MK Additional Feature - uUpdateTables - Added New Field To Defaults For ShowAllEvents.
                        //  12/03/12 [V5.0 R4.3] /MK Additional Feature - MenuUnit - ServiceDate On Main Grid Defaults To CurrentLact ServiceDate.
                        //  12/03/12 [V5.0 R4.3] /MK Additional Feature - MenuUnit - On cbAllEvents.Click Show Last Recorded Service Date.
                        //  13/03/12 [V5.0 R4.3] /MK Additional Feature - MenuUnit - Select Animal Items For Milking And Dry Cows.

//   iHerdVerNo = 5042; //  12/03/12 [V5.0 R4.2] /MK Additional Feature - New Crush Option For Filtering Animals.

//   iHerdVerNo = 5041; //  05/03/12 [V5.0 R4.1] /SP Additional Feature - All QuickReports Can Be Exported To PDF.

//   iHerdVerNo = 5040; //  22/02/12 [V5.0 R4.0] /MK Additional Feature - uCalfRegReview - Moved CardRecieved Column And Only Allow Double-Click On Card Recieved.
                        //  22/02/12 [V5.0 R4.0] /MK Additional Feature - MenuUnit - New Item in pmAISireOptions For DairyCo.
                        //  22/02/12 [V5.0 R4.0] /MK Change - MenuUnit - Always Create Accounts Companies Drop-Down-Menu Items After Accounts Program Is Closed For Year End Probs.
                        //  23/02/12 [V5.0 R4.0] /MK Change - uCTSBirthReg - Check For Blank Sex and Breed Of Calves Before Registering.
                        //  23/02/12 [V5.0 R4.0] /MK Additional Feature - uBeefAISireRegister - Let Everybody Download The Sire List.
                        //  23/02/12 [V5.0 R4.0] /MK Change - MeunUnit - Change APHIS Webstite Link As Requested By TGM.
                        //  23/02/12 [V5.0 R4.0] /MK Change - uAPHISRegistraton - Change APHIS Webstite Link As Requested By TGM.
                        //  23/02/12 [V5.0 R4.0] /MK Change - uMartImport - Change APHIS Webstite Link As Requested By TGM.
                        //  24/02/12 [V5.0 R4.0] /MK Additional Feature - uAnimalBrowser - New Service Event Feature Added..
                        //  27/02/12 [V5.0 R4.0] /MK Change - MenuUnit - Took Out Link To .msi File As It Takes Too Long To Open.

//   iHerdVerNo = 5039; //  20/02/12 [V5.0 R3.9] /MK Change - ActionReminderFlt - BuildDueToPD - More Changes To Fix GL Problems Uncovered.
                        //  21/02/12 [V5.0 R3.9] /MK Bug Fix - ActionReminderFlt - BuildDueToPD - Changes To First Query Of Animals Logic.

//   iHerdVerNo = 5038; //  13/02/12 [V5.0 R3.8] /SP Change - DairyData - AIMClient Change For Database Path.
                        //  16/02/12 [V5.0 R3.8] /MK Change - ActionReminderFlt - BuildDueToPD - New Logic Applied in qReportPD After TempTable Created.
                        //  16/02/12 [V5.0 R3.8] /MK Change - DairyData - New Boolean, FKImportIgnoreEventMessages, To See If Call From uKImport.
                        //  16/02/12 [V5.0 R3.8] /MK Change - uKImport - New Option For Animal Numbers That Clears The Sold Animals Number.
                        //  16/02/12 [V5.0 R3.8] /MK Change - uKImport - New Option For Ignore Event Messages.
                        //  16/02/12 [V5.0 R3.8] /MK Change - uAnimalEventTransfer - Changed TransferEvents To A Global Class Procedure.

//   iHerdVerNo = 5037; //  01/02/12 [V5.0 R3.7] /MK Change - DairyData - Health - Added New DrugBatchNo Field.
                        //  01/02/12 [V5.0 R3.7] /MK Change - uUpdateTables - UpdateHealth - Added New DrugBatchNo Field.
                        //  07/02/12 [V5.0 R3.7] /MK Change - uKImport - FindAnimal - Removed The Search For AnimalNo - Causing Problems.
                        //  09/02/12 [V5.0 R3.7] /MK Additional Feature - DairyData - New Function To Query Calving Survey Events To Allow An Edit.
                        //  09/02/12 [V5.0 R3.7] /MK Additional Feature - uCalvings - New Button To Query Calving Survey Events To Allow An Edit.
                        //  09/02/12 [V5.0 R3.7] /MK Additional Feature - uCalvingSurveyForm - Take Results From WinData.GetCalvingSurvey.
                        //  09/02/12 [V5.0 R3.7] /MK Additional Feature - uFertilityAnalysis - New CheckBox To Just Export Animal Counts.
                        //  09/02/12 [V5.0 R3.7] /MK Change - BrowseRegisterU - If Animal Found Update Name If Name Is Null.
                        //  09/02/12 [V5.0 R3.7] /MK Change - SetupAnimals - DisplayInHerdField - Normal Logic + Only If Herd <> NoneHerd.
                        //  10/02/12 [V5.0 R3.7] /MK Additional Feature - uHealth - New Editable ComboBox For DrugBatchNo.
                        //  10/02/12 [V5.0 R3.7] /MK Additional Feature - uPhoneLinkEventsReview - Look For DrugBatchNo In WinData.HealthDrugBatchNo.
                        //  10/02/12 [V5.0 R3.7] /MK Additional Feature - EventRecording - THealthEvent - New Field WinData.HealthDrugBatchNo Set By PDABatchNo.

//   iHerdVerNo = 5036; //  19/01/12 [V5.0 R3.6] /MK Change - uHerdLookup - mdEventTypes - Changed soDesc To False To Order In Asceding Order.
                        //  19/01/12 [V5.0 R3.6] /MK Bug - uEventFilter - FilterDiaryGrid - Not Filtering Properly.
                        //  19/01/12 [V5.0 R3.6] /MK Change - MenuUnit - Changed Left Of sbImportFile, sbExport, sbExportOptions, btnEventDiary & btnHerdStats.
                        //  19/01/12 [V5.0 R3.6] /MK Change - uDataRestoreConfirm - Changed cxLabel1.Style.TextColor To clBlack.
                        //  19/01/12 [V5.0 R3.6] /MK Change - uDataBackup - btnFloppyDiskBackupRestore.Click - If Restore Then No Need To Show Second ConfirmRestore Message.
                        //  20/01/12 [V5.0 R3.6] /MK Bug Fix - uWeighingFlt - Fixes To WeightGain And >2 Weighings Report Where If WeightGain = 0 And DaysBetween Is Zero Then Report Showed Error.
                        //  26/01/12 [V5.0 R3.6] /MK Bug Fix - HealthFilterU - Only SaveScreenDefaults & LoadScreenDefaults If Veterinary Register.
                        //  30/01/12 [V5.0 R3.6] /MK Bug Fix - uCalvings - Do Not Set rbFullTerm Or rbAbortion On CalfDeadChange If PDAEvent Calving.
                        //  30/01/12 [V5.0 R3.6] /MK Change - DairyData - Medicine.DrugCode.OnValidate - Check For Spaces In MedicineCode.
                        //  30/01/12 [V5.0 R3.6] /MK Change - KRoutines - New String Routine To Check For Spaces.
                        //  31/01/12 [V5.0 R3.6] /MK Change - uCondiontScoreReport - Changes To Report To Include Last 4 Scoring Events.
                        //  02/02/12 [V5.0 R3.6] /MK Change - MenuUnit - Moved EventDiary and Herd Stats Closer Together.
                        //  02/02/12 [V5.0 R3.6] /MK Change - uHerdStatistics - DisplayConditionScores - New Rules Added Including New Index.
                        //  02/02/12 [V5.0 R3.6] /MK Change - MenuUnit - actHerdStatsExecute - Set HerdStats Active Page Dependent On HerdType.

//   iHerdVerNo = 5035; //  17/01/12 [V5.0 R3.5] /MK Change - uEventsByGroup - Allow Block Delete Which Links To EventDiary Only On NoSelection.
                        //  17/01/12 [V5.0 R3.5] /MK Change - uEventFilter - New Procedure - ShowTheForm - To Allow ForceBlockDelete From Another Form.
                        //                                                 - Moved Old cbEventTypes. Changed to cmboEventTypeFilter.
                        //  17/01/12 [V5.0 R3.5] /MK Change - uHerdLookup - mdEventTypes - Set All Premium EventTypes To Not User Visible.
                        //  17/01/12 [V5.0 R3.5] /MK Change - MenuUnit - actEventHistoryClick - New Procedure In EventDiary To Allow ForceBlockDelete From Another Form.
                        //  18/01/12 [V5.0 R3.5] /MK Change - MenuUnit - Do Not Show Filter Or Cart On Bottom Bar Of Grid.
                        //                                             - Changed EventDiary And HerdStats To cxButtons.
                        //  18/01/12 [V5.0 R3.5] /MK Change - ActionReminderFlt - pDueToCalve - Changed Caption Of rgShowCalfSex To Show Sex.
                        //                                                      - BuildDueToCalve - New Variable To Be Able To Change ICBF Event Description.
                        //                                                      - sbViewClick - Pred. Calf Change To Pred. Sex.
                        //  18/01/12 [V5.0 R3.5] /MK Change - DueToCalve - Changed Height Of L4 To Show Last Birth.

//   iHerdVerNo = 5034; //  16/01/12 [V5.0 R3.4] /MK Bug Fix - uEventsByGroup - Fix If Changing Between Tabs With New Condition Score Fields For UK Herds.
                        //  16/01/12 [V5.0 R3.4] /MK Bug Fix - uBBPPurchScr - Only Checking If VarIsNull - Also Checking For If AID = 0.
                        //  **** Includes SP Changes For AIMS.

//   iHerdVerNo = 5033; //  09/01/12 [V5.0 R3.3] /MK Bug Fix - uEventsByGroup - New Procedure To Activate/Deactivate Health Component DataSources.
                        //  10/01/12 [V5.0 R3.3] /MK Change - uMPEvents - Only Show Tesco HerdScoring Fields If Updating CondtionScore Event in English Herd.
                        //  10/01/12 [V5.0 R3.3] /MK Change - uUpdateTables - Added New Tesco Herdscoring Fields To ConditionScore.db.
                        //  10/01/12 [V5.0 R3.3] /MK Change - uEventsByGroup - Added New Tesco Herdscoring Fields To ConditionScore Event For English Herds Only.
                        //  12/01/12 [V5.0 R3.3] /MK Additional Feature - New Unit - uTescoExport.
                        //  12/01/12 [V5.0 R3.3] /MK Additional Feature - MenuUnit - Added New Tesco Herd Scoring Export Drop Down Option For English Herds Only.
                        //  12/01/12 [V5.0 R3.3] /MK Bug Fix - uEventsByGroup - fConditionScore.OnChange Now Checks If Score Between 1 & 5 In English Herd.
                        //  12/01/12 [V5.0 R3.3] /MK Change - PregDiag - Changed Confirmation Box Message For Customers To Be Able To Understand Better
                        //                                               If Animal Marked Pregnant With No PD Days In Calf Entered.
                        //  13/01/12 [V5.0 R3.3] /MK Change - uMPEvents - Only Show Tesco HerdScoring Fields If Updating CondtionScore Event in English Herd.

//   iHerdVerNo = 5032; //  06/01/12 [V5.0 R3.2] /SP Change - uAPHISRegistration - Changed Path Location Of APHIS Files To Match KInstaller Download Location.
                        //  09/01/12 [V5.0 R3.2] /MK&SP Bug Fix - ActionReminderFlt - DueToCalve - See Detail Of Fix On Unit.

//   iHerdVerNo = 5031; //  05/01/12 [V5.0 R3.1] /MK Bug Fix - uElecWeigh - EZIWeigh - Copy To Create Date Not Working - Use Parse Instead.

//   iHerdVerNo = 5029; //  21/12/11 [V5.0 R2.9] /MK Additional Feature - Added The Ability To Record Johnes Result Event.
                        //  21/12/11 [V5.0 R2.9] /MK Bug Fix - KDBRoutines - GetCondtionScore SQL Not Filtering By EventType.
                        //  03/01/12 [V5.0 R3.0] /MK Bug Fix - uKillOutCalculator - Put Back In Code That Was Commented Out For Testing.

//   iHerdVerNo = 5028; //  08/12/11 [V5.0 R2.8] /MK Change - Changed Order Of UpdateHealth To Match BlankData Field Defs Order.
                        //  12/12/11 [V5.0 R2.8] /MK Additional Feature - uNewFeedAllocEdit - New Event Screen To Add/Delete Feed Events From Existing Feed Regimes.
                        //  12/12/11 [V5.0 R2.8] /MK Additional Feature - MenuUnit - New Drop-Down-Menu Added To Feed Allocation For Single Feed Event.
                        //  12/12/11 [V5.0 R2.8] /MK Additional Feature - DairyData - FeedEvents - AfterDelete Extra Warning For Deleting A FeedEvent.
                        //  12/12/11 [V5.0 R2.8] /MK Additional Feature - uEventFilter - FeedEvents - Before Delete Extra Warning For Deleting A FeedEvent.
                        //  13/12/11 [V5.0 R2.8] /MK Additional Feature - uPurchases - Added CheckBox To Change Default Costs.
                        //  13/12/11 [V5.0 R2.8] /MK Additional Feature - uCalvings - Changed Position Of Where dsBulls.DataSet Was Assigned.
                        //  14/12/11 [V5.0 R2.8] /MK Change - uCMMSPermits - After Print - If Remaining Is Less Or Equal To 1 Show Message.
                        //  15/12/11 [V5.0 R2.8] /MK Change - uCrushSalesGroup - Changes And Bug Fix For IAD.
                        //  15/12/11 [V5.0 R2.8] /MK Change - DairyData - FeedEventsQuantDay - Changed DisplayFormat From "#.##'kg'" to "#.##".
                        //  15/12/11 [V5.0 R2.8] /MK Change - uFeedAllocEdit - Removed Add & Delete Buttons So User Can Only Add Or Delete In Bulk.
                        //  19/12/11 [V5.0 R2.8] /MK Additional Feature - uFeedEventFilter - New Unit To Separate Feed Events From General Events In Event Diary.

//   iHerdVerNo = 5027; //  07/12/11 [V5.0 R2.7] /MK Additional Feature - uEventsByGroup - Days To Remind On Block Health/Dry Off Event.
                        //  08/12/11 [V5.0 R2.7] /MK Change - uEventsByGroup - Added All Combo Boxes To MultiDrug Grid.
                        //  08/12/11 [V5.0 R2.7] /MK Bug Fix - uFertilityTreatmentsReport - Unable To Run Report By Treatment Due.
                        //  08/12/11 [V5.0 R2.7] /MK Bug Fix - uFilters - Event Date Range After Filter Not Showing.

//   iHerdVerNo = 5026; //  09/12/11 [V5.0 R2.6] /MK Bug Fix - DairyData - SetBullInUse - Only Set Animals.Breeding Where AInUse Is True.
                        //  08/12/11 [V5.0 R2.6] /MK Change - uCalvings - If Amending Then dsBulls.DataSet := qHistBullsUsed.

//   iHerdVerNo = 5025; //  06/12/11 [V5.0 R2.5] /MK Bug Fix - uRemittanceRecord - Embedded Procedure ReNumberAnimalNo Added To PostEventData.
                        //  06/12/11 [V5.0 R2.5] /MK Change - uReports - Changes To Look And Feel Of Report Screen.
   
//   iHerdVerNo = 5024; //  02/12/11 [V5.0 R2.4] /MK Change - uLivestockSum - New Item For rgEnterpriseType For All.
                        //  02/12/11 [V5.0 R2.4] /MK Change - uFilters - cbSales.Enabled := WinData.ShowAllAnimals.
                        //  02/12/11 [V5.0 R2.4] /MK Change - uLivestockInent - Changed Caption From "Culled Cows" to "Cull Cows".
                        //  02/12/11 [V5.0 R2.4] /MK Change - MenuUnit - Only Show Parlour Events Button On FormActive Not Parlour Events Screen.
                        //                       /MK Bug Fix - MenuUnit - Clear Filter Not Setting WinData.ShowAllAnimals To False.
                        //  05/12/11 [V5.0 R2.4] /MK Bug Fix - uKImport - Customer Drop-Down-Width Was Lower Than Component Width.
                        //  05/12/11 [V5.0 R2.4] /MK Additional Feature - uCrushSalesGroup - IAD Additions.
                        //  05/12/11 [V5.0 R2.4] /MK Change - New VPANo Field Added To Medicine Table And Medicine Setup Screen.

//   iHerdVerNo = 5023; //  29/11/11 [V5.0 R2.3] /MK Change - uCrushSalesGroup - Added Some New Features For IAD.
                        //  30/11/11 [V5.0 R2.3] /MK Change - uCrushSalesGroup - Create Pre-Sale Weighing As Well As Weighing Event.
                        //  30/11/11 [V5.0 R2.3] /MK Bug Fix - uCrushBarcode - Free TWeighingEvent After Post For Immediate Events Table Post.  

//   iHerdVerNo = 5022; //  21/11/11 [V5.0 R2.2] /MK Additional Feature - MenuUnit - Changed actCrushPurchase To actCrushSales.
                        //  21/11/11 [V5.0 R2.2] /MK Additional Feature - uCrushSalesGroup - New Unit For IAD Crush Sales.
                        //  22/11/11 [V5.0 R2.2] /MK Change - uCalvings - CheckAnimal - Changed Drying Off Error To Yes/No Warning.
                        //  24/11/11 [V5.0 R2.2] /MK Change - MenuUnit - Check For Condition Score Filter.
                        //  24/11/11 [V5.0 R2.2] /MK Additional Feature - uFilters - Changes For Condition Score Filter.
                        //  24/11/11 [V5.0 R2.2] /MK Additional Feature - SetupAnimals - Fixed New DBLookupDrowDownBox For SiresDB.
                        //  25/11/11 [V5.0 R2.2] /MK Bug - uBBPPurchScr - If TBTestDate Entered On Crush System Then Update Animals With TBTestDate.
                        //  25/11/11 [V5.0 R2.2] /MK Change - uCrushPurchGrpAnimalSearch - Find on teSearchAnimalTagKeyDown Is Enter.
                        //  25/11/11 [V5.0 R2.2] /MK Change - uCrushSalesGroup - Added Some New Features For IAD.

//   iHerdVerNo = 5021; //  14/11/11 [V5.0 R2.1] /MK Bug Fix - MenuUnit - SetupForm - Setting The ICBF Action In Code.
                        //  14/11/11 [V5.0 R2.1] /MK Bug Fix - DairyData - EventsAfterPost - NewCalves - Pedigree Boolean Was Not Being Set Right After Undelete Calving.
                        //  14/11/11 [V5.0 R2.1] /MK Bug Fix - uHerdSetup - DBNavClick - No Need For WinData.ValidateHerd Check As WinData.OwnerFileHerdIdentityChange Already Looks After This.
                        //  14/11/11 [V5.0 R2.1] /MK Bug Fix - uDefaults - rgNatIDClick - Check HerdCountry, If HerdCountry <> Ireland Then Set Mask To IE On Click Not WinData.DefaultHerdIdentifierMask.
                        //  14/11/11 [V5.0 R2.1] /MK Bug Fix - uCMMSPermits - BuyerCloseup - Changed Message To That Of lBuyerDestination Label.
                        //  16/11/11 [V5.0 R2.1] /MK Change - Changed MessageDlg Box to Application.MessageBox to Default To No.
                        //  16/11/11 [V5.0 R2.1] /MK Change - BrowseRegisterU - Do Not Allow Download Of Register If KInstaller Does Not Exist.

//   iHerdVerNo = 5020; //  12/11/11 [V5.0 R2.0] /MK Bug Fix - uEventsByGroup - Do Not Allow Multi Drug For Drying Off.
                        //  13/11/11 [V5.0 R2.0] /MK Change - uNewUIHealthEvent - If EventType = DryingOff Then Do Not Show ICBF Event Code.

//   iHerdVerNo = 5019; //  08/11/11 [V5.0 R1.9] /MK Change - uFertIndicesRpt - New way of checking for Non Detected Oestrus.

//   iHerdVerNo = 5018; //  08/11/11 [V5.0 R1.8] /MK Bug Fix - ShowCalvingEvent - If Not Mandatory Breeding Or Drying Tick Calving Event Would Not Show.

//   iHerdVerNo = 5017; //  28/10/11 [V5.0 R1.7] /MK Bug Fix - FertAnalysisRpt - LoadScreenDefaults - If TIndividualCowFert LactRange ToLact Result = 0 Then ToLact := 30.
                        //  01/11/11 [V5.0 R1.7] /MK Change - MenuUnit - If Def.Defintion.dUseCrush Then uCrushBarcode.Visible.
                        //  01/11/11 [V5.0 R1.7] /MK Change - uGlobalSettings - If Def.Defintion.dUseCrush Then cbCrus.Visible.
                        //  01/11/11 [V5.0 R1.7] /MK Additional Feature - uFertilityCheckReport - Added PDStatus To The Report.
                        //  02/11/11 [V5.0 R1.7] /MK Additional Feature - uFertilityCheckReport - Added PDDate & ShowRadioGroup To The Report.
                        //  02/11/11 [V5.0 R1.7] /MK Bug Fix - uEventsByGroup - Fertility Check Event - Set Querys.Active For Status & Action To True After Report Is Shown.
                        //  03/11/11 [V5.0 R1.7] /MK Additional Feature - uMartImportByFile - Add VatCalculation On Price From Sales And Purchase Files.

//   iHerdVerNo = 5016; //  25/10/11 [V5.0 R1.6] /MK Additional Feature - New Units, uAnimalBrowser, uNewUIHealthEvent, uNewUIBullingEvent & uAnimalBrowserEventBase.
                        //  25/10/11 [V5.0 R1.6] /MK Change - uGlobalSettings - cbCrush.Visible If HerdType Is Beef Or Dairy. Change Caption To Crush or Parlour Events.
                        //  25/10/11 [V5.0 R1.6] /MK Change - MenuUnit - If HerdType = Dairy Then Show AnimalBrowser Or If Beef Then Show IAD Crush.
                        //  25/10/11 [V5.0 R1.6] /MK Additional Feature - MenuUnit - Added New Button For Parlour Events.
                        //  26/10/11 [V5.0 R1.6] /MK Additional Feature - MenuUnit - New Option On Cart Drop-Down For Enable/Disable SpaceBar Which Enables SpaceBar Add To Cart.
                        //                       /MK Change - MenuUnit - Changed Caption Of Reconcile Herd To CMMS Reconciliation.
                        //                                             - Added New Animal Select Option For All Calves This Year / Last Year.
                        //  26/10/11 [V5.0 R1.6] /MK Change - uWeighingFlt - Changed Caption Of QRLabel5 From Interval No. To No. Animals Weighed.
                        //  27/10/11 [V5.0 R1.6] /MK Additional Feature - uTagReplacementForm - Added Warning For Current Prices.

//   iHerdVerNo = 5015; //  17/10/11 [V5.0 R1.5] /MK Additional Feature - SetupAnimals - Changed Look Of AnimalPages PageControl.
                        //  18/10/11 [V5.0 R1.5] /MK Change - uMartImportByFileReview - Changed Price, Haulage and Commission Field Properties to CurrencyEdit.
                        //  18/10/11 [V5.0 R1.5] /MK Additional Feature - uUpdateTables - Added UpdatePregDiag Back Into CheckDatabaseTables To Add CalfType Field.
                        //  18/10/11 [V5.0 R1.5] /MK Additional Feature - DairyData - Added CalfType Field to PregDiag.
                        //  18/10/11 [V5.0 R1.5] /MK Additional Feature - uMilkRec - Changes For DSMember Users For Windows 7.
                        //  18/10/11 [V5.0 R1.5] /MK Bug Fix - uCalvings - Fix For RollBackTag On CalfDeadChange.
                        //  19/10/11 [V5.0 R1.5] /MK Additional Feature - PregDiag - Added Calf Type Option.
                        //  19/10/11 [V5.0 R1.5] /MK Additional Feature - ActionReminderFlt - Added Calf Type Option To DueToCalve Report.
                        //  19/10/11 [V5.0 R1.5] /MK Additional Feature - AncestryTree - Added DateOfBirth To Current Animal.
                        //  20/10/11 [V5.0 R1.5] /MK Change - MenuUnit -  ShowCalvingEvent - If MandatoryDry or MandatoryBreeding Change Information To Warning,
                        //                                                                   if Yes To Continue Then ShowCalving.
                        //  20/10/11 [V5.0 R1.5] /MK Additional Feature - DueToCalve - Changed Sizes Of LastBirthType And LastCalfType To Allow For QuadCalf.

//   iHerdVerNo = 5014; //  12/10/11 [V5.0 R1.4] /MK Bug Fix - DairyData - TempCalving.OnNewRecord - If DairyHerd And Female Calf Then Default Breeding As True.
                        //  12/10/11 [V5.0 R1.4] /MK Bug Fix - MenuUnit - Clear Select Button Does Not Appear If Animals Added To Cart
                        //                                              - Grid Filter Cleared Not Setting Filter On Back To Filter.
                        //                       /MK Additional Feature - MenuUnit - Added Group Setup To Cart Pop Up Menu.

//   iHerdVerNo = 5013; //  07/10/11 [V5.0 R1.3] /MK Change - FertAnalysisRpt - Changed Caption of QRLabel15 From Pregnancy Status To PD Status.
                        //  07/10/11 [V5.0 R1.3] /MK Change - uFilters - Changed Caption of rbPregnant And rbNotPregnant
                        //  07/10/11 [V5.0 R1.3] /MK Additional Feature - SetupAnimals - Added SireNo And SireBreed To Calf Performance.
                        //                                                             - Made Other Visual Changes to Calf Performance & Fertility History.
                        //  07/10/11 [V5.0 R1.3] /MK Additional Feature - uWeighingFlt - Added Sex And Sire Not To WeighingRep.AnimalBand.
                        //  10/10/11 [V5.0 R1.3] /MK Additional Feature - MenuUnit - btnClearFilter Visible Problems Fixed.
                        //  10/10/11 [V5.0 R1.3] /MK Bug Fix - DairyData - Program Was Picking Up The DefaultHerdID As 0 All The Time As Defaults Was Closed.
                        //  10/10/11 [V5.0 R1.3] /MK Change - DairyData - Added Pedigree To TempCalving And CalvingRecords.
                        //  10/10/11 [V5.0 R1.3] /MK Change - uCalvings - Added Pedigree Tick Box If Pedigree Module.
                        //  10/10/11 [V5.0 R1.3] /MK Additional Feature - SetupAnimals - Add Service Bull And Service Type For Zero Lact Services.
                        //  10/10/11 [V5.0 R1.3] /MK Change - uWeighingFlt - Changed Order Of WeighingDetailBand Like Setup Animals Order.
                        //  10/10/11 [V5.0 R1.3]                           - Show Full Detail If BirthWeight Or Purchase Details Exist.
                        //  11/10/11 [V5.0 R1.3] /MK Bug Fix - FertAnalysisRpt - Include False PD Results In Report.
                        //  11/10/11 [V5.0 R1.3] /MK Additional Feature - SetupAnimals - AnimalPrint - lPedigree, lPedigree1 and lPedigree2 Were Not Looking At WinData.AnimalFileByID.

//   iHerdVerNo = 5012; //  06/10/11 [V5.0 R1.2] /MK Additional Feature - uBBPPurchScr - New StartNewLot Procedure For IAD.
                        //  06/10/11 [V5.0 R1.2] /MK Additional Feature - SetupAnimals - Add Zero Lact Services To HoldLactInfo Table First.

//   iHerdVerNo = 5011; //  04/10/11 [V5.0 R1.1] /MK Additional Feature - uBBPPurchScr - Various Changes Made For Crush System To Updates Animals In Herd With Purchase Details.
                        //  04/10/11 [V5.0 R1.1] /MK Additional Feature - uCrushPurchGrpAnimalSearch - New Unit Used If Crush System In uBBPPurchScr.
                        //  04/10/11 [V5.0 R1.1] /MK Additional Feature - DairyData - Update To SetBullInUse Set UsedForBreeding As Well As InUse.
                        //  04/10/11 [V5.0 R1.1] /MK Change - MenuUnit - Call SetupQuery To Sort New Breeding Boolean Change In WinData.SetBullInUse.

//   iHerdVerNo = 5010; //  03/10/11 [V5.0 R1.0] /MK Change - MenuUnit - Check If EBI, CalvingDate, ServiceDate & ConditionScore In Grid Cols Is Visible.
                        //  03/10/11 [V5.0 R1.0] /MK Additional Feature - DairyData - New Procedure, CheckNIHerdDesignator, To Update HerdIdentifier As HerdID For NI Herds For Calvings.
                        //  30/09/11 [V5.0 R1.0] /MK Change - uCalvings - bSet Is Visible Where Country Is Not Ireland Or NIreland.

//   iHerdVerNo = 5009; //  29/09/11 [V5.0 R0.9] /MK Additional Feature - uFertilityAnalysis - Changed Caption To Weekly Diary And Export File FileName To WeeklyDiary.
                        //  29/09/11 [V5.0 R0.9] /MK Additional Feature - MenuUnit - New Filter, Cart and Clear Select Button At The Top Of The Grid.
                        //  29/09/11 [V5.0 R0.9] /MK Bug Fix - MenuUnit - FilterCart1Click Not Saving LastHerdID.
                        //  28/09/11 [V5.0 R0.9] /MK Change - uReports - Changed Placement Of Bull List And Recent Activities In nbgCowRecordingControl.
                        //  29/09/11 [V5.0 R0.7] /MK Additional Feature - uUpdateTables - Added New APHIS Disposal Manners From Skype List From TGM.

//   iHerdVerNo = 5008; //  16/09/11 [V5.0 R0.8] /MK Bug Fix - ICBFPCDownload1 Was Not Visible.

//   iHerdVerNo = 5007; //  13/09/11 [V5.0 R0.7] /MK Bug Fix - MenuUnit - ActMovmentsPermitsClick Was Looking At Movements In And Not APHISMovements.

//   iHerdVerNo = 5006; //  05/09/11 [V5.0 R0.6] /MK Additional Feature - DairyData - EventsAfterPost - If Birth Weight Then Add Weighing Event For Irish Herds Only.
                        //  06/09/11 [V5.0 R0.6] /MK Change - StockInHerdFilt - Changed rgInclude.ItemIndex[3].Caption To All Animals As Requested By GL.
                        //  07/09/11 [V5.0 R0.6] /MK Additional Feature - uCrushBarcdoe - Check If Barcode Is 12 Digits And Save Breed Properly.
                        //  08/09/11 [V5.0 R0.6] /MK Additional Feature - New MPEvent For Milk Temperment. Emailed To ICBF Under Health Event With Event Code "T" Followed By Score.

//   iHerdVerNo = 5005; //  05/09/11 [V5.0 R0.5] /MK Additional Feature - uCrushBarcode - Added Feature To Remember Last AnimalNo For Male And Female.
                        //                                              - DairyData - Default New Report Screen Layout For Everybody.
                        //                                              - uGlobalSettings - Removed New Report Screen Preference.
                        //                                              - uUpdateTables - Update The Defaults Table And Add The CrushMaleAnimalNo/CrushFemaleAnimalNo Fields.
                        //                                              - uMenuUnit - Added Rounded Edges To Link Panels and Made Room For NetBooks.
                        //                                              - uMenuUnit - Add Show Message For Weaning Events.

//   iHerdVerNo = 5004; //  01/09/11 [V5.0 R0.4] /MK Bug Fix - Changed The Tags Of pAnimalWelfareContainter To Suit ConditionScore1Click Procedure.

//   iHerdVerNo = 5003; //  26/08/11 [V5.0 R0.3] /MK Additional Feature - On The Next Major Upgrade Set The WinData.DisplayNews To True.

//   iHerdVerNo = 5002; //  24/08/11 [V5.0 R0.2] /MK Additional Feature - uWeighingFlt - Various Changes.
//                      //                                              - MenuUnit - Show Backup Reminder On FormClose Not FormCreate.

//   iHerdVerNo = 5001; //  12/08/11 [V5.0 R0.1] /MK/SP Additional Feature - MenuUnit - New IAD uCrushBarcode Screen Is Show If GlobalSettings.Crush.
//                      //                                                 - uGlobalSettings - Added New Crush Boolean - Show If SuckModule Is False.

//   iHerdVerNo = 5000; //  02/08/11 [V5.0 R0.0] /MK/SP Additional Feature - MenuUnit - New Main Screen.
//                      //  04/08/11 [V5.0 R0.0] /MK/SP Additional Feature - uReports - On Mouse Enter For Each NavBar The Program Will Show Reports That Normal Appear On Down Arrow Click.
//                      //                                                            - For NavBar's That Have Up/Down Arrows, NavBar Caption Also Displays Report Index Selected + NavBar Item Count.

//   iHerdVerNo = 4147; //  23/08/11 [V4.1 R4.7] /MK Additional Feature - fmAnimalCartView - Added SortAnimalNo & SortNatID Fields to AnimalGrid.

//   iHerdVerNo = 4146; //  18/08/11 [V4.1 R4.6] SP - APHIS Registration - Link to aphisws now using xml files to transfer data between
                        //                       herd + c# program. The link to BDE/Paradox failed on 64bit machines.

//   iHerdVerNo = 4145; //  11/08/11 [V4.1 R4.5] /MK Bug Fix - Check To See If TagExists If Not Read Other Field.

//   iHerdVerNo = 4144; //  05/08/11 [V4.1 R4.4] /MK Additional Feature - uElecWeigh - Added New TruTest EZI Weighing Import.

//   iHerdVerNo = 4143; //  02/08/11 [V4.1 R4.3] /MK Additional Feature - uHUKIFarmEvents - Added Calf Usage Information.
                        //  02/08/11 [V4.1 R4.3] /MK Additional Feature - DairyData - Added NewLine Marts To mdMarts.
                        //  02/08/11 [V4.1 R4.3] /MK Additional Feature - MenuUnit - Do Not Show Calf Reg Warning If Beef Herd.

//   iHerdVerNo = 4142; //  14/07/11 [V4.1 R4.2] /MK Bug Fix - ActionReminderFilt - Added New Logic So Regardless Of Cows/Heifers DueToPD SQL Where Clause Exists.
                        //  19/07/11 [V4.1 R4.2] /MK Change - DairyData - Changed Check Of HerdID Length in ValidateHerd to 6 From 5 For NIreland.
                        //  22/07/11 [V4.1 R4.2] /MK Bug Fix - uHUKIFarmEvents.

//   iHerdVerNo = 4122; //  06/07/11 [V4.1 R2.2] /MK Bug Fix - uCalvings - If EventStatus = Amending Then ETCalvingEvent Is Based On AnimalLactNo - 1 Else CurrentLactNo.
                        //  06/07/11 [V4.1 R2.2] /MK Additional Feature - uRemittance - Added Slaney To Factory Request List.
                        //  07/07/11 [V4.1 R2.2] /MK Change - uRemittance - Now Bringing In CSV File Automatically - No Need For CSVImport Button.

//   iHerdVerNo = 4121; //  22/06/11 [V4.1 R2.1] /MK Bug Fix - uHUKIFarmEvents - If QMMS Then Default Start Date To 01/01/1990.
                        //  22/06/11 [V4.1 R2.1] /MK Additional Feature - uUKSireRegister - Added Montbeliarde and Brown Swiss Count to StatusBar.
                        //  22/06/11 [V4.1 R2.1] /MK Additional Feature - uDataBackup - Add Warning To Backup To Floppy Disk.
                        //  24/06/11 [V4.1 R2.1] /MK Bug Fix - uEventsByGroup - ChangedItem - If No Bulls In Table Integer Not Being Set.
                        //  30/06/11 [V4.1 R2.1] /MK Bug Fix - uHUKIFarmEvents - BullPBrd Variable Set But Not Needed For Export Line.
                        //                                                     - CalfPBrd Variable Set But Not Needed For Export Line.
                        //  30/06/11 [V4.1 R2.1] /MK Additional Feature - uCMMSPermits - Default Search to NatIDNum As Its The First Field.

//   iHerdVerNo = 4120; //  21/06/11 [V4.1 R2.0] /MK Bug Fix - uSalesKillOutPercs - Check Database State Before Post.
                        //  21/06/11 [V4.1 R2.0] /MK Bug Fix - DairyData - CTSBirthRegCount - Function Was Not Checking If Calves Were InHerd.
                        //  21/06/11 [V4.1 R2.0] /MK Bug Fix - uRemittanceRecord - Fix For If More Than One Kill Out Animal Type.
                        //  21/06/11 [V4.1 R2.0] /MK Change  - SetupAnimals - qHealth - Only Show Health/DryOff Events If Medicine Exists In Health Table.
                        //  21/06/11 [V4.1 R2.0] /MK Bug Fix - SetupAnimals - Set HoldLactInfo As Not Active After AnimalPrint.ShowModal.
                        //  22/06/11 [V4.1 R2.0] /MK Change - MenuUnit - LogMeIn Button - Changed From CallExternalProgram To ShellExecute.

//   iHerdVerNo = 4119; //  20/06/11 [V4.1 R1.9] /MK Bug Fix - uHUKIFarmEvents - CheckValidAnimalNo Was Not Returning True If AnimalNo < 4 Without / or (.
                        //  14/06/11 [V4.1 R1.9] /MK Bug Fix - uBackupRestore - Changed Text To Verdana From Segoe UI.

//   iHerdVerNo = 4118; //  30/05/11 [V4.1 R1.8] /MK Additional Feature - uSalesKillOutPercs - Made Small Changes To Screen Position, TabKey, WinData.KillOutPercs On Post and Close.
                        //  01/06/11 [V4.1 R1.8] /MK Additional Feature - uCTSRegInfo - New Unit To Show CTS Birth And Movement Count on MenuUnit Form Show/Close If Count > 0.
                        //  03/06/11 [V4.1 R1.8] /MK Additional Feature - uLactationConsistencyChecker - Fixed Problem Where Grid Did Not Refresh After Create Calving.
                        //  03/06/11 [V4.1 R1.8] /MK Additional Feature - uActionReminderDefaults - Changed Caption On Form, GroupBox1 & GroupBox2 ProActive.
                        //  03/06/11 [V4.1 R1.8] /MK Additional Feature - uActionWarningReminderParams - Added CheckBox To Show ActionWarningReminders Report On Program Startup.
                        //  03/06/11 [V4.1 R1.8] /MK Additional Feature - ActionReminderFilt - BuildDueCalving - If Service After PD Then PDStatus = Undefined And Animal Appears With Include PD Ticked.
                        //  07/06/11 [V4.1 R1.8] /MK Additional Feature - ActionReminderFilt - BuildDuePD - If CullingEvent Found And PDStatus = No Then PDStatus = No/Cull
                        //  07/06/11 [V4.1 R1.8] /MK Bug Fix - uEventsByGroup - ChangedItem - Error If Not Locate Of AI LookupCode.
                        //  07/06/11 [V4.1 R1.8] /MK Additional Feature - uUpdateTables - UpdateGenlook - If Not Locate LookupCode AI Then Add LookupCode AI
                        //  08/06/11 [V4.1 R1.8] /MK Additional Feature - uMediPurch - Changed Caption To Unit Name & Added CalcPurchCaption on GridFocusedRecordChange.
                        //  13/06/11 [V4.1 R1.8] /MK Bug Fix - ActionReminderFilt - Moved WHERE Clause Of LactNo Before cbIncludeNotServed To Make It Work

//   iHerdVerNo = 4117; //  26/05/11 [V4.1 R1.7] /MK Additional Feature - BovineHerdReg - If Country Is England or Scotland Then qrLabel1.Caption Should Be 'Movement Book Of Bovine Animals'.
                        //  26/05/11 [V4.1 R1.7] /MK Additional Feature - MenuUnit - Run SetupQuery To Reload Main Grid With Bull Out Of Use Not Showing.
                        //  26/05/11 [V4.1 R1.7] /MK Additional Feature - uElecWeigh - Fixed Access Violation When Program Was Trying To Clear StringList.

//   iHerdVerNo = 4116; //  25/05/11 [V4.1 R1.6] /MK Additional Feature - uRemittance - Add KillOutPerc's Button To ToolBar.
                        //  25/05/11 [V4.1 R1.6] /MK Additional Feature - uRemittanceRecord - Take The KillOut% From KillOutPercs Table.
                        //                                                                  - Create Live Weight From KillOut% and ColdDeadWeight.
                        //  25/05/11 [V4.1 R1.6] /MK Additional Feature - uSalesDeaths - Fixed Tab Order - GL.
                        //  25/05/11 [V4.1 R1.6] /MK Additional Feature - uEventsByGroup - Fixed Tab Order - GL.
                        //  25/05/11 [V4.1 R1.6] /MK Additional Feature - uElecWeigh - If TruTest Then Match By NatIDNum From File Else Match By AnimalNo From File.
                        //  26/05/11 [V4.1 R1.6] /MK Additional Feature - MedicalPurchases - Fixed Problem Where Total/Average Expression Not Showing On Report.

//   iHerdVerNo = 4115; //  19/05/11 [V4.1 R1.5] /MK Bug - DairyData - EventsAfterPost Health/DryOff - UpdateMedicine Not Taking Account Of HealthNoTimes And HealthNoDays.
                        //  20/05/11 [V4.1 R1.5] /MK Additional Feature - DairyData - Changed ServiceEventAfterPost To Look At uSemenStockControl.
                        //  20/05/11 [V4.1 R1.5] /MK Additional Feature - uEventsByGroup - Stock Control Changes To Veterinary Treatments And Services.
                        //                                                               - Added NoDays And NoTimes In Veterinary Treatments.
                        //                                                               - Added No Of Straws In Service Events.
                        //  23/05/11 [V4.1 R1.5] /MK Change - DairyData - Changed Check Of HerdID Length in ValidateHerd to 5 From 6 For NIreland.
                        //  23/05/11 [V4.1 R1.5] /MK Change - All Units That Look At uMedicineSetup Changed ShowTheForm To Look At DrugID and Not Boolean.
                        //  24/05/11 [V4.1 R1.5] /MK Change - Changed Button Colour Of HelpLineNumber Boxes To btnButtonFace.
                        //  24/05/11 [V4.1 R1.5] /MK Change - uSalesKillOutPercs - Allow User To Enter Single Decimal Place KillOut Percentage.
                        //  24/05/11 [V4.1 R1.5] /MK Additional Feature - uMediPurch - Change "Batch No. In Use" to "Batch In Use" -  GL.
                        //                                                           - Moved Batch In Use Column To End of Grid.

//   iHerdVerNo = 4114; //  18/05/11 [V4.1 R1.4] /MK Modification - uHUKIFarmEvents - Export Pedigree Code If Country Is UK.

//   iHerdVerNo = 4113; //  17/05/11 [V4.1 R1.2] /MK Additional Feature - uEventsByGroup - Added Technician To Services.

//   iHerdVerNo = 4112; //  17/05/11 [V4.1 R1.2] /SP Additional Feature - MenuUnit - Added New Download Of Mail Attachments.
                        //  17/05/11 [V4.1 R1.2] /SP Change - uUpdateAnimalNo - Applied AnimalNo Change To English Herd.
                        //  17/05/11 [V4.1 R1.2] /MK Additional Feature - uVersionHistory - Added New Faciliy Notes.
                        //  17/05/11 [V4.1 R1.2] /MK Bug Fix - uMartImport - Changed Caption of rbPurchase and rbSales From AHPIS To APHIS.
                        //  11/05/11 [V4.1 R1.2] /MK Additional Feature - HealthFilterU - Added New Radio Group For Health, DryOff Or Both Events.
                        //  12/05/11 [V4.1 R1.2] /MK Additional Feature - uGroupUpdate - Added AnimalNumber/TagNo + Group Name And Group Type To actSaveExecute Successfull Message.
                        //  12/05/11 [V4.1 R1.2] /MK Additional Feature - Add Group Name To CheckIfInGroup Message.
                        //  12/05/11 [V4.1 R1.2] /MK Additional Feature - uCalvingSurveyForm - Changed seScore DisplayFormat and EditFormat To Decimal Value (#.##)

//   iHerdVerNo = 4101; //  06/05/11 [V4.1 R0.1] /MK Bug Fix - MenuUnit - If Beef Herd Then DO NOT SHOW Animal Select - GL
                        //  06/05/11 [V4.1 R0.1] /MK Change - DairyData - If Editing Recording Then Don't Show CheckIfPurchasedAnimal Error.
                        //  06/05/11 [V4.1 R0.1] /MK Change - uHerdRec - Show Load File Screen On Form Show + Other Changes.
                        //  07/05/11 [V4.1 R0.1] /MK Bug - DairyData - If Changing AnimalFileByIDDateOfBirth Then Show Remark Box. 

//   iHerdVerNo = 4100; //  04/05/11 [V4.1 R0.0] /MK Bug Fix - uEventsByGroup - OnEnteringControl Was Not Rembering New cxDateControl.
                        //  04/05/11 [V4.1 R0.0] /MK Bug Fix - MenuUnit - Set Style To Normal Animal If Reg DefaultGridDisplay Values Are All Zero.
                        //  04/05/11 [V4.1 R0.0] /MK Bug Fix - MenuUnit - OnClearFilter HerdCombo Was Enabled - Only Enable If Not MultiHerd.
                        //  04/05/11 [V4.1 R0.0] /MK Bug Fix - SetupAnimals - OnFormShow And SexComboChange If Steer Then Breeding and Pedgiree Is Not Visible.
                        //                                                  - If Sex Changed To Bull Then Breeding Is Checked Automatically.
                        //                                                  - If tAnimalType Is Purchasing Then NatIDMask Is Blank. If Add In SetupAnimals Then It Remembers Mask.
                        //  04/05/11 [V4.1 R0.0] /MK Additional Feature - uHealth - qDrugList Changed To Only Show Drugs That Are InUse.
                        //  04/05/11 [V4.1 R0.0] /MK Additional Feature - HerdLookUp - qDrugList Changed To Only Show Drugs That Are InUse.

//   iHerdVerNo = 4099; //  28/04/11 [V4.0 R9.9] /MK Change - MenuUnit - Disable cbDefaultHerd If Not MultiHerd System.
                        //  29/04/11 [V4.0 R9.9] /MK Change - uEventsByGroup - Changed cxDBDateBox For FertilityCheck To RXDBDateBox As cxDBDateBox Was Reloading FormCreate.
                        //  29/04/11 [V4.0 R9.9] /MK Change - uFertilityCheckReport - If FertCheckProgram Start Date Is Blank Then Use FertCheckEventDate.
                        //                                                          - Filter By EventDate From And To.
                        //  30/04/11 [V4.0 R9.9] /MK Change - GL Wanted To Show All FertCheck Events Even If No Action Or Status.
                        //  04/05/11 [V4.0 R9.9] /MK Additional Feature - DairyData - New Function GetDefaultHerdID To Make Sure That Defaults.DefaultHerdID Is Set To Right ID.

//   iHerdVerNo = 4098; //  26/04/11 [V4.0 R9.8] /MK Additional Feature - AnimalPrint - Program Now Allows The User To Select Which Sections To Print on Each QReport
                        //                                                              Depending On The Animal Sex.
                        //  26/04/11 [V4.0 R9.8] /MK Additional Feature - SetupAnimals - Print Button Now Looks At New Animal Print Select screen.
                        //  20/04/11 [V4.0 R9.8] /MK Bug Fix - uRemittanceRecord - If Vat Registered Then If Price and ColdDeadWeight Then Calculate PricePerKg
                        //                                                         On Converted Price From Vat Divided By ColdDeadWeight On The File.
                        //  26/04/11 [V4.0 R9.8] /MK Additional Feature - SetupAnimals - Changed Dairy Tab To Dairy Indeces.

//   iHerdVerNo = 4097; //  18/04/11 [V4.0 R9.7] /MK Change - uSalesDeaths - New Button To Look At WinData.KillOutPercs.db.
                        //  18/04/11 [V4.0 R9.7] /MK Change - uKillOutCalculator - New Function To Look For KillOutPerc From WinData.KillOutPercs.db.
                        //  18/04/11 [V4.0 R9.7] /MK Change - uUpdateTables - New Function To Add KillOutPercs.db and Default Kill Out Perc Values.
                        //  19/04/11 [V4.0 R9.8] /MK Additional Feature - uMilkDiskReview - When Summing Values For Footer Check For Filtered Animals In SQL.
                        //  19/04/11 [V4.0 R9.8] /MK Bug - uCTSBirthReg - Check To See if CTSLogInDetails Exits Before Sending Request.
                        //  19/04/11 [V4.0 R9.8] /MK Bug - uCTSMovementReg - Check To See if CTSLogInDetails Exits Before Sending Request.

//   iHerdVerNo = 4096; //  15/04/11 [V4.0 R9.6] /MK Additional Feature - uEventFilter - Event Diary Now Shows Feed Events & Allows Block Delete.
                        //  15/04/11 [V4.0 R9.6] /MK Additional Feature - uNIVetTreatments- If Herd Country = NIreland Then Change 7 Day Report Heading to Health & Welfare.

//   iHerdVerNo = 4095; //  12/04/11 [V4.0 R9.5] /MK Additional Feature - uCTSBirthReg - Check To See if CTSLogInDetails Exits Before Sending Request.
                        //  12/04/11 [V4.0 R9.5] /MK Additional Feature - uCTSMovementReg - Check To See if CTSLogInDetails Exits Before Sending Request.
                        //  12/04/11 [V4.0 R9.5] /MK Change - Services - New Query qHistBullUsed (Just Breeding). Assign DataSource1.DateSet this query if WinData.Events.State = Edit Mode.
                        //                                             - If WinData.Events.State = Insert Mode then DataSource1.DateSet = qBullUsed (InUse And Breeding)

//   iHerdVerNo = 4094; //  06/04/11 [V4.0 R9.4] /MK Bug Fix - uMartEmailRequest - Check To See If Herd Type Is Beef Before Prompting For Herd Identifier on Send Email.
                        //  06/04/11 [V4.0 R9.4] /MK Bug Fix - MenuUnit - Set rgCurrency To Not Visible Regardless.
                        //  07/04/11 [V4.0 R9.4] /MK Change - uHerdStatistics - Drop 100% For All Services, All Calvings and All Calves + Textual Changes.
                        //  07/04/11 [V4.0 R9.4] /MK Additional Feature - uHerdStatistics - If Spring Calving Herd Then Default StartDate To 01/01/CurrentYear.
                        //  07/04/11 [V4.0 R9.4] /MK Additional Feature - GenTypes - Added 'BG, BGX, BZ, BZX, SP, SPX, UN' Missing Bandon Breeds For Irish Herd Only.
                        //  07/04/11 [V4.0 R9.4] /MK Additional Feature - uUpdateTables - Added 'BG, BGX, BZ, BZX, SP, SPX, UN' Missing Bandon Breeds For Irish Herd Only.
                        //  08/04/11 [V4.0 R9.4] /MK Bug Fix - MenuUnit - Animal Select Bulls In Use Should Include Bulls That Are Breeding AND In Use.
                        //  08/04/11 [V4.0 R9.4] /MK Additional Feature - uHerdStatistics - Add * To Breeding Heifers And Add Comment At Bottom of gbCattle For "Includes All Breeds".
                        //  08/04/11 [V4.0 R9.4] /MK Additional Feature - DairyData - On AnimalFileByID.BreedingChange If Sender Is False Then Set BullSemenStkInUse = False.

//   iHerdVerNo = 4093; //  04/04/2011 [V4.0 R9.2] - MK - GenTypesConst - Added WA, WAX as Valid Breed Codes for Calf Reg.

//   iHerdVerNo = 4092; //  04/04/2011 [V4.0 R9.2] - MK - uLivestockSum - Program was including purchases in birth calculations.

//   iHerdVerNo = 4091; //  31/03/11 [V4.0 R9.1] /MK Modification - uHUKIFarmEvents - Program Not Exporting Calf2Ease To File - Change Made To Export Calf2Ease.
                        //  01/04/11 [V4.0 R9.1] /SP Additional Feature - uSQLFilters - New FilteredTableName Property For HerdRec Error.
                        //  01/04/11 [V4.0 R9.1] /SP Additional Feature - MenuUnit - Look At New FilteredTableName Property In uSQLFilters.
                        //  01/04/11 [V4.0 R9.1] /SP Additional Feature - uHerdRec - Look At New FilteredTableName Property In uSQLFilters.
                        //  02/04/11 [V4.0 R9.1] /SP Additional Feature - uLivestockSum - If No First Or Second Calving Date And LactNo > 1 Then Animal Is Cow Else Heifer.
                        //  02/04/11 [V4.0 R9.1] /SP Additional Feature - uLivestockSum - Check For Cows That Have Second Lactation And No First Calving, If Exists Show Check Calving Consistency Screen.
                        //  02/04/11 [V4.0 R9.1] /SP Additional Feature - MenuUnit - New Check For Calving Consistency In Utilities.

//  iHerdVerNo = 4090;  //  28/03/11 [V4.0 R9.0] /MK Modification - Serivces - Changed qServiceBull Query To Only Show Bulls That Are Breeding AND InUse.
                        //  28/03/11 [V4.0 R9.0] /SP Modification - uCTSMovementReg - Allow Deaths To Be Registered.

//  iHerdVerNo = 4089;  //  25/03/11 [V4.0 R8.9] /MK Modification - ActionReminderFlt - Changed Caption of cbIncCowsNot To Indicate Cows No Service/With Service.
                        //  25/03/11 [V4.0 R8.9] /MK Modification - ActionReminderFlt - Slight Change to SQL for qDuePDReport.

//  iHerdVerNo = 4088;  //  18/03/11 [V4.0 R8.8] /MK Additional Feature - MenuUnit - New Quick Filter/Animal Select Drop-Down-List Above Main Grid.
                        //  18/03/11 [V4.0 R8.8] /MK Additional Feature - GenTypesConst - New Type For Heifer Type.
                        //  22/03/11 [V4.0 R8.8] /MK Additional Feature - MenuUnit - If OwnerFile.RecordCount > 2 Then cbSelectHerd.Visible Is True Else False.
                        //  22/03/11 [V4.0 R8.8] /MK Additional Feature - DairyData - New Property To Check OwnerFile.RecordCount.

//  iHerdVerNo = 4087;  //  11/03/11 [V4.0 R8.7] /MK Change - MenuUnit - Changed Caption of sbAddAnimalType To Add Animal Where Beef System.
                        //  12/03/11 [V4.0 R8.7] /MK Additional Feature - uCTSBirthReg - Added Print Button For Calves To Be Registered and Calves Registered screens.
                        //  12/03/11 [V4.0 R8.7] /MK Additional Feature - uCTSMovementReg - Added Print Button For Movements To Be Registered And Movements Registered.
                        //  12/03/11 [V4.0 R8.7] /MK Additional Feature - MenuUnit - Added Calving Date Column To Animal Grid.
                        //  12/03/11 [V4.0 R8.7] /MK Additional Feature - MenuUnit - Added Service Date Column To Animal Grid.
                        //  14/03/11 [V4.0 R8.7] /MK Additional Feature - uEventsByGroup - Added AddToEventLookUpData For Service Event On SaveClick.

//  iHerdVerNo = 4086;  //  04/03/11 [V4.0 R8.6] /MK Bug - MenuUnit - If English Herd Then Check For UKMilkRecorder In HerdSetup To Assign Caption.
                        //  07/03/11 [V4.0 R8.6] /MK Bug - MenuUnit - cbAllAnimalsClick Was Change Color Of MultipleAnimal/Breeding PageControls To White.
                        //  08/03/11 [V4.0 R8.6] /MK Change - SetupAnimals - Changed AnimalBreed ListFieldIndex To 0 So Type Search Is Based On Breed Code.
                        //  08/03/11 [V4.0 R8.6] /MK Change - DairyData - New Index For Breeds Table To Sort By SetupAnimals Breed List By BreedCode.
                        //  08/03/11 [V4.0 R8.6] /MK Change - MenuUnit - Changed Captions of pmAISireOptions.
                        //  28/02/11 [V4.0 R8.6] /MK Additional Feature - MenuUnit - Changed Add Animal To Add AI Sire And Removed Add Purchased In Herd Option.
                        //  28/02/11 [V4.0 R8.6] /MK Additional Feature - DairyData - On AnimalFileByID.BeforeInsert Set AnimalFileByIDNatIDNum Mask Depending On Country.
                        //                                                          - On AnimalFileByIDDateOfBirth.Change Check If Ireland And NatID Matches Herd Designator
                        //                                                            And HerdType <> Beef And DateOfBirth < 3 Months Then Show Message.
                        //  01/03/11 [V4.0 R8.6] /MK Additional Feature - MenuUnit - New CheckBox For Show AI Bulls Only.
                        //  01/03/11 [V4.0 R8.6] /MK Change - MenuUnit - If Beef Herd Then Movements Click Not Premium/CalfReg Click.
                        //  01/03/11 [V4.0 R8.6] /MK Change - MenuUnit - Only Show cbShowAIBulls If HerdType <> BEEF.
                        //  02/03/11 [V4.0 R8.6] /MK Bug - MenuUnit - Fixed Error When Unticking All Animals After Grid Column Filter.
                        //  02/03/11 [V4.0 R8.6] /MK Bug Fix - DairyData - TempCalvingCalfDeadChange Was Changing AutoGenTag On Double-Click Of Calving Event.
                        //  03/03/11 [V4.0 R8.6] /MK Bug Fix - DairyData - Program Not Clearing CalvingSurvey After Save. This Was Upsetting uCalfRegFlt.Show.

//  iHerdVerNo = 4085   //  28/02/11 [V4.0 R8.5] /MK Bug Fix - Added UKMilkRecorder Field To Owners Regardless Of Country.

//  iHerdVerNo = 4084;  //  22/02/11 [V4.0 R8.4] /MK Additional Feature - GenTypesConst - New ListType 28 For UKMilkRecorder.
                        //  22/02/11 [V4.0 R8.4] /MK Additional Feature - Added Genlook Entries (CIS, NMR, QMMS) For UKMilkRecorder.
                        //  23/02/11 [V4.0 R8.4] /MK Change - MenuUnit - If System Is Ireland Then Show ConditionScore.
                        //  23/02/11 [V4.0 R8.4] /MK Additional Feature - uHerdSetup - Added New Milk Recorder Drop-Down-List For UK Herd.
                        //  23/02/11 [V4.0 R8.4] /MK Additional Feature - DairyData - New OwnerFile Field UKMilkRecorder, New UKMilkRecorder Query and DataSet.
                        //  24/02/11 [V4.0 R8.4] /MK Additional Feature - uHUKIFarmEvents - Check For UKMilkRecorder String - If CIS Export PedigreeBreed, If NMR/QMMS Export BreedCode.
                        //  24/02/11 [V4.0 R8.4] /MK Additional Feature - uMilkRec - Check For UKMilkRecorder String - Change Caption Depending.
                        //  25/02/11 [V4.0 R8.4] /MK Change - If System IS NI/UK Then Show New Create Milk Recorder File Option In mGroup (Calving Drop-Down).
                        //  25/02/11 [V4.0 R8.4] /MK Additional Feature - MenuUnit - Change Caption of Group Item Depending On UKMilkRecorder In OwnerFile.
                        //  25/02/11 [V4.0 R8.4] /MK Bug - uKImport - Fixed Bug Where Brucellosis Date and TBTestDate were not saving to Animals Table.

//  iHerdVerNo = 4083;  //  21/02/11 [V4.0 R8.3] /MK Modification - MenuUnit - Enable Weekly Export Regardless Of System Type.
                        //  21/02/11 [V4.0 R8.3] /SP Bug - uMartImportFile - Now Accepts Null Values For Price And Weight.

//  iHerdVerNo = 4082;  //  12/02/11 [V4.0 R8.2] /MK Modification - ActionReminderFilt - AllReportTypes - Added Check For WinData.FilteredAnimals.Count.
                        //  12/02/11 [V4.0 R8.2] /MK Modification - DairyData - LoadPreferences - Turn On RemoveNatIDFormatting Automatically If Not Exist For All CTSRegSystems .
                        //  17/02/11 [V4.0 R8.2] /MK Modification - MenuUnit - Changed CIS Export To Kay Carson uFertilityAnalysis Weekly Export.
                        //  17/02/11 [V4.0 R8.2] /MK New - MenuUnit - uFertilityAnalysis - New Unit For Kay Carson Weekly Export.
                        //  17/02/11 [V4.0 R8.2] /MK Addition - uUpdateTables - Added New Health Codes For Kay Carson Weekly Export if England.
                        //  17/02/11 [V4.0 R8.2] /MK Addition - uCTSBirthReg - If Herd Settings Locations Are Null Then ShowMessage and Set NatIDFormatting Preference To True.
                        //  17/02/11 [V4.0 R8.2] /MK Addition - uCTSMovementReg - If Herd Settings Locations Are Null Then ShowMessage and Set NatIDFormatting Preference To True.
                        //  17/02/11 [V4.0 R8.2] /MK Change - uReports - GL Wanted The Veterinary/Quality Assurance Section Laid Out So Veterinary Register and Purchases Are First
                        //  17/02/11 [V4.0 R8.2] /MK Bug Fix - BreedingAnalysisFilt- BestCowsReportQuery Was Not Checking If Month Between From Month And To Month.

//  iHerdVerNo = 4081;  //  09/02/11 [V4.0 R8.1] /SP - If there are unregistered (Bandon) calves the program will remind user on enter/exit of program.
                        //  10/02/11 [V4.0 R8.1] /MK Additional Feature - If VerNo Is Less Than V4.0R6.3 Then Set Calf Reg Preference On Automatically.

//  iHerdVerNo = 4080;  //  04/02/11 [V4.0 R8.0] /MK Bug Fix - uMilkRec - Added Line In CheckAnimals Where If AnimalCode or NatIDNum Does Not Exist On Milk File Then Inc NotMatched.

//  iHerdVerNo = 4079;  //  29/01/11 [V4.0 R7.9] /MK Change - uMenuUnit - Removed Highlights From pcMultipleAnimals.
                        //  31/01/11 [V4.0 R7.9] /MK Bug Fix - uConditionScoreReport - Fixed Bug Where Report Does Not Look At AFilters.db.
                        //  01/02/11 [V4.0 R7.9] /MK Change - uFeedPurch - Added New Grid and Link To Feed Purchase Report.
                        //  01/02/11 [V4.0 R7.9] /MK Bug Fix - MenuUnit - Fixed Bug With SQLFilters Message After Exit From Group Events.
                        //  01/02/11 [V4.0 R7.9] /MK Bug Fix - MenuUnit - Fixed Bug If Sire Is Not Used For Breeding Then Sire Code Shows On
                        //                                              - Grid But Grid Will Not Allow Filter By SireCode.
                        //  01/02/11 [V4.0 R7.9] /MK Bug Fix - MenuUnit - Fixed Bug If Dam Is Not Used For Breeding Then DamNo and DamNatID Shows On
                        //                                              - Grid But Grid Will Not Allow Filter By DamNo and DamNatID.

//  iHerdVerNo = 4078;  //  24/01/11 [V4.0 R7.8] /MK Change - uElecWeigh - File Header has extra space and should not.
                        //  25/01/11 [V4.0 R7.8] /MK Bug Fix - uCMMSFileImport - If NewAnimalID created next Animal's Sale Event was set to NewAnimalID.
                        //  25/01/11 [V4.0 R7.8] /SP Bug Fix - uLivestockSum - Major Change to Report for Animals and their Categories.
                        //  26/01/11 [V4.0 R7.8] /MK Change - uElecWeigh - Changed Link2000 To Link3000 as this is TruTest's New Program.

//  iHerdVerNo = 4077;  //  18/01/11 [V4.0 R7.7] /MK Change - BreedingAnalysisFilt - TotalTotalSolids Change to 305TotalSolids - GL.
                        //  18/01/11 [V4.0 R7.7] /MK Change - BestCowsInHerd - Changed Left of Total Solids, Feed Cost and Margin to allow 305TotalSolids to fit.
                        //  19/01/11 [V4.0 R7.7] /MK Change - uElecWeigh - Made Change to Export File to match that of the O'Donovan's Test File.

//  iHerdVerNo = 4076;  //  15/01/11 [V4.0 R7.6] /MK Additional Feature - FertAnalysisRpt - Add PD Date Option To Show Heifers/Cows Without Service.
                        //  15/01/11 [V4.0 R7.6] /MK Additional Feature - AnimalPrint - Added ElectronicID, Pedigree, 305Solids and CummulativeSolids to Reports.
                        //  15/01/11 [V4.0 R7.6] /MK Additional Feature - uGettingStarted - Added textual change for OtherEvents help note.

//  iHerdVerNo = 4075;  //  12/01/11 [V4.0 R7.5] /MK Change - uGetting Started - Made Several Textual and Order Changes.
                        //  05/01/11 [V4.0 R7.5] /Additional Feature - DairyData - Made Changes to Add Condition Score to MenuUnit.
                        //  05/01/11 [V4.0 R7.5] /Additional Feature - MenuUnit - Added Condition Score Column to AnimalGrid.

//  iHerdVerNo = 4074;  //  05/01/11 [V4.0 R7.4] /MK Additional Feature - uGettingStarted - Changed Health Event to Group Events - requested by GL.

//  iHerdVerNo = 4073;  //  22/12/10 [V4.0 R7.3] /MK Change - BreedingAnalysisFilt - Move Total Solids after Total Yield in Sort Options.
                        //                                                         - DO NOT SAVE REPORT DEFAULTS For ShowSccOrIndex Or ShowSoldsOrValue.
                        //  22/12/10 [V4.0 R7.3] /MK Additional Feature -uWeighingFlt - Add BirthWeight and Sire To Latest Weighings Report.
                        //                                                            - Add Averages For Birth Weight, Latest Weight and Last Weight.
                        //  22/12/10 [V4.0 R7.3] /MK Change - uVersionHistory - Changed Date of V3.9 R7.0 to April 10.
                        //  23/12/10 [V4.0 R7.3] /MK Bug - uHerdSetup - If England Then UK9 Label is Changed to UK.

//  iHerdVerNo = 4072;  //  30/11/10 [V4.0 R7.2] /MK Bug - SaleEligibility - If Country Ireland Don't Print FQAS Retention.
                        //  30/11/10 [V4.0 R7.2] /MK Bug - BreedingAnalysisFilt - Hide Hint On Milk Pricing Click.
                        //  30/11/10 [V4.0 R7.2] /MK Bug - uMilkPricing - If BFat Or Prot Standard % Values = Zero (0) Then Set Pence/litre of Milk and Pence/kg Values To Zero (0).
                        //  26/11/10 [V4.0 R7.2] /MK Additional Feature - uSalesReport - Changed Average of Net Margin Per Day On Farm To (Average Net Margin Divided By Average Days On Farm.
                        //  29/11/10 [V4.0 R7.2] /MK Additional Feature - uStockValuations - If Filter Applied on Main Grid, Show Animals In Filter.
                        //  29/11/10 [V4.0 R7.2] /MK Change - BestCowsInHerd - Changed lKgs to lMilkValue.
                        //  29/11/10 [V4.0 R7.2] /MK Additional Feature - BreedingAnalysisFilt - Second Show Option For Milk Value or Solids.
                        //                                                                     - Saving of New Radio Group In Report Defaults.
                        //  29/11/10 [V4.0 R7.2] /MK Change - DairyData - BeforeEventsPost - SalsDeaths - Moved Check For DaysOnFarm, Drug Withdrawal Date, TBTest and Brucellosit Test From uSalesDeaths To DairyData After No Customer Selected.
                        //  01/12/10 [V4.0 R7.2] /MK Additional Feature - uEventsByGroup - If ActviePage = Service Then If ServiceBull Is AIBull Then ServiceType Is AI.
                        //  01/12/10 [V4.0 R7.2] /MK Bug - uEventsByGroup - On pgEventsChange Set AnimalGrid.FrozenCols To 6 Where EventType Is All EventTypes.
                        //  02/12/10 [V4.0 R7.2] /MK Bug - uMilkTankRead - If Manual Entry Do Not Hide Filter Area.
                        //  07/12/10 [V4.0 R7.2] /MK Change - uMilkTankRead - Footer For Average Columns Shows Averages.
                        //  16/12/10 [V4.0 R7.2] /MK Change - uHerdSetup - FormCreate - If Herd IS NI/GB Then Do Not Show Herd Designator.
                        //  16/12/10 [V4.0 R7.2] /MK Change - DairyData - Owners.HerdIdentifer.Change - If Herd IS NI/GB Then Update HerdIdentifer Field In Owners.db With Herd Number.
                        //  07/12/10 [V4.0 R7.2] /MK Bug Fix - uMartImportByFileReview - New Field, ColdDeadWt, created for Cold Dead Weight to be saved from Grid.
                        //  07/12/10 [V4.0 R7.2] /MK Bug Fix - uMartImport - Fixed Issue With Total Weight Showing As Total Price and Total Price Showing As Total Weight in Review.

//  iHerdVerNo = 4071;  //  15/12/10 [Dev V4.0 R7.1] /SP Bug - MediPur new record not persisted to database. Cached updates was incorrectly
                        //                                     set to true on the TTable component MediPur in dairydata.

//  iHerdVerNo = 4061;  //  06/12/10 [V4.0 R6.1] /MK Bug Fix - uICBFPCDownloadImporter - Service Records Not Reading Second Service On File - Tony Doorley.

//  iHerdVerNo = 4060;  //  06/12/10 [V4.0 R6.0] /MK Bug Fix - uActionWarningReminders - Output Reminder Results - Repeat PD - Removed Check For LactNo > 0 (Zero Lact Heifers).
                        //  06/12/10 [V4.0 R6.0] /MK Bug Fix - uActionWarningReminders - Output Due Results - DueDryOff - Do No Check For Zero Lactation Heifers.

//  iHerdVerNo = 4059;  //  25/11/10 [V4.0 R5.9] /MK Modification - uAWEventsByGroup - Moved btnNotApplicable to right of date box to make it more visible.
                        //                                                           - Added lNotApplicable to explain what the btnNotApplicable does.
                        //  27/11/10 [V4.0 R5.9] /MK Change - uCalvings - Changed Full Term Caption To Calf Tagged and Abortion Caption To Foetus.

//  iHerdVerNo = 4058;  //  23/11/10 [V4.0 R5.8] /MK Additional Feature - MenuUnit - If Suckler Then Show Feed Types In System Files.
                        //  24/11/10 [V4.0 R5.8] /MK Bug Fix - ActionReminderFilt - BuildDueToPD - Removed If Clause For If ProjCalving > 0.
                        //  24/11/10 [V4.0 R5.8] /SP Additional Feature - uEventsByGroup - If Health Then Allow For Multi Drug Select.

//  iHerdVerNo = 4057;  //  23/11/10 [V4.0 R5.7] /MK Bug Fix - uAWEventsByGroup - Fixed Bug Where Docility and Calf Quality Grid Drop-Downs Where Not Separating.
                        //  23/11/10 [V4.0 R5.7] /MK Additional Feature - MenuUnit - LogMeIn Link Now Looks for LogMeIn Calling Card.exe.
                        //  23/11/10 [V4.0 R5.7] /MK Change - uHUKIFarmEvents - Purchase Records SQL Was Not Creating Calving Date Properly.

//  iHerdVerNo = 4056;  //  27/11/10 [V4.0 R5.9] /MK Change - uCalvings - Changed Full Term Caption To Calf Tagged and Abortion Caption To Foetus.
                        //  10/11/10 [V4.0 R5.6] /MK Change - HealthFilterU - Removed Saving and Loading of Lactation Range.
                        //  10/11/10 [V4.0 R5.6] /MK Additional Feature - uMilkDiskReview - If Animal Grid Filter Applied then Only Show Animals In Filter On Grid/Report
                        //                                                                - If Animal Grid Filter Applied Show pAnimalGridFilterApplied.
                        //                                                                - Changed Grid.DisplayFormat of DailyYield, DailyBFat, DailyProt, CumBFat, CumProt to 0.0 instead of #.##.
                        //                                                                - Changed Report.Mask of DailyYield, DailyBFat, DailyProt, CumBFat, CumProt to 0.0 instead of #.##.
                        //  12/11/10 [V4.0 R5.6] /MK Additional Feature - BreedingAnalysisFilt - If Country Is England Then Move SCC To Bottom Of SortOptions.
                        //  12/11/10 [V4.0 R5.6] /MK Additional Feature - uSetUpMilkDisk - If Country Is Ireland Then Enable ICBFBox and Check It.
                        //  12/11/10 [V4.0 R5.6] /MK Additional Feature - Services - Added BullCode to Comment in PlanedBull.CloseUp.
                        //  12/11/10 [V4.0 R5.6] /MK Additional Feature - PregDiag - Comment := Pregnant / DaysInCalf.
                        //  15/11/10 [V4.0 R5.6] /MK Additional Feature - uSalesDeaths - On Customer.Change Then dbComment.Text := Customer.Text.
                        //  15/11/10 [V4.0 R5.6] /MK Additional Feature - uPurchases - On Supplier.Change Then Comment.Text := Supplier.Text
                        //  16/11/10 [V4.0 R5.6] /MK Additional Feature - uHealth - If EventType = DryOff Then If Medicine And Withdrawal Dates for Milk Exist Then Comment = Drug / Milk Withdrawal Date
                        //  16/11/10 [V4.0 R5.6] /MK Additional Feature - Weighing - Comment = Weight.
                        //  16/11/10 [V4.0 R5.6] /MK Additional Feature - Bulling - Added PlannedBull to Comment on PlanedBull.CloseUp.

//  iHerdVerNo = 4055;  //  Change to weaning event in 4055 - SP 05/11/2010
                        //  Redirect Individual Weaning to block weaning, tighter weaning event validation
                        //  has been introduced making use of the TAWWeaningEventValidator class.
                        //  Prevent change of weaning date on event grid. This only applies to weaning event.
                        //  Weaning date must be the same for each weaning record. - Agreed with GL

//  iHerdVerNo = 4054; //  04/10/10 [V4.0 R5.4] /MK/SP Change - DairyData - TempCalvingAfterScroll Not If PDAEvents.
                       //  08/11/10 [V4.0 R5.4] /MK Change - uMilkRec - Added New ErrorReport For NationalID Number.

//  iHerdVerNo = 4053; //  29/10/10 [V4.0 R5.3] /SP - Allow block event deletion within the Diaryevents screen.
                       //  29/10/10 [V4.0 R5.3] /MK/SP Change - uElecWeigh - Using Parser to find Animal Number and Weight.
                       //  29/10/10 [V4.0 R5.3] /MK/SP Change - uHUKIFarmEvents - Purchase Records exports Milking Cows as Dry.
					   //  29/10/10 [V4.0 R5.3] /MK Change - GenTypesConst - Changed IP Address to HTTP Address of HolsteinUK, TheCIS and DairyCo.

//  iHerdVerNo = 4052; //  22/10/10 [V4.0 R5.2] /MK Additional Feature - uWeighingFilt - Added Report Type to select either WeightGain Or Latest Weighing Report
                       //                                                              - Change rgSortBy.ItemCaption[4] to Weight For Item 0, WeightGain For Item 1 and BirthWeight For Item 3.
                       //  27/10/10 [V4.0 R5.2] /MK Bug Fix - uHeatServiceFilt - If Inseminator Blank Error showed.
                       //                       /MK Bug - uWeighingFilt - uWeighingFilt - Changed HeaderBand To PageHeaderBand.

//  iHerdVerNo = 4050; // 06/10/10 [V4.0 R5.0] /MK Change - uElecWeigh - Read and Record moved to the same button.
                       //                                              - Allow Export of Animal List.
                       // 06/10/10 [V4.0 R5.0] /MK Change - Weighing - Changed Caption of Electronic to Link To Weighing Scale.

//  iHerdVerNo = 4049; //  30/09/10 [V4.0 R4.9] /MK Change - ActionReminderFilt - Changes layout of the DueToCalve screen as per Gerry's instructions.
                       //                                                       - Added three new RadioGroups - rgShowAnimalNoOrNatID, rgDueCalveSortBy, rgDueCalveSortOrder - in DueToCalve.
                       //                                                       - Pick up DueCalvingDefaults for new RadioGroups.
                       //                                                       - If DueToCalve.SortNatID then DueToCalve.Include NatID.
                       //                                                       - If DueToCalve.SortAnimalNo then DueToCalve.Include AnimalNo.
                       //  30/09/10 [V4.0 R4.9] /MK Change - ReportDefaults - Save new DueToCalve Report RadioGroups - rgShowAnimalNoOrNatID, rgDueCalveSortBy
                       //                                                   - Used SortOrderDefault for DueToCalve.
                       //  30/09/10 [V4.0 R4.9] /MK Change - DueToCalve - Added New Label For NatIDNum and new DBText For NatIDNum.
                       //                                               - Changed Left of some of the headings and DBText boxes
                       //                                                 (Pregnant, Last Birth, Last Calf, Bull and Service Type) to make
                       //                                                 the new NatIDNum heading fit.
                       //  01/10/10 [V4.0 R4.9] /MK Additional Feature - uHeatServiceScr - Added New Inseminator Label and DBText.
                       //  01/10/10 [V4.0 R4.9] /MK Additional Feature - uHeatServiceFilt - Added New Inseminator Field Into the Breeding Chart.
                       //                                                                 - Added Inseminator To rgBullService.
                       //  05/10/10 [V4.0 R4.9] /MK Additional Feature - uKImport - WriteEvents - If FCTSRegMarkAsRegistered then Events(Sale or Purchase).CTSReg := False
                       //                                                                         Else Events(Sale or Purchase).CTSReg := True.

//  iHerdVerNo = 4048; //  17/09/10 [V4.0 R4.8] /MK Additional Feature - uICBFPCDownloadImporter - Incorporated WinData.CheckEventExists Into btnServiceData.
                       //  27/09/10 [V4.0 R4.8] /MK Additional Feature - uMediPurch - Change "Batch In Use" to "Batch No. In Use" -  GL.
                       //  28/09/10 [V4.0 R4.8] /MK Change - ActionReminderFlt - Allowed ShortNatIDNum to take account of UK Tags.
                       //                                                      - Allowed for Irish Old Brass Tags and Old Plastic Tags.

//  iHerdVerNo = 4047; //  01/09/10 [V4.0 R4.7] /MK Bug Fix - uMilkRec - DoMilkRecording - New Boolean, RecDateFound, will be set if
                       //                                                this Milk Recording is the same as last recording. Therefore
                       //                                                the message "Milk Recording has not been saved" will not appear.
                       //  02/09/10 [V4.0 R4.7] /MK Additional Feature - uHUKIFarmEvents - New Tick Box "Export QMMS" if ticked then the
                       //                                                New Procedure AddQMMSMilkData will export Milk Data for QMMS.
                       //  08/09/10 [V4.0 R4.7] /MK Additional Feature - uBeefAISireRegister - New August 2010 Suckler/Beef Bull List Added.
                       //  08/09/10 [V4.0 R4.7] /MK Change - DairyData - TempCalvingAfterScroll now checks for DeadCalfNatID Variable.
                       //  08/09/10 [V4.0 R4.7] /MK Change - uCalvings - Moved Creation of AutoGenTag From TempCalvingNewRecord To
                       //                                                TempCalvingCalfDeadChange. Program already Run's Into
                       //                                                TempCalvingCalfDeadChange On FormCreate.
                       //  14/09/10 [V4.0 R4.7] /MK Change - uCalvings - If DefCountry Is England Then EditMask to DefaultNatIDMask.
                       //  14/09/10 [V4.0 R4.7] /MK Additional Feature - MenuUnit - GL - Stop The Customer From Adding Calving
                       //                                                                If Date Is Less Than 3 Months Ago.
                       //  15/09/10 [V4.0 R4.7] /MK Change - uCalvings - EnableMultipleCalves Changed To Show bNewCalf,
                       //                                                bCancelCalf and bRemoveCalf only if the CalfAddingOrAmending
                       //                                                is Add. If Amending then don't show.
                       //                                              - Label1 and HyperLinkEdit Visble Is False Where
                       //                                                CalfAddingOrAmending Is Amending and DefCountry Is England.
                       //                                              - HyperLinkEdit.Text Is Defaulted To "Manual Input" If
                       //                                                HerdLookup.HerdOwnerData.InputNatIDStyle = 0.
                       //                                              - bSet.Visible If Country Is <> Ireland And CalfAddingOrAmending
                       //                                                Is Add And cmboNatIDNum Is Not Visible.
                       //                                              - dbcbComplianceCert.Enabled If Country Is Ireland
                       //                                                And CalfAddingOrAmending Is Add.
                       //  15/09/10 [V4.0 R4.7] /MK Bug Fix - uCalfRegReview - eReceived and eOutstanding were set to Edit1 and Edit2 respectively.
                       //  16/09/10 [V4.0 R4.7] /SP Change - uCalfRegReview - set eOutstanding to show all calves that are not ticked as Received.
                       //                                                     Michelle thought this was a bug. New feature to be added in future
                       //                                                     version to filter by year.

//  iHerdVerNo = 4046; //  28/08/10 [V4.0 R4.6] /MK Additional Feature - uMilkRec - DoMilkRecording - Only Check NatID Against Animal No Where Country Is England.
                       //                                                         - ConvertDSMember - If Animal In C1 Line And C1 LiveFlag Is 0
                       //                                                                             Then Animal Live So Add To NMRAnimalList.
                       //  25/08/10 [V4.0 R4.6] /MK Change - - StockInHerdFlt - Dunbia Change to Sort By HerdID and then SortByType Date Removed
                       //                                                     - GL - Because Coolmore Stud  Wants To Sort Just By Date
                       //                                                     - Dunbia Should Just Print Separate Reports.
                       //  30/08/10 [V4.0 R4.6] /MK Bug Fix - uMilkRec - sbExecRecord - Daily BFat and Prot Not Being Saved If DaysInMilk > 305


//  iHerdVerNo = 4045; //  17/08/10 [V4.0 R4.5] /MK Bug Fix - MenuUnit - Check for AIBullListUpdate where HerdType <> Beef and Country is Ireland.
                       //  20/08/10 [V4.0 R4.5] /MK Additional Feature - uMilkRec - DoMilkRecording -  TempAnimals.NatIDNum has either UK
                       //                                                           or IE then strip UK or IE to match against TempMilk.
                       //  23/08/10 [V4.0 R4.5] /MK Bug - uMilkRec - CheckAnimals - not working for anything other than England. I had to add a
                       //                                            Begin/End in between the IF Statement for FCountry.
                       //  23/08/10 [V4.0 R4.5] /MK Additional Feature - uMilkRec - DoMilkRecording -  Strip Spaces from the Tag Number before it goes into the TempAnimals
                       //                                                           table so matching perfectly.


//  iHerdVerNo = 4044; //  17/08/10 [V4.0 R4.4] /MK - DairyData - TempCalvingAfterScroll was not set to look at DefaultNatIDMask where DefCountry <> Ireland.

//  iHerdVerNo = 4043; // MK -  Milk Recording - Change for UK to take out UK and spaces from Tag on Milk File when matching Tag Number.
                       // MK - CIS Export File - Export UKAISireCode From Animals Where UKAISireCode is <> ''.

//  iHerdVerNo = 4042; // Animal Welfare Scheme: re-introduction of the check for the no. of permissible weanings.

//  iHerdVerNo = 4041; // Calvings - Allow Dead Calf to be entered without valid tag. Default Tag to ABOR + DamNatIDNo + Month + Year.
                       // ICBF Export - Allow Invalid Tag to be registered from DeadCalf Tag but remove Tag and Sex from File Export.
                       // Milk Recording - Allow CIS Milk Recording to be Matched by Tag Number - UK Only (Not Ireland or NIreland).
                       // Main Menu - Days On Farm now looking at SaleDate.

//  iHerdVerNo = 4040; // Service - Changed qBullUsed to show only bulls that have an AnimalNo.
                       // Allowed import of Gallagher Electronic Weighings File.

//  iHerdVerNo = 4039; // Allow manual entry of bulk tank readings, new cxgrids imployed.
                       // Import ElectronicID from PDAEvents purchases, calvings.

//  iHerdVerNo = 4038; // Change in Quota Planner - annual Bfat % from 0.18 to 0.09

//  iHerdVerNo = 4037; // Enabled sending of Mart/Remittance email request by hotmail/gmail.

//  iHerdVerNo = 4036; // fix in weighingflt.pas - Inner join moved to after left joins.
                       // moorepark update, supplier and customer field length increased.

//  iHerdVerNo = 4034; // fix in weighingflt.pas - Inner join moved to after left joins.

//  iHerdVerNo = 4031; // Remove natidno formatting in BCMS reconciliation. - Alan Ramsey scottish customer.
                       // 18/03/10 - Remove duplicate group movements from the PDAevents table. These duplicates arose when Windows CE / Hotsync crashed during hotsync operation.
                       // 11/03/10 - Facilitator role enabled.

//  iHerdVerNo = 4030; // 11/03/10 - Update to Getting Started screen allowing user to setup a hotmail address and link to email settings screen.  }

//  iHerdVerNo = 4028; // 26/02/10 - CTS Movements/Births , auto remove Nat Id. No. formatting for all tags. / Mart Import/Export Limit SourceName to length 30, max length of name field in SupplierBreeds/Customers

//  iHerdVerNo = 4027; // 17/02/10 - New xml support for Movements In/Out adding breeding/health/dam&sire/milk lactations
                       //           to import/export, also added new Select All button to Multiple animal events

// iHerdVerNo = 4026;  // 04/02/10 - Fixed bug in determining the KingswdDBName

//  iHerdVerNo = 4025; // 28/1/10 - Tidy up of Preferences,
                       // 01/2/10   Exclude blank lines from Movements In file,
                       // 04/2/10   Killout Perc worked out for heinz eggert -
                       //          he was not happy hhow program calcs Killouts
                       //          based on Christy Wastson Killout matrix

//  iHerdVerNo = 4024; // 25/1/10 - CTS Field incorporated into EventRecording.TSaleDeath Event, Remove auto calc of Dead Weigth from Sale event.}

//  iHerdVerNo = 4023; // 18/1/10 - Auto Complete PDA Calvings, Register Dead Calf with Bandon, Updated NI Breed Table 'VOS',  Mullnahone Co-op Tel No. changes.

16/9/2004 - 'KHM V3.7 R1.9'
 - Phone Modularised. Set existing customer phonelink module status to disabled.
   Customers who are using phonelink pre modularisation will ringn in and have definition
   file updated to include phonelink.

